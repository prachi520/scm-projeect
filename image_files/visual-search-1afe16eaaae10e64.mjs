(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14865,93810,27231,3986,27192,93907,86058,12912,24321,19849,89197,12272,15071,76811,5834],{240684:(e,i,t)=>{"use strict";t.d(i,{TA:()=>w,ZP:()=>I});var n=t(667294),l=t(263366),a=t(487462),r=t(497326),o=t(894578),s=t(659864),d=t(108679),u=t.n(d);function c(e){console.warn("loadable: "+e)}var p=n.createContext(),m={initialChunks:{}},_="PENDING",h="REJECTED",g=function(e){return e};function y(e){var i=e.defaultResolveComponent,t=void 0===i?g:i,d=e.render,c=e.onLoad;function y(e,i){void 0===i&&(i={});var g,y="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,v={};function f(e){return i.cacheKey?i.cacheKey(e):y.resolve?y.resolve(e):"static"}function x(e,n,l){var a=i.resolveComponent?i.resolveComponent(e,n):t(e);if(i.resolveComponent&&!(0,s.isValidElementType)(a))throw Error("resolveComponent returned something that is not a React component!");return u()(l,a,{preload:!0}),a}var b=(g=function(e){function t(t){var n;return((n=e.call(this,t)||this).state={result:null,error:null,loading:!0,cacheKey:f(t)},function(e,i){if(!e){var t=Error("loadable: "+i);throw t.framesToPop=1,t.name="Invariant Violation",t}}(!t.__chunkExtractor||y.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),t.__chunkExtractor)?(!1===i.ssr||(y.requireAsync(t).catch(function(){return null}),n.loadSync(),t.__chunkExtractor.addChunk(y.chunkName(t))),(0,r.Z)(n)):(!1!==i.ssr&&(y.isReady&&y.isReady(t)||y.chunkName&&m.initialChunks[y.chunkName(t)])&&n.loadSync(),n)}(0,o.Z)(t,e),t.getDerivedStateFromProps=function(e,i){var t=f(e);return(0,a.Z)({},i,{cacheKey:t,loading:i.loading||i.cacheKey!==t})};var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===h&&this.setCache(),this.state.loading&&this.loadAsync()},n.componentDidUpdate=function(e,i){i.cacheKey!==this.state.cacheKey&&this.loadAsync()},n.componentWillUnmount=function(){this.mounted=!1},n.safeSetState=function(e,i){this.mounted&&this.setState(e,i)},n.getCacheKey=function(){return f(this.props)},n.getCache=function(){return v[this.getCacheKey()]},n.setCache=function(e){void 0===e&&(e=void 0),v[this.getCacheKey()]=e},n.triggerOnLoad=function(){var e=this;c&&setTimeout(function(){c(e.state.result,e.props)})},n.loadSync=function(){if(this.state.loading)try{var e=y.requireSync(this.props),i=x(e,this.props,S);this.state.result=i,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:y.resolve(this.props),chunkName:y.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},n.loadAsync=function(){var e=this,i=this.resolveAsync();return i.then(function(i){var t=x(i,e.props,{Loadable:S});e.safeSetState({result:t,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(i){return e.safeSetState({error:i,loading:!1})}),i},n.resolveAsync=function(){var e=this,i=this.props,t=(i.__chunkExtractor,i.forwardedRef,(0,l.Z)(i,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=y.requireAsync(t)).status=_,this.setCache(n),n.then(function(){n.status="RESOLVED"},function(i){console.error("loadable-components: failed to asynchronously load component",{fileName:y.resolve(e.props),chunkName:y.chunkName(e.props),error:i?i.message:i}),n.status=h})),n},n.render=function(){var e=this.props,t=e.forwardedRef,n=e.fallback,r=(e.__chunkExtractor,(0,l.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),o=this.state,s=o.error,u=o.loading,c=o.result;if(i.suspense&&(this.getCache()||this.loadAsync()).status===_)throw this.loadAsync();if(s)throw s;var p=n||i.fallback||null;return u?p:d({fallback:p,result:c,options:i,props:(0,a.Z)({},r,{ref:t})})},t}(n.Component),function(e){return n.createElement(p.Consumer,null,function(i){return n.createElement(g,Object.assign({__chunkExtractor:i},e))})}),S=n.forwardRef(function(e,i){return n.createElement(b,Object.assign({forwardedRef:i},e))});return S.preload=function(e){y.requireAsync(e)},S.load=function(e){return y.requireAsync(e)},S}return{loadable:y,lazy:function(e,i){return y(e,(0,a.Z)({},i,{suspense:!0}))}}}var v=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var i=e.result,t=e.props;return n.createElement(i,t)}}),f=v.loadable,x=v.lazy,b=y({onLoad:function(e,i){e&&i.forwardedRef&&("function"==typeof i.forwardedRef?i.forwardedRef(e):i.forwardedRef.current=e)},render:function(e){var i=e.result,t=e.props;return t.children?t.children(i):null}}),S=b.loadable,P=b.lazy,k="undefined"!=typeof window;function w(e,i){void 0===e&&(e=function(){});var t=(void 0===i?{}:i).namespace;if(!k)return c("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var n=null;if(k){var l=""+(void 0===t?"":t)+"__LOADABLE_REQUIRED_CHUNKS__",a=document.getElementById(l);if(a){n=JSON.parse(a.textContent);var r=document.getElementById(l+"_ext");if(r)JSON.parse(r.textContent).namedChunks.forEach(function(e){m.initialChunks[e]=!0});else throw Error("loadable-component: @loadable/server does not match @loadable/component")}}if(!n)return c("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var o=!1;return new Promise(function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var i=window.__LOADABLE_LOADED_CHUNKS__,t=i.push.bind(i);function l(){n.every(function(e){return i.some(function(i){return i[0].indexOf(e)>-1})})&&!o&&(o=!0,e())}i.push=function(){t.apply(void 0,arguments),l()},l()}).then(e)}f.lib=S,x.lib=P;let I=f},294184:(e,i)=>{var t;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function l(){for(var e=[],i=0;i<arguments.length;i++){var t=arguments[i];if(t){var a=typeof t;if("string"===a||"number"===a)e.push(t);else if(Array.isArray(t)&&t.length){var r=l.apply(null,t);r&&e.push(r)}else if("object"===a)for(var o in t)n.call(t,o)&&t[o]&&e.push(o)}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0!==(t=(function(){return l}).apply(i,[]))&&(e.exports=t)}()},701305:e=>{"use strict";var i=[],t=[];e.exports=/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function(e,n){var l=i.length?i.pop():[],a=t.length?t.pop():[],r=function e(i,t,n,l){if(i===t)return 0!==i||1/i==1/t;if(null==i||null==t||"object"!=typeof i||"object"!=typeof t)return!1;var a=Object.prototype.toString,r=a.call(i);if(r!=a.call(t))return!1;switch(r){case"[object String]":return i==String(t);case"[object Number]":return!(isNaN(i)||isNaN(t))&&i==Number(t);case"[object Date]":case"[object Boolean]":return+i==+t;case"[object RegExp]":return i.source==t.source&&i.global==t.global&&i.multiline==t.multiline&&i.ignoreCase==t.ignoreCase}for(var o=n.length;o--;)if(n[o]==i)return l[o]==t;n.push(i),l.push(t);var s=0;if("[object Array]"===r){if((s=i.length)!==t.length)return!1;for(;s--;)if(!e(i[s],t[s],n,l))return!1}else{if(i.constructor!==t.constructor)return!1;if(i.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return i.valueOf()==t.valueOf();var d=Object.keys(i);if(d.length!=Object.keys(t).length)return!1;for(var u=0;u<d.length;u++)if(!e(i[d[u]],t[d[u]],n,l))return!1}return n.pop(),l.pop(),!0}(e,n,l,a);return l.length=0,a.length=0,i.push(l),t.push(a),r}},60139:e=>{"use strict";function i(e){return function(){return e}}var t=function(){};t.thatReturns=i,t.thatReturnsFalse=i(!1),t.thatReturnsTrue=i(!0),t.thatReturnsNull=i(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(e){return e},e.exports=t},663620:(e,i,t)=>{"use strict";var n=t(60139);e.exports=n},108679:(e,i,t)=>{"use strict";var n=t(121296),l={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return n.isMemo(e)?r:o[e.$$typeof]||l}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=r;var d=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,_=Object.prototype;e.exports=function e(i,t,n){if("string"!=typeof t){if(_){var l=m(t);l&&l!==_&&e(i,l,n)}var r=u(t);c&&(r=r.concat(c(t)));for(var o=s(i),h=s(t),g=0;g<r.length;++g){var y=r[g];if(!a[y]&&!(n&&n[y])&&!(h&&h[y])&&!(o&&o[y])){var v=p(t,y);try{d(i,y,v)}catch(e){}}}}return i}},396103:(e,i)=>{"use strict";/** @license React v16.8.4
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(i,"__esModule",{value:!0});var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,l=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,_=t?Symbol.for("react.memo"):60115,h=t?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var i=e.$$typeof;switch(i){case n:switch(e=e.type){case u:case c:case a:case o:case r:case m:return e;default:switch(e=e&&e.$$typeof){case d:case p:case s:return e;default:return i}}case h:case _:case l:return i}}}function y(e){return g(e)===c}i.typeOf=g,i.AsyncMode=u,i.ConcurrentMode=c,i.ContextConsumer=d,i.ContextProvider=s,i.Element=n,i.ForwardRef=p,i.Fragment=a,i.Lazy=h,i.Memo=_,i.Portal=l,i.Profiler=o,i.StrictMode=r,i.Suspense=m,i.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===c||e===o||e===r||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===_||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p)},i.isAsyncMode=function(e){return y(e)||g(e)===u},i.isConcurrentMode=y,i.isContextConsumer=function(e){return g(e)===d},i.isContextProvider=function(e){return g(e)===s},i.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},i.isForwardRef=function(e){return g(e)===p},i.isFragment=function(e){return g(e)===a},i.isLazy=function(e){return g(e)===h},i.isMemo=function(e){return g(e)===_},i.isPortal=function(e){return g(e)===l},i.isProfiler=function(e){return g(e)===o},i.isStrictMode=function(e){return g(e)===r},i.isSuspense=function(e){return g(e)===m}},121296:(e,i,t)=>{"use strict";e.exports=t(396103)},618552:(e,i,t)=>{var n=t(610852)(t(555639),"DataView");e.exports=n},853818:(e,i,t)=>{var n=t(610852)(t(555639),"Promise");e.exports=n},458525:(e,i,t)=>{var n=t(610852)(t(555639),"Set");e.exports=n},288668:(e,i,t)=>{var n=t(883369),l=t(90619),a=t(572385);function r(e){var i=-1,t=null==e?0:e.length;for(this.__data__=new n;++i<t;)this.add(e[i])}r.prototype.add=r.prototype.push=l,r.prototype.has=a,e.exports=r},70577:(e,i,t)=>{var n=t(610852)(t(555639),"WeakMap");e.exports=n},896874:e=>{e.exports=function(e,i,t){switch(t.length){case 0:return e.call(i);case 1:return e.call(i,t[0]);case 2:return e.call(i,t[0],t[1]);case 3:return e.call(i,t[0],t[1],t[2])}return e.apply(i,t)}},477412:e=>{e.exports=function(e,i){for(var t=-1,n=null==e?0:e.length;++t<n&&!1!==i(e[t],t,e););return e}},234963:e=>{e.exports=function(e,i){for(var t=-1,n=null==e?0:e.length,l=0,a=[];++t<n;){var r=e[t];i(r,t,e)&&(a[l++]=r)}return a}},862488:e=>{e.exports=function(e,i){for(var t=-1,n=i.length,l=e.length;++t<n;)e[l+t]=i[t];return e}},282908:e=>{e.exports=function(e,i){for(var t=-1,n=null==e?0:e.length;++t<n;)if(i(e[t],t,e))return!0;return!1}},286556:(e,i,t)=>{var n=t(789465),l=t(977813);e.exports=function(e,i,t){(void 0===t||l(e[i],t))&&(void 0!==t||i in e)||n(e,i,t)}},234865:(e,i,t)=>{var n=t(789465),l=t(977813),a=Object.prototype.hasOwnProperty;e.exports=function(e,i,t){var r=e[i];a.call(e,i)&&l(r,t)&&(void 0!==t||i in e)||n(e,i,t)}},744037:(e,i,t)=>{var n=t(698363),l=t(3674);e.exports=function(e,i){return e&&n(i,l(i),e)}},163886:(e,i,t)=>{var n=t(698363),l=t(481704);e.exports=function(e,i){return e&&n(i,l(i),e)}},789465:(e,i,t)=>{var n=t(538777);e.exports=function(e,i,t){"__proto__"==i&&n?n(e,i,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[i]=t}},285990:(e,i,t)=>{var n=t(646384),l=t(477412),a=t(234865),r=t(744037),o=t(163886),s=t(364626),d=t(200278),u=t(318805),c=t(201911),p=t(458234),m=t(946904),_=t(664160),h=t(43824),g=t(529148),y=t(738517),v=t(701469),f=t(644144),x=t(356688),b=t(513218),S=t(472928),P=t(3674),k=t(481704),w="[object Arguments]",I="[object Function]",T="[object Object]",j={};j[w]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[T]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[I]=j["[object WeakMap]"]=!1,e.exports=function e(i,t,A,E,C,F){var R,L=1&t,D=2&t,O=4&t;if(A&&(R=C?A(i,E,C,F):A(i)),void 0!==R)return R;if(!b(i))return i;var N=v(i);if(N){if(R=h(i),!L)return d(i,R)}else{var z=_(i),M=z==I||"[object GeneratorFunction]"==z;if(f(i))return s(i,L);if(z==T||z==w||M&&!C){if(R=D||M?{}:y(i),!L)return D?c(i,o(R,i)):u(i,r(R,i))}else{if(!j[z])return C?i:{};R=g(i,z,L)}}F||(F=new n);var K=F.get(i);if(K)return K;F.set(i,R),S(i)?i.forEach(function(n){R.add(e(n,t,A,n,i,F))}):x(i)&&i.forEach(function(n,l){R.set(l,e(n,t,A,l,i,F))});var Z=O?D?m:p:D?k:P,B=N?void 0:Z(i);return l(B||i,function(n,l){B&&(n=i[l=n]),a(R,l,e(n,t,A,l,i,F))}),R}},603118:(e,i,t)=>{var n=t(513218),l=Object.create,a=function(){function e(){}return function(i){if(!n(i))return{};if(l)return l(i);e.prototype=i;var t=new e;return e.prototype=void 0,t}}();e.exports=a},228483:(e,i,t)=>{var n=t(225063)();e.exports=n},868866:(e,i,t)=>{var n=t(862488),l=t(701469);e.exports=function(e,i,t){var a=i(e);return l(e)?a:n(a,t(e))}},690939:(e,i,t)=>{var n=t(902492),l=t(637005);e.exports=function e(i,t,a,r,o){return i===t||(null!=i&&null!=t&&(l(i)||l(t))?n(i,t,a,r,e,o):i!=i&&t!=t)}},902492:(e,i,t)=>{var n=t(646384),l=t(967114),a=t(518351),r=t(916096),o=t(664160),s=t(701469),d=t(644144),u=t(936719),c="[object Arguments]",p="[object Array]",m="[object Object]",_=Object.prototype.hasOwnProperty;e.exports=function(e,i,t,h,g,y){var v=s(e),f=s(i),x=v?p:o(e),b=f?p:o(i);x=x==c?m:x,b=b==c?m:b;var S=x==m,P=b==m,k=x==b;if(k&&d(e)){if(!d(i))return!1;v=!0,S=!1}if(k&&!S)return y||(y=new n),v||u(e)?l(e,i,t,h,g,y):a(e,i,x,t,h,g,y);if(!(1&t)){var w=S&&_.call(e,"__wrapped__"),I=P&&_.call(i,"__wrapped__");if(w||I){var T=w?e.value():e,j=I?i.value():i;return y||(y=new n),g(T,j,t,h,y)}}return!!k&&(y||(y=new n),r(e,i,t,h,g,y))}},225588:(e,i,t)=>{var n=t(664160),l=t(637005);e.exports=function(e){return l(e)&&"[object Map]"==n(e)}},829221:(e,i,t)=>{var n=t(664160),l=t(637005);e.exports=function(e){return l(e)&&"[object Set]"==n(e)}},400280:(e,i,t)=>{var n=t(225726),l=t(86916),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return l(e);var i=[];for(var t in Object(e))a.call(e,t)&&"constructor"!=t&&i.push(t);return i}},710313:(e,i,t)=>{var n=t(513218),l=t(225726),a=t(133498),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var i=l(e),t=[];for(var o in e)"constructor"==o&&(i||!r.call(e,o))||t.push(o);return t}},642980:(e,i,t)=>{var n=t(646384),l=t(286556),a=t(228483),r=t(559783),o=t(513218),s=t(481704),d=t(636390);e.exports=function e(i,t,u,c,p){i!==t&&a(t,function(a,s){if(p||(p=new n),o(a))r(i,t,s,u,e,c,p);else{var m=c?c(d(i,s),a,s+"",i,t,p):void 0;void 0===m&&(m=a),l(i,s,m)}},s)}},559783:(e,i,t)=>{var n=t(286556),l=t(364626),a=t(477133),r=t(200278),o=t(738517),s=t(135694),d=t(701469),u=t(229246),c=t(644144),p=t(623560),m=t(513218),_=t(968630),h=t(936719),g=t(636390),y=t(959881);e.exports=function(e,i,t,v,f,x,b){var S=g(e,t),P=g(i,t),k=b.get(P);if(k){n(e,t,k);return}var w=x?x(S,P,t+"",e,i,b):void 0,I=void 0===w;if(I){var T=d(P),j=!T&&c(P),A=!T&&!j&&h(P);w=P,T||j||A?d(S)?w=S:u(S)?w=r(S):j?(I=!1,w=l(P,!0)):A?(I=!1,w=a(P,!0)):w=[]:_(P)||s(P)?(w=S,s(S)?w=y(S):(!m(S)||p(S))&&(w=o(P))):I=!1}I&&(b.set(P,w),f(w,P,v,x,b),b.delete(P)),n(e,t,w)}},105976:(e,i,t)=>{var n=t(406557),l=t(545357),a=t(430061);e.exports=function(e,i){return a(l(e,i,n),e+"")}},356560:(e,i,t)=>{var n=t(575703),l=t(538777),a=t(406557),r=l?function(e,i){return l(e,"toString",{configurable:!0,enumerable:!1,value:n(i),writable:!0})}:a;e.exports=r},727561:(e,i,t)=>{var n=t(567990),l=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(l,""):e}},274757:e=>{e.exports=function(e,i){return e.has(i)}},274318:(e,i,t)=>{var n=t(611149);e.exports=function(e){var i=new e.constructor(e.byteLength);return new n(i).set(new n(e)),i}},364626:(e,i,t)=>{e=t.nmd(e);var n=t(555639),l=i&&!i.nodeType&&i,a=l&&e&&!e.nodeType&&e,r=a&&a.exports===l?n.Buffer:void 0,o=r?r.allocUnsafe:void 0;e.exports=function(e,i){if(i)return e.slice();var t=e.length,n=o?o(t):new e.constructor(t);return e.copy(n),n}},257157:(e,i,t)=>{var n=t(274318);e.exports=function(e,i){var t=i?n(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}},593147:e=>{var i=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,i.exec(e));return t.lastIndex=e.lastIndex,t}},540419:(e,i,t)=>{var n=t(562705),l=n?n.prototype:void 0,a=l?l.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},477133:(e,i,t)=>{var n=t(274318);e.exports=function(e,i){var t=i?n(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}},200278:e=>{e.exports=function(e,i){var t=-1,n=e.length;for(i||(i=Array(n));++t<n;)i[t]=e[t];return i}},698363:(e,i,t)=>{var n=t(234865),l=t(789465);e.exports=function(e,i,t,a){var r=!t;t||(t={});for(var o=-1,s=i.length;++o<s;){var d=i[o],u=a?a(t[d],e[d],d,t,e):void 0;void 0===u&&(u=e[d]),r?l(t,d,u):n(t,d,u)}return t}},318805:(e,i,t)=>{var n=t(698363),l=t(799551);e.exports=function(e,i){return n(e,l(e),i)}},201911:(e,i,t)=>{var n=t(698363),l=t(151442);e.exports=function(e,i){return n(e,l(e),i)}},321463:(e,i,t)=>{var n=t(105976),l=t(816612);e.exports=function(e){return n(function(i,t){var n=-1,a=t.length,r=a>1?t[a-1]:void 0,o=a>2?t[2]:void 0;for(r=e.length>3&&"function"==typeof r?(a--,r):void 0,o&&l(t[0],t[1],o)&&(r=a<3?void 0:r,a=1),i=Object(i);++n<a;){var s=t[n];s&&e(i,s,n,r)}return i})}},225063:e=>{e.exports=function(e){return function(i,t,n){for(var l=-1,a=Object(i),r=n(i),o=r.length;o--;){var s=r[e?o:++l];if(!1===t(a[s],s,a))break}return i}}},538777:(e,i,t)=>{var n=t(610852),l=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=l},967114:(e,i,t)=>{var n=t(288668),l=t(282908),a=t(274757);e.exports=function(e,i,t,r,o,s){var d=1&t,u=e.length,c=i.length;if(u!=c&&!(d&&c>u))return!1;var p=s.get(e),m=s.get(i);if(p&&m)return p==i&&m==e;var _=-1,h=!0,g=2&t?new n:void 0;for(s.set(e,i),s.set(i,e);++_<u;){var y=e[_],v=i[_];if(r)var f=d?r(v,y,_,i,e,s):r(y,v,_,e,i,s);if(void 0!==f){if(f)continue;h=!1;break}if(g){if(!l(i,function(e,i){if(!a(g,i)&&(y===e||o(y,e,t,r,s)))return g.push(i)})){h=!1;break}}else if(!(y===v||o(y,v,t,r,s))){h=!1;break}}return s.delete(e),s.delete(i),h}},518351:(e,i,t)=>{var n=t(562705),l=t(611149),a=t(977813),r=t(967114),o=t(668776),s=t(321814),d=n?n.prototype:void 0,u=d?d.valueOf:void 0;e.exports=function(e,i,t,n,d,c,p){switch(t){case"[object DataView]":if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)break;e=e.buffer,i=i.buffer;case"[object ArrayBuffer]":if(e.byteLength!=i.byteLength||!c(new l(e),new l(i)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+i);case"[object Error]":return e.name==i.name&&e.message==i.message;case"[object RegExp]":case"[object String]":return e==i+"";case"[object Map]":var m=o;case"[object Set]":var _=1&n;if(m||(m=s),e.size!=i.size&&!_)break;var h=p.get(e);if(h)return h==i;n|=2,p.set(e,i);var g=r(m(e),m(i),n,d,c,p);return p.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(i)}return!1}},916096:(e,i,t)=>{var n=t(458234),l=Object.prototype.hasOwnProperty;e.exports=function(e,i,t,a,r,o){var s=1&t,d=n(e),u=d.length;if(u!=n(i).length&&!s)return!1;for(var c=u;c--;){var p=d[c];if(!(s?p in i:l.call(i,p)))return!1}var m=o.get(e),_=o.get(i);if(m&&_)return m==i&&_==e;var h=!0;o.set(e,i),o.set(i,e);for(var g=s;++c<u;){var y=e[p=d[c]],v=i[p];if(a)var f=s?a(v,y,p,i,e,o):a(y,v,p,e,i,o);if(!(void 0===f?y===v||r(y,v,t,a,o):f)){h=!1;break}g||(g="constructor"==p)}if(h&&!g){var x=e.constructor,b=i.constructor;x!=b&&"constructor"in e&&"constructor"in i&&!("function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b)&&(h=!1)}return o.delete(e),o.delete(i),h}},458234:(e,i,t)=>{var n=t(868866),l=t(799551),a=t(3674);e.exports=function(e){return n(e,a,l)}},946904:(e,i,t)=>{var n=t(868866),l=t(151442),a=t(481704);e.exports=function(e){return n(e,a,l)}},385924:(e,i,t)=>{var n=t(205569)(Object.getPrototypeOf,Object);e.exports=n},799551:(e,i,t)=>{var n=t(234963),l=t(770479),a=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,o=r?function(e){return null==e?[]:n(r(e=Object(e)),function(i){return a.call(e,i)})}:l;e.exports=o},151442:(e,i,t)=>{var n=t(862488),l=t(385924),a=t(799551),r=t(770479),o=Object.getOwnPropertySymbols?function(e){for(var i=[];e;)n(i,a(e)),e=l(e);return i}:r;e.exports=o},664160:(e,i,t)=>{var n=t(618552),l=t(357071),a=t(853818),r=t(458525),o=t(70577),s=t(644239),d=t(680346),u="[object Map]",c="[object Promise]",p="[object Set]",m="[object WeakMap]",_="[object DataView]",h=d(n),g=d(l),y=d(a),v=d(r),f=d(o),x=s;(n&&x(new n(new ArrayBuffer(1)))!=_||l&&x(new l)!=u||a&&x(a.resolve())!=c||r&&x(new r)!=p||o&&x(new o)!=m)&&(x=function(e){var i=s(e),t="[object Object]"==i?e.constructor:void 0,n=t?d(t):"";if(n)switch(n){case h:return _;case g:return u;case y:return c;case v:return p;case f:return m}return i}),e.exports=x},43824:e=>{var i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},529148:(e,i,t)=>{var n=t(274318),l=t(257157),a=t(593147),r=t(540419),o=t(477133);e.exports=function(e,i,t){var s=e.constructor;switch(i){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return l(e,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(e,t);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return a(e);case"[object Symbol]":return r(e)}}},738517:(e,i,t)=>{var n=t(603118),l=t(385924),a=t(225726);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:n(l(e))}},816612:(e,i,t)=>{var n=t(977813),l=t(498612),a=t(565776),r=t(513218);e.exports=function(e,i,t){if(!r(t))return!1;var o=typeof i;return("number"==o?!!(l(t)&&a(i,t.length)):"string"==o&&i in t)&&n(t[i],e)}},668776:e=>{e.exports=function(e){var i=-1,t=Array(e.size);return e.forEach(function(e,n){t[++i]=[n,e]}),t}},86916:(e,i,t)=>{var n=t(205569)(Object.keys,Object);e.exports=n},133498:e=>{e.exports=function(e){var i=[];if(null!=e)for(var t in Object(e))i.push(t);return i}},545357:(e,i,t)=>{var n=t(896874),l=Math.max;e.exports=function(e,i,t){return i=l(void 0===i?e.length-1:i,0),function(){for(var a=arguments,r=-1,o=l(a.length-i,0),s=Array(o);++r<o;)s[r]=a[i+r];r=-1;for(var d=Array(i+1);++r<i;)d[r]=a[r];return d[i]=t(s),n(e,this,d)}}},636390:e=>{e.exports=function(e,i){if(("constructor"!==i||"function"!=typeof e[i])&&"__proto__"!=i)return e[i]}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var i=-1,t=Array(e.size);return e.forEach(function(e){t[++i]=e}),t}},430061:(e,i,t)=>{var n=t(356560),l=t(521275)(n);e.exports=l},521275:e=>{var i=Date.now;e.exports=function(e){var t=0,n=0;return function(){var l=i(),a=16-(l-n);if(n=l,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},567990:e=>{var i=/\s/;e.exports=function(e){for(var t=e.length;t--&&i.test(e.charAt(t)););return t}},150361:(e,i,t)=>{var n=t(285990);e.exports=function(e){return n(e,5)}},575703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,i,t)=>{var n=t(513218),l=t(707771),a=t(14841),r=Math.max,o=Math.min;e.exports=function(e,i,t){var s,d,u,c,p,m,_=0,h=!1,g=!1,y=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(i){var t=s,n=d;return s=d=void 0,_=i,c=e.apply(n,t)}function f(e){var t=e-m,n=e-_;return void 0===m||t>=i||t<0||g&&n>=u}function x(){var e,t,n,a=l();if(f(a))return b(a);p=setTimeout(x,(e=a-m,t=a-_,n=i-e,g?o(n,u-t):n))}function b(e){return(p=void 0,y&&s)?v(e):(s=d=void 0,c)}function S(){var e,t=l(),n=f(t);if(s=arguments,d=this,m=t,n){if(void 0===p)return _=e=m,p=setTimeout(x,i),h?v(e):c;if(g)return clearTimeout(p),p=setTimeout(x,i),v(m)}return void 0===p&&(p=setTimeout(x,i)),c}return i=a(i)||0,n(t)&&(h=!!t.leading,u=(g="maxWait"in t)?r(a(t.maxWait)||0,i):u,y="trailing"in t?!!t.trailing:y),S.cancel=function(){void 0!==p&&clearTimeout(p),_=0,s=m=d=p=void 0},S.flush=function(){return void 0===p?c:b(l())},S}},406557:e=>{e.exports=function(e){return e}},229246:(e,i,t)=>{var n=t(498612),l=t(637005);e.exports=function(e){return l(e)&&n(e)}},618446:(e,i,t)=>{var n=t(690939);e.exports=function(e,i){return n(e,i)}},356688:(e,i,t)=>{var n=t(225588),l=t(307518),a=t(531167),r=a&&a.isMap,o=r?l(r):n;e.exports=o},968630:(e,i,t)=>{var n=t(644239),l=t(385924),a=t(637005),r=Object.prototype,o=Function.prototype.toString,s=r.hasOwnProperty,d=o.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=n(e))return!1;var i=l(e);if(null===i)return!0;var t=s.call(i,"constructor")&&i.constructor;return"function"==typeof t&&t instanceof t&&o.call(t)==d}},472928:(e,i,t)=>{var n=t(829221),l=t(307518),a=t(531167),r=a&&a.isSet,o=r?l(r):n;e.exports=o},733448:(e,i,t)=>{var n=t(644239),l=t(637005);e.exports=function(e){return"symbol"==typeof e||l(e)&&"[object Symbol]"==n(e)}},3674:(e,i,t)=>{var n=t(14636),l=t(400280),a=t(498612);e.exports=function(e){return a(e)?n(e):l(e)}},481704:(e,i,t)=>{var n=t(14636),l=t(710313),a=t(498612);e.exports=function(e){return a(e)?n(e,!0):l(e)}},682492:(e,i,t)=>{var n=t(642980),l=t(321463)(function(e,i,t){n(e,i,t)});e.exports=l},707771:(e,i,t)=>{var n=t(555639);e.exports=function(){return n.Date.now()}},770479:e=>{e.exports=function(){return[]}},14841:(e,i,t)=>{var n=t(727561),l=t(513218),a=t(733448),r=0/0,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,d=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return r;if(l(e)){var i="function"==typeof e.valueOf?e.valueOf():e;e=l(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var t=s.test(e);return t||d.test(e)?u(e.slice(2),t?2:8):o.test(e)?r:+e}},959881:(e,i,t)=>{var n=t(698363),l=t(481704);e.exports=function(e){return n(e,l(e))}},869921:(e,i)=>{"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,l=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,_=t?Symbol.for("react.suspense_list"):60120,h=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,f=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var i=e.$$typeof;switch(i){case n:switch(e=e.type){case u:case c:case a:case o:case r:case m:return e;default:switch(e=e&&e.$$typeof){case d:case p:case g:case h:case s:return e;default:return i}}case l:return i}}}function S(e){return b(e)===c}i.AsyncMode=u,i.ConcurrentMode=c,i.ContextConsumer=d,i.ContextProvider=s,i.Element=n,i.ForwardRef=p,i.Fragment=a,i.Lazy=g,i.Memo=h,i.Portal=l,i.Profiler=o,i.StrictMode=r,i.Suspense=m,i.isAsyncMode=function(e){return S(e)||b(e)===u},i.isConcurrentMode=S,i.isContextConsumer=function(e){return b(e)===d},i.isContextProvider=function(e){return b(e)===s},i.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},i.isForwardRef=function(e){return b(e)===p},i.isFragment=function(e){return b(e)===a},i.isLazy=function(e){return b(e)===g},i.isMemo=function(e){return b(e)===h},i.isPortal=function(e){return b(e)===l},i.isProfiler=function(e){return b(e)===o},i.isStrictMode=function(e){return b(e)===r},i.isSuspense=function(e){return b(e)===m},i.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===c||e===o||e===r||e===m||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p||e.$$typeof===v||e.$$typeof===f||e.$$typeof===x||e.$$typeof===y)},i.typeOf=b},659864:(e,i,t)=>{"use strict";e.exports=t(869921)},615071:(e,i,t)=>{"use strict";t.d(i,{Z:()=>x});var n=t(487462),l=t(263366),a=t(894578);function r(e,i){return e.replace(RegExp("(^|\\s)"+i+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t(45697);var o=t(667294),s=t(973935);let d={disabled:!1};var u=t(500220),c="unmounted",p="exited",m="entering",_="entered",h="exiting",g=function(e){function i(i,t){n=e.call(this,i,t)||this;var n,l,a=t&&!t.isMounting?i.enter:i.appear;return n.appearStatus=null,i.in?a?(l=p,n.appearStatus=m):l=_:l=i.unmountOnExit||i.mountOnEnter?c:p,n.state={status:l},n.nextCallback=null,n}(0,a.Z)(i,e),i.getDerivedStateFromProps=function(e,i){return e.in&&i.status===c?{status:p}:null};var t=i.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(e){var i=null;if(e!==this.props){var t=this.state.status;this.props.in?t!==m&&t!==_&&(i=m):(t===m||t===_)&&(i=h)}this.updateStatus(!1,i)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var e,i,t,n=this.props.timeout;return e=i=t=n,null!=n&&"number"!=typeof n&&(e=n.exit,i=n.enter,t=void 0!==n.appear?n.appear:i),{exit:e,enter:i,appear:t}},t.updateStatus=function(e,i){void 0===e&&(e=!1),null!==i?(this.cancelNextCallback(),i===m?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:c})},t.performEnter=function(e){var i=this,t=this.props.enter,n=this.context?this.context.isMounting:e,l=this.props.nodeRef?[n]:[s.findDOMNode(this),n],a=l[0],r=l[1],o=this.getTimeouts(),u=n?o.appear:o.enter;if(!e&&!t||d.disabled){this.safeSetState({status:_},function(){i.props.onEntered(a)});return}this.props.onEnter(a,r),this.safeSetState({status:m},function(){i.props.onEntering(a,r),i.onTransitionEnd(u,function(){i.safeSetState({status:_},function(){i.props.onEntered(a,r)})})})},t.performExit=function(){var e=this,i=this.props.exit,t=this.getTimeouts(),n=this.props.nodeRef?void 0:s.findDOMNode(this);if(!i||d.disabled){this.safeSetState({status:p},function(){e.props.onExited(n)});return}this.props.onExit(n),this.safeSetState({status:h},function(){e.props.onExiting(n),e.onTransitionEnd(t.exit,function(){e.safeSetState({status:p},function(){e.props.onExited(n)})})})},t.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(e,i){i=this.setNextCallback(i),this.setState(e,i)},t.setNextCallback=function(e){var i=this,t=!0;return this.nextCallback=function(n){t&&(t=!1,i.nextCallback=null,e(n))},this.nextCallback.cancel=function(){t=!1},this.nextCallback},t.onTransitionEnd=function(e,i){this.setNextCallback(i);var t=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(!t||n){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[t,this.nextCallback],a=l[0],r=l[1];this.props.addEndListener(a,r)}null!=e&&setTimeout(this.nextCallback,e)},t.render=function(){var e=this.state.status;if(e===c)return null;var i=this.props,t=i.children,n=(i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef,(0,l.Z)(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(u.Z.Provider,{value:null},"function"==typeof t?t(e,n):o.cloneElement(o.Children.only(t),n))},i}(o.Component);function y(){}g.contextType=u.Z,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},g.UNMOUNTED=c,g.EXITED=p,g.ENTERING=m,g.ENTERED=_,g.EXITING=h;var v=function(e,i){return e&&i&&i.split(" ").forEach(function(i){e.classList?e.classList.remove(i):"string"==typeof e.className?e.className=r(e.className,i):e.setAttribute("class",r(e.className&&e.className.baseVal||"",i))})},f=function(e){function i(){for(var i,t=arguments.length,n=Array(t),l=0;l<t;l++)n[l]=arguments[l];return(i=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(e,t){var n=i.resolveArguments(e,t),l=n[0],a=n[1];i.removeClasses(l,"exit"),i.addClass(l,a?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(e,t)},i.onEntering=function(e,t){var n=i.resolveArguments(e,t),l=n[0],a=n[1];i.addClass(l,a?"appear":"enter","active"),i.props.onEntering&&i.props.onEntering(e,t)},i.onEntered=function(e,t){var n=i.resolveArguments(e,t),l=n[0],a=n[1]?"appear":"enter";i.removeClasses(l,a),i.addClass(l,a,"done"),i.props.onEntered&&i.props.onEntered(e,t)},i.onExit=function(e){var t=i.resolveArguments(e)[0];i.removeClasses(t,"appear"),i.removeClasses(t,"enter"),i.addClass(t,"exit","base"),i.props.onExit&&i.props.onExit(e)},i.onExiting=function(e){var t=i.resolveArguments(e)[0];i.addClass(t,"exit","active"),i.props.onExiting&&i.props.onExiting(e)},i.onExited=function(e){var t=i.resolveArguments(e)[0];i.removeClasses(t,"exit"),i.addClass(t,"exit","done"),i.props.onExited&&i.props.onExited(e)},i.resolveArguments=function(e,t){return i.props.nodeRef?[i.props.nodeRef.current,e]:[e,t]},i.getClassNames=function(e){var t=i.props.classNames,n="string"==typeof t,l=n?(n&&t?t+"-":"")+e:t[e],a=n?l+"-active":t[e+"Active"],r=n?l+"-done":t[e+"Done"];return{baseClassName:l,activeClassName:a,doneClassName:r}},i}(0,a.Z)(i,e);var t=i.prototype;return t.addClass=function(e,i,t){var n,l=this.getClassNames(i)[t+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===i&&"done"===t&&a&&(l+=" "+a),"active"===t&&e&&e.scrollTop,l&&(this.appliedClasses[i][t]=l,n=l,e&&n&&n.split(" ").forEach(function(i){var t,n;return t=e,n=i,void(t.classList?t.classList.add(n):(t.classList?n&&t.classList.contains(n):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+n+" "))||("string"==typeof t.className?t.className=t.className+" "+n:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+n)))}))},t.removeClasses=function(e,i){var t=this.appliedClasses[i],n=t.base,l=t.active,a=t.done;this.appliedClasses[i]={},n&&v(e,n),l&&v(e,l),a&&v(e,a)},t.render=function(){var e=this.props,i=(e.classNames,(0,l.Z)(e,["classNames"]));return o.createElement(g,(0,n.Z)({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},i}(o.Component);f.defaultProps={classNames:""},f.propTypes={};let x=f},500220:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(667294);let l=n.createContext(null)},560053:(e,i)=>{"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function t(e,i){var t=e.length;for(e.push(i);0<t;){var n=t-1>>>1,l=e[n];if(0<a(l,i))e[n]=i,e[t]=l,t=n;else break}}function n(e){return 0===e.length?null:e[0]}function l(e){if(0===e.length)return null;var i=e[0],t=e.pop();if(t!==i){e[0]=t;for(var n=0,l=e.length,r=l>>>1;n<r;){var o=2*(n+1)-1,s=e[o],d=o+1,u=e[d];if(0>a(s,t))d<l&&0>a(u,s)?(e[n]=u,e[d]=t,n=d):(e[n]=s,e[o]=t,n=o);else if(d<l&&0>a(u,t))e[n]=u,e[d]=t,n=d;else break}}return i}function a(e,i){var t=e.sortIndex-i.sortIndex;return 0!==t?t:e.id-i.id}if("object"==typeof performance&&"function"==typeof performance.now){var r,o=performance;i.unstable_now=function(){return o.now()}}else{var s=Date,d=s.now();i.unstable_now=function(){return s.now()-d}}var u=[],c=[],p=1,m=null,_=3,h=!1,g=!1,y=!1,v="function"==typeof setTimeout?setTimeout:null,f="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)l(c);else if(i.startTime<=e)l(c),i.sortIndex=i.expirationTime,t(u,i);else break;i=n(c)}}function S(e){if(y=!1,b(e),!g){if(null!==n(u))g=!0,R(P);else{var i=n(c);null!==i&&L(S,i.startTime-e)}}}function P(e,t){g=!1,y&&(y=!1,f(I),I=-1),h=!0;var a=_;try{for(b(t),m=n(u);null!==m&&(!(m.expirationTime>t)||e&&!A());){var r=m.callback;if("function"==typeof r){m.callback=null,_=m.priorityLevel;var o=r(m.expirationTime<=t);t=i.unstable_now(),"function"==typeof o?m.callback=o:m===n(u)&&l(u),b(t)}else l(u);m=n(u)}if(null!==m)var s=!0;else{var d=n(c);null!==d&&L(S,d.startTime-t),s=!1}return s}finally{m=null,_=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k=!1,w=null,I=-1,T=5,j=-1;function A(){return!(i.unstable_now()-j<T)}function E(){if(null!==w){var e=i.unstable_now();j=e;var t=!0;try{t=w(!0,e)}finally{t?r():(k=!1,w=null)}}else k=!1}if("function"==typeof x)r=function(){x(E)};else if("undefined"!=typeof MessageChannel){var C=new MessageChannel,F=C.port2;C.port1.onmessage=E,r=function(){F.postMessage(null)}}else r=function(){v(E,0)};function R(e){w=e,k||(k=!0,r())}function L(e,t){I=v(function(){e(i.unstable_now())},t)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(e){e.callback=null},i.unstable_continueExecution=function(){g||h||(g=!0,R(P))},i.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return n(u)},i.unstable_next=function(e){switch(_){case 1:case 2:case 3:var i=3;break;default:i=_}var t=_;_=i;try{return e()}finally{_=t}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(e,i){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=_;_=e;try{return i()}finally{_=t}},i.unstable_scheduleCallback=function(e,l,a){var r=i.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?r+a:r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=a+o,e={id:p++,callback:l,priorityLevel:e,startTime:a,expirationTime:o,sortIndex:-1},a>r?(e.sortIndex=a,t(c,e),null===n(u)&&e===n(c)&&(y?(f(I),I=-1):y=!0,L(S,a-r))):(e.sortIndex=o,t(u,e),g||h||(g=!0,R(P))),e},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(e){var i=_;return function(){var t=_;_=i;try{return e.apply(this,arguments)}finally{_=t}}}},363840:(e,i,t)=>{"use strict";e.exports=t(560053)},653250:(e,i,t)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=t(667294),l="function"==typeof Object.is?Object.is:function(e,i){return e===i&&(0!==e||1/e==1/i)||e!=e&&i!=i},a=n.useState,r=n.useEffect,o=n.useLayoutEffect,s=n.useDebugValue;function d(e){var i=e.getSnapshot;e=e.value;try{var t=i();return!l(e,t)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,i){return i()}:function(e,i){var t=i(),n=a({inst:{value:t,getSnapshot:i}}),l=n[0].inst,u=n[1];return o(function(){l.value=t,l.getSnapshot=i,d(l)&&u({inst:l})},[e,t,i]),r(function(){return d(l)&&u({inst:l}),e(function(){d(l)&&u({inst:l})})},[e]),s(t),t};i.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},950139:(e,i,t)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=t(667294),l=t(61688),a="function"==typeof Object.is?Object.is:function(e,i){return e===i&&(0!==e||1/e==1/i)||e!=e&&i!=i},r=l.useSyncExternalStore,o=n.useRef,s=n.useEffect,d=n.useMemo,u=n.useDebugValue;i.useSyncExternalStoreWithSelector=function(e,i,t,n,l){var c=o(null);if(null===c.current){var p={hasValue:!1,value:null};c.current=p}else p=c.current;var m=r(e,(c=d(function(){function e(e){if(!s){if(s=!0,r=e,e=n(e),void 0!==l&&p.hasValue){var i=p.value;if(l(i,e))return o=i}return o=e}if(i=o,a(r,e))return i;var t=n(e);return void 0!==l&&l(i,t)?i:(r=e,o=t)}var r,o,s=!1,d=void 0===t?null:t;return[function(){return e(i())},null===d?void 0:function(){return e(d())}]},[i,t,n,l]))[0],c[1]);return s(function(){p.hasValue=!0,p.value=m},[m]),u(m),m}},61688:(e,i,t)=>{"use strict";e.exports=t(653250)},552798:(e,i,t)=>{"use strict";e.exports=t(950139)},772522:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="610a35d46510240eb58e262c1909310c",e.exports=t},369393:e=>{"use strict";var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardBody_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"lastRepinDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{args:null,kind:"FragmentSpread",name:"RecipeMetadata_recipe"}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useNormalizePinData_pin"},{args:null,kind:"FragmentSpread",name:"BestPinCardAttribution_pin"}],type:"Pin",abstractKey:null};n.hash="870cf078fdf1d05ab4a3200ee00ab4b7",e.exports=n},456778:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null};i.hash="1c6b4e45a045976cb346fc1824fa2578",e.exports=i},103018:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};i.hash="bc3408725d4de6a75e59ac3d2aefd4b2",e.exports=i},45128:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSlidersForAuthDesktopPinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="d6068e37ffbce623dcbd7bef0b4e6bce",e.exports=i},941729:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};i.hash="4b0c4a7a095db0d3cc7f22f3f6c85086",e.exports=i},897874:e=>{"use strict";var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ClickthroughLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[i={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null}],type:"Pin",abstractKey:null};n.hash="4f0d120fec035a42adab1ce216c205fd",e.exports=n},867685:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ClickthroughOrCloseupLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:i,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ClickthroughLink_pin"},{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null};t.hash="505511f3fa7c6e87632cd6bc6fbf4f28",e.exports=t},73755:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="745c3a480603a026639c745fb9f1fa52",e.exports=t},45904:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollageChips_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="9decc73fb257614037505e078843f5c4",e.exports=i},823706:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="91958ad6d73597b90dd099ea462eb40e",e.exports=t},569521:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DebugSignalsFeedback_pin",selections:[{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debAds",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iconUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalMessage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debContentQuality",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debInclusiveProduct",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debShopping",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debTrustAndSafety",plural:!0,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};t.hash="06530ceab8fc1bb7b5d868c8ffeb2afd",e.exports=t},476296:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="af2a292b990c2655414c7944d61296a1",e.exports=i},67153:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"474x")'},{alias:"coverImage136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"136x136")'},{alias:"coverImage170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"170x")'},{alias:"coverImage222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"222x")'},{alias:"coverImage90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"90x90")'}],type:"ExploreArticle",abstractKey:null};t.hash="bc8b8afb394eb9f724930319c776249a",e.exports=t},222969:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightCropperContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FlashlightSpotlightDots_pin"}],type:"Pin",abstractKey:null};i.hash="17b1ebef1c9031212ecd7bd5be0e6151",e.exports=i},126210:e=>{"use strict";var i,t,n,l,a,r,o,s,d,u,c,p,m,_,h,g,y,v,f,x,b,S,P,k=(i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],t=[{kind:"Variable",name:"pin",variableName:"pinId"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},s={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},c={alias:"imageOrig",args:d=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:u=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},m={alias:"image736x",args:p=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:u,storageKey:'images(spec:"736x")'},h={alias:"image564x",args:_=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:u,storageKey:'images(spec:"564x")'},y={alias:"image474x",args:g=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:u,storageKey:'images(spec:"474x")'},f={alias:"image236x",args:v=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:u,storageKey:'images(spec:"236x")'},S={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:b=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageOrig",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x=[a,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:u,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:g,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:v,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"FlashlightPagePinQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,a,r,o,s,c,m,h,y,f,S,P={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:b,storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"FlashlightPagePinQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,a,r,o,s,c,m,h,y,f,S,P,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"2fbe7c612e0b9e55147a27059ea1cb52fb3420abce761a50d75549302dd620bd",metadata:{},name:"FlashlightPagePinQuery",operationKind:"query",text:null}});k.hash="3e072d3a492316c79a629968e8cd0a07",e.exports=k,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}}(k)},210452:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightPageWithData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetInitialCropArea_pin"},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightCropperContainer_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightResultGridContainer_pin"}],type:"Pin",abstractKey:null};i.hash="903db2b432ad0f02adcdca0d6515898d",e.exports=i},678694:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightResultGridContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"RelatedProductsUnifiedFeed_pin"}],type:"Pin",abstractKey:null};i.hash="bcca3e8407135d3e3c7a0a8bacfabeff",e.exports=i},362400:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightSpotlightDots_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="3a8409077905af94eb39568e4a5a57fc",e.exports=i},269577:e=>{"use strict";var i,t,n=(t=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FooterDefaultContent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetAttributionProps_pin"},{args:null,kind:"FragmentSpread",name:"ImageOnlyAttributionText_pin"},{args:null,kind:"FragmentSpread",name:"PinStats_pin"},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"},{args:null,kind:"FragmentSpread",name:"Title_pin"},{args:null,kind:"FragmentSpread",name:"Source_pin"},{args:null,kind:"FragmentSpread",name:"OverflowMenu_pin"},{args:null,kind:"FragmentSpread",name:"GridAggregation_pin"},{args:null,kind:"FragmentSpread",name:"PinNote_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCounts_pin"}],type:"Pin",abstractKey:null});n.hash="cc1cd2df86886def13ee28d694b6428d",e.exports=n},18736:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FooterProductContent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"},{args:null,kind:"FragmentSpread",name:"Title_pin"},{args:null,kind:"FragmentSpread",name:"Source_pin"}],type:"Pin",abstractKey:null};i.hash="d1eaad5ed385e6091177857c3f00a457",e.exports=i},860092:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Footer_pin",selections:[{args:null,kind:"FragmentSpread",name:"FooterProductContent_pin"},{args:null,kind:"FragmentSpread",name:"FooterDefaultContent_pin"}],type:"Pin",abstractKey:null};i.hash="d29683a0b8b88a7cc21818cfaf02b46b",e.exports=i},388661:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GridAggregation_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"useReactionCounts_pin"}],type:"Pin",abstractKey:null};t.hash="31270ea0e5b5db0d482f41193067c954",e.exports=t},427387:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ImageOnlyAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="dbf79d2545ed3819c04d63fa043f60b5",e.exports=i},839914:e=>{"use strict";var i,t,n,l,a,r,o,s,d,u,c,p,m,_,h,g,y,v,f,x,b,S,P,k,w=(i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],t=[{kind:"Variable",name:"pin",variableName:"pinId"}],n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},s={alias:"imageOrig",args:r=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},u={alias:"image736x",args:d=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},p={alias:"image564x",args:c=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"564x")'},_={alias:"image474x",args:m=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},g={alias:"image236x",args:h=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},y={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},v={alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[a,{alias:"imageOrig",args:r,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:"image736x",args:d,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:"image564x",args:c,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"564x")'},{alias:"image474x",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},{alias:"image236x",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'}],storageKey:null},b={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:x=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:"additionalImageOrig",args:r,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f=[a,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:o,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:c,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"236x")'}],storageKey:null}],storageKey:null},S={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:x,storageKey:null},P={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,l,a,s,u,p,_,g,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[y,v],storageKey:null},b,S,P],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,l,a,s,u,p,_,g,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[y,v,k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},b,S,P,k],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"67eedd3e1834ee184411ff81c5eeea7cf9dc9ec53a5e099459966ce5369828ee",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}});w.hash="1647166e8b02809a5f8ccfca2dc5019a",e.exports=w,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}}(w)},888588:e=>{"use strict";var i,t,n,l,a,r,o,s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OverflowMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[l,a],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:o=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[i,t,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsPersonalized",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"}],type:"Pin",abstractKey:null};s.hash="adfa8ba868c4f6dd15eea7ccee9e37bd",e.exports=s},991102:e=>{"use strict";var i,t,n=(t=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[i,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null});n.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=n},441959:e=>{"use strict";var i,t,n,l,a,r,o,s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},a={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l,a,r,o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},o],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}}(s)},182964:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:"imagesSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"CarouselSliders_pin"}],type:"Pin",abstractKey:null};t.hash="063ef491e5e33ac0c64e12eb0c096ab8",e.exports=t},952329:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinImage_pin"}],type:"Pin",abstractKey:null};t.hash="c984545d398a5bd6c3278c3657eca9c9",e.exports=t},173084:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinNote_pin",selections:[{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="2e2f3174c2ae0020c0eb230f2051834e",e.exports=i},24789:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="0399d1e5d3138c8784dabc45eac4492b",e.exports=t},256468:e=>{"use strict";var i,t,n,l,a,r,o,s,d,u,c,p,m,_,h,g,y,v,f=(i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},d=[r={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],_={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},h=[t,u={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},r,{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},i,s],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[t,u,c,p,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},m],storageKey:null}],storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},u,c,p,m],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[a,g={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[y={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[y,n,v={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[n,v],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[t,n,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:h,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[t,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},o,s,l],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},_],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null});f.hash="fd0dce7682d1ef1ac32153b13178544f",e.exports=f},936042:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinStats_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinStatsAnalytics_pin"}],type:"Pin",abstractKey:null};i.hash="eacae20be2cba03c345b40777a071bba",e.exports=i},178770:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideo_pin"}],type:"Pin",abstractKey:null};i.hash="a44fd933766b13f99b6f36de80b88891",e.exports=i},548359:e=>{"use strict";var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[i,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinImage_pin"}],type:"Pin",abstractKey:null};n.hash="72a606f26ad161609980c86fe071d95e",e.exports=n},770913:e=>{"use strict";var i,t,n,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVisual_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"callToActionText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[n={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[n,{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:i,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinImage_pin"},{args:null,kind:"FragmentSpread",name:"PinVideoWithVisibility_pin"},{args:null,kind:"FragmentSpread",name:"CollageChips_pin"},{args:null,kind:"FragmentSpread",name:"DeprecatedCarousel_pin"},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"usePrefetchStoryPinVideo_pin"},{args:null,kind:"FragmentSpread",name:"usePrefetchPinVideo_pin"}],type:"Pin",abstractKey:null};l.hash="d5f24df8e59cb2f067a6fdf4a5322714",e.exports=l},788536:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="4a2543bd99e1b908c6c94274a303fcbc",e.exports=t},875979:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RecipeMetadata_recipe",selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"RecipeMetadata",abstractKey:null};t.hash="12f77507a9fdec344b44b7e659fa5ac1",e.exports=t},553191:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsUnifiedFeed_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="12c4e9ff114eb53a8da6ef7727d72985",e.exports=i},599271:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};i.hash="8d0233fe1acbc77ec2b5a1754e0a6e36",e.exports=i},937711:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null};i.hash="8f9d12b0eee9d408e23c20c11af28777",e.exports=i},561859:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SourceLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="b73ff04162d730bc3f23d71ed736b3f9",e.exports=t},526102:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Source_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetPinSourceText_pin"},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="7807c87c0e65a5d0fb602c53260cbcdc",e.exports=i},832494:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'}],type:"Pin",abstractKey:null};t.hash="91bd9c250408ba97583006b39619e468",e.exports=t},359433:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};i.hash="28a2737f428e965c289d2de4bb93d5ac",e.exports=i},83551:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Title_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="9c85693bcc1fb7e7a95f81f213ce44b8",e.exports=i},944488:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};i.hash="b5b71fb4390c1d3835e468a25f687669",e.exports=i},897614:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};i.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7",e.exports=i},823722:e=>{"use strict";var i,t,n,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"}],type:"Pin",abstractKey:null};l.hash="9927ced98afae08f50c02180203fa8b0",e.exports=l},608614:e=>{"use strict";var i,t,n,l,a,r,o,s,d,u,c,p,m,_,h,g,y,v,f,x,b,S,P,k,w,I,T,j,A,E,C,F,R,L,D,O,N,z,M,K,Z,B,U,H,V,G,$,W,q,Y,X,J,Q,ee,ei=(i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],t=[{kind:"Variable",name:"pin",variableName:"pinId"}],n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},y={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},v={alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},P=[f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],k=[n,f,x,b,S],w={alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},F={alias:"imageOrig",args:T=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:C=[j={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},g,A={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'images(spec:"orig")'},L={alias:"image564x",args:R=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"564x")'},O={alias:"image736x",args:D=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"736x")'},z={alias:"image474x",args:N=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"474x")'},K={alias:"image236x",args:M=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"236x")'},Z={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},B={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null},H={alias:"additionalImageOrig",args:T,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:U=[l,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[E,g,j],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},q={alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null},Y={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[a,s,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[h,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[h,A],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[h,B,H,V={alias:"additionalImage564x",args:R,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:U,storageKey:'additionalImagesPerSpec(spec:"564x")'},G={alias:"additionalImage736x",args:D,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:U,storageKey:'additionalImagesPerSpec(spec:"736x")'},$={alias:"additionalImage474x",args:N,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:U,storageKey:'additionalImagesPerSpec(spec:"474x")'},W={alias:"additionalImage236x",args:M,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:U,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[l,q],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},X={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[h,B,H,V,G,$,W,{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[q,l],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Q=[f,x,b,S,J={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],ee=[n,f,x,b,S,J],{fragment:{argumentDefinitions:i,kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,l,a,r,o,s,d,u,c,p,m,_,y,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:P,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:P,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,w,h,I,g],storageKey:null},F,L,O,z,K,Z,Y,X],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,l,a,r,o,s,d,u,c,p,m,_,y,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v,J],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:Q,storageKey:null},J],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,w,h,I,g,J],storageKey:null},F,L,O,z,K,Z,Y,X,J],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"5f09d38fcc19ea4defe9a2ced0ea73c23f12ec0bc0e6d4bd4f24974e35d6e8ea",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}});ei.hash="41066749b18be6f77425904cd44e3d69",e.exports=ei,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}}(ei)},143453:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null};i.hash="2fb133623620997264f81544f7f43636",e.exports=i},717988:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};i.hash="594237c2ea6ccfb8bbc0e3e8c62cac9f",e.exports=i},298262:e=>{"use strict";var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},t,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};n.hash="dda341dce5f1fa956d1837dec35496de",e.exports=n},782194:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="35075da6e1f4b526ac4314727015c44d",e.exports=i},403494:e=>{"use strict";var i,t,n,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildFooterProps_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:"carId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinNote",kind:"LinkedField",name:"pinNote",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipsToUserCountry",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:n,storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"unifiedUserNote",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:n,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetPinSourceText_pin"}],type:"Pin",abstractKey:null};l.hash="1bb49e5c031c3ce709df3016649be2bf",e.exports=l},150470:e=>{"use strict";var i,t,n,l,a,r,o,s,d,u,c={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetAttributionProps_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},d={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[i,u={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t,n,l,a,r,o,s,d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,n,l,a,o,s,d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i,u,t,l,a,r,s],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[t,s],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};c.hash="2985c2aa5b5f3c7fcab6ea660ed05bab",e.exports=c},448692:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetFeedbackType_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="09058e2c22f768d113516b357e48e9cd",e.exports=t},69645:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetInitialCropArea_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};i.hash="120ad104e33b94ab10be1098dc10d74b",e.exports=i},508753:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};t.hash="3d7a6d04f923d00acfb2887f852aea16",e.exports=t},560296:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetPinSourceText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinProductMerchant_pin"}],type:"Pin",abstractKey:null};i.hash="47c835c42b5791a0878ffd2934890b8e",e.exports=i},963101:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useNormalizePinData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:i=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null}],type:"Pin",abstractKey:null};t.hash="01a93671cde480baa2cfd8b781589acd",e.exports=t},990199:e=>{"use strict";var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductMerchant_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};t.hash="46a30708d2596ecf2022f2718e9fee23",e.exports=t},346480:e=>{"use strict";var i,t,n,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinStatsAnalytics_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[n={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:t=[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"closeup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clickthrough",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullScreenPlay",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoViews",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoAverageTime",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"allTimeRealtime",plural:!1,selections:i,storageKey:null}],storageKey:null}],storageKey:null},n,{alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"publicCreatorAnalytics",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="3177e5852b0aeb11a1d07df82b30ef1e",e.exports=l},135325:e=>{"use strict";var i,t,n,l,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePrefetchPinVideo_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[i,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:n=[t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:l,storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="861c897c45f83d723b5857f709cb23d8",e.exports=a},776753:e=>{"use strict";var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePrefetchStoryPinVideo_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:t=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:i,storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pagesPreview",plural:!0,selections:t,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="a16254fc95ad4ae1435ccb0631990759",e.exports=n},831614:e=>{"use strict";var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCounts_pin",selections:[{alias:null,args:null,concreteType:"ReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"_0",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_4",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_5",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_6",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_7",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_8",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_9",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_10",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_11",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_12",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_13",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_14",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="88f67b193e3ea2276ecdb41bbb62beb5",e.exports=i},806387:(e,i,t)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/visual-search"]=function(){return t(789153).Z}},621514:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(630089);function l({altText:e,autoAltText:i,i18n:t,checkExperiment:l}){let a=e?(0,n.nk)(t._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:e}).join(""):"",r=i?(0,n.nk)(t._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:i}).join(""):"";if(l){let e=i&&l("web_mk_alt_text",{dangerouslySkipActivation:!0}).group;if(["control","enabled"].includes(e)&&l("web_mk_alt_text"),["enabled","employees"].includes(e))return r||"";if(["control","pwt_off","pwt_on"].includes(e))return a||""}return a||r||""}},788642:(e,i,t)=>{"use strict";t.d(i,{Z:()=>u});var n=t(667294),l=t(702664),a=t(883119),r=t(536042),o=t(981628),s=t(970588),d=t(785893);function u({favorited:e,favoriteCount:i,isCloseupButton:t,onFavorite:u,onUnfavorite:c,pinId:p,size:m}){let _=(0,r.ZP)(),h=(0,l.useDispatch)(),[g,y]=(0,n.useState)(!1),[v,f]=(0,n.useState)(e),[x,b]=(0,n.useState)(null!=i?i:0),S=async()=>{(f(!v),y(!0),v)?(b(x-1),await h(async e=>{await (0,s.Z)({url:`/v3/pins/${p}/favorite/`,method:"DELETE"}),e({type:"PIN_FAVORITE",payload:{id:p,increment:-1,value:!1}})}),c()):(b(x+1),await h(async e=>{await (0,s.Z)({url:`/v3/pins/${p}/favorite/`,method:"POST"}),e({type:"PIN_FAVORITE",payload:{id:p,increment:1,value:!0}})}),u()),y(!1)},P=x<10?x:_._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,d.jsxs)(a.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==i&&x>0&&(0,d.jsx)(a.xv,{size:"200",weight:"bold",children:P}),(0,d.jsx)(o.ZP,{isCloseupButton:t,isDisabled:g,isFavorited:v,onTap:()=>{S()},size:m})]})}},236921:(e,i,t)=>{"use strict";t.d(i,{H1:()=>d,HW:()=>a,iL:()=>s,pN:()=>o,s_:()=>r});var n=t(245410),l=t(802071);let a=new Date(2022,1,1);function r(){let{checkExperiment:e}=(0,n.F)(),i=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),t=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,l=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return i||t||l}function o({isOwnPin:e,isStoryPin:i,pinCreationDate:t,surface:r}){let o=(0,l.Z)(),{checkExperiment:s}=(0,n.F)(),d=s("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,u="CreatorProfileStoryPinGrid"===r&&i&&t&&t.getTime()>=a.getTime()&&d&&o.isPartner&&e,c=!!u&&s("web_ip_plays").anyEnabled,p=["enabled_public","employees"].includes(s("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===r&&i&&t&&t.getTime()>=a.getTime()){if(o.isPartner)return e&&c||!e&&p;if(s("web_ip_pinner_plays").anyEnabled)return!0}return!1}function s({isOwnPin:e,isPartner:i}){let{checkExperiment:t}=(0,n.F)(),l=["enabled_public","employees"].includes(t("web_ip_plays",{dangerouslySkipActivation:!0}).group),a=t("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!!(!e&&(a&&!i||l&&i))}function d({isOwnPin:e,isPartner:i}){let{checkExperiment:t}=(0,n.F)(),l=t("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,a=t("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!!(e&&(l&&i||a&&!i))}},191085:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>S});var n,l=t(667294),a=t(702664);t(167912);var r=t(883119),o=t(886673),s=t(525104),d=t(450600),u=t(536042),c=t(624417),p=t(769705),m=t(282802),_=t(371362),h=t(362626),g=t(347151),y=t(533451),v=t(613352),f=t(785893);let x=void 0!==n?n:n=t(888588),b=e=>{var i,t,n,l;return{adMatchReason:e.ad_match_reason,board:e.board&&{entityId:e.board.id,imageThumbnailUrl:e.board.image_thumbnail_url,name:e.board.name,url:e.board.url},category:e.category,description:e.description,embed:e.embed&&{src:e.embed.src,type:e.embed.type},entityId:e.id,isDownstreamPromotion:e.is_downstream_promotion,isPromoted:e.is_promoted,pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},promoter:e.promoter&&{fullName:e.promoter.full_name,username:e.promoter.username},recommendationReason:e.recommendation_reason&&{board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url},reason:e.recommendation_reason.reason,reasonId:e.recommendation_reason.reason_id,throughProperties:(l=e.recommendation_reason.through_properties)&&Object.keys(l).map(e=>({key:e,data:l[e]}))},richMetadata:e.rich_metadata&&{products:null===(i=e.rich_metadata.products)||void 0===i?void 0:i.map(()=>({__typename:"RichPinProductMetadata"}))},richSummary:e.rich_summary&&{products:null===(t=e.rich_summary.products)||void 0===t?void 0:t.map(()=>({__typename:"RichPinProductMetadata"}))},sourceInterest:e.source_interest&&{entityId:null!==(n=e.source_interest.id)&&void 0!==n?n:"",name:e.source_interest.name,urlName:e.source_interest.url_name},videos:e.videos&&{duration:e.videos.duration,videoList:e.videos.video_list&&{__typename:"VideoList"}},isThirdPartyAd:e.is_third_party_ad,promotedIsPersonalized:e.promoted_is_personalized,isEligibleForPromotedPartnership:e.is_eligible_for_promoted_partnership,promotedPartnershipAttributionName:e.promoted_partnership_attribution_name,promotedPartnershipAdvertiserName:e.promoted_partnership_advertiser_name}};function S({feedbackData:e,feedbackType:i,pinKey:t,pinTitle:n,setForcePrimary:S,transparentBackground:P}){var k,w,I,T,j,A,E,C,F;let{data:R,childDataKey__DEPRECATED:L}=(0,d.u)(x,t,{useLegacyAdapter:b}),D=(0,p.Z)(L),O=R.entityId,N=(0,u.ZP)(),{isBot:z,isSocialBot:M}=(0,m.B)(),K=(0,a.useDispatch)(),{viewParameter:Z,viewType:B}=(0,g.E)(),{reportPin:U}=(0,v.f)(),[H,V]=(0,l.useState)(!1),[G,$]=(0,l.useState)(),W=null!==(E=null===(C=(0,s.S6)()(O))||void 0===C?void 0:C.show_ad_reasons)&&void 0!==E&&E,q=(F=R.isPromoted?60:50,function(e){return(0,_.ZP)((e||"").trim(),F)}),Y=q(null!==(k=R.description)&&void 0!==k?k:""),X=D["236x"],J=!!(null!==(w=R.videos)&&void 0!==w&&w.videoList),Q=()=>{K((0,y.i0)(O))},ee=(0,h.Z)(101,{component:0,element:981,object_id_str:O,aux_data:{feedback_type:i}}),ei=()=>{W||(S(!1),Q(),V(!1))},et={isThirdPartyAd:R.isThirdPartyAd,promotedIsPersonalized:R.promotedIsPersonalized,isEligibleForPromotedPartnership:R.isEligibleForPromotedPartnership,promotedPartnershipAttributionName:R.promotedPartnershipAttributionName,promotedPartnershipAdvertiserName:R.promotedPartnershipAdvertiserName};return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(r.xu,{"data-test-id":"feedback-button",ref:$,children:(0,f.jsx)(r.hU,{accessibilityLabel:N._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:P?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{H?ei():(S(!0),V(!0)),ee()},size:"sm"})}),H&&(0,f.jsx)(r.xu,{onFocus:e=>e.stopPropagation(),children:(0,f.jsx)(o.Z,{anchor:G,ad_match_reason:R.adMatchReason,bestPinImgSrc:(0,c.Z)({imagesUrls:D,embedSrc:null===(I=R.embed)||void 0===I?void 0:I.src,embedType:null===(T=R.embed)||void 0===T?void 0:T.type,excludeOriginals:!z&&!M}),board:R.board&&{entityId:R.board.entityId,imageThumbnailUrl:R.board.imageThumbnailUrl,name:R.board.name,url:R.board.url},feedbackData:e,feedbackType:i,hideDownload:J,isPromoted:null!==(j=R.isPromoted)&&void 0!==j&&j,onLinkClick:()=>{H&&ei()},onDismiss:ei,onHide:ei,onDownloadHideFlyout:()=>{S(!1),V(!1)},pinCategory:R.category,pinDescription:Y,pinId:O,pinImgSrc:X,pinner:R.pinner&&{explicitlyFollowedByMe:R.pinner.explicitlyFollowedByMe,entityId:R.pinner.entityId,fullName:R.pinner.fullName,imageSmallUrl:R.pinner.imageSmallUrl,username:R.pinner.username},pinTitle:n,promoter:R.promoter&&{fullName:R.promoter.fullName,username:R.promoter.username},thirdPartyAdAttributes:et,recommendationReason:R.recommendationReason&&{board:R.recommendationReason.board&&{name:R.recommendationReason.board.name,url:R.recommendationReason.board.url},reason:R.recommendationReason.reason,reasonId:R.recommendationReason.reasonId,throughProperties:R.recommendationReason.throughProperties},reportPin:()=>{var e,i,t,n,l;U({pinId:R.entityId,isDownstreamPromotion:!!R.isDownstreamPromotion,hasPromoter:!!R.promoter,isProduct:!!(null!==(e=R.richMetadata)&&void 0!==e&&null!==(i=e.products)&&void 0!==i&&i.length)||!!(null!==(t=R.richSummary)&&void 0!==t&&null!==(n=t.products)&&void 0!==n&&n.length),firstVideoDuration:null===(l=R.videos)||void 0===l?void 0:l.duration,viewParameter:Z,viewType:B,isThirdPartyAd:!!R.isThirdPartyAd}),ei()},sourceInterest:R.sourceInterest&&{entityId:null!==(A=R.sourceInterest.entityId)&&void 0!==A?A:"",name:R.sourceInterest.name,urlName:R.sourceInterest.urlName},viewParameter:Z,viewType:B})})]})}},886673:(e,i,t)=>{"use strict";t.d(i,{Z:()=>I});var n=t(667294),l=t(702664),a=t(616550),r=t(883119),o=t(222443),s=t(388011),d=t(536042),u=t(630089),c=t(649796),p=t(958083),m=t(325438),_=t(867812),h=t(950695),g=t(28630),y=t(724842),v=t(181453),f=t(154522),x=t(443601),b=t(533451),S=t(525104),P=t(785893);function k(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class w extends n.Component{constructor(e){super(e),k(this,"getRecommendationDescription",()=>{var e,i,t;let{i18n:n,ad_match_reason:l,board:a,feedbackType:r,pinner:o,promoter:s,recommendationReason:d,sourceInterest:u,thirdPartyAdAttributes:c}=this.props,m={i18n:n,makeNavigateLink:this.makeNavigateLink};switch(r){case"pfy":return(0,p.Ud)({...m,feedback:{type:"pfy"}});case"pfyBoard":return(0,p.Ud)({...m,feedback:{type:"pfyBoard",recommendationReasonBoard:(null==d?void 0:d.board)&&{name:null!==(e=d.board.name)&&void 0!==e?e:"",url:null!==(i=d.board.url)&&void 0!==i?i:""}}});case"topic":return(0,p.Ud)({...m,feedback:{type:"topic",sourceInterest:u&&u.name&&u.urlName?{name:u.name,url_name:u.urlName}:null}});case"followed":return(0,p.Ud)({...m,feedback:{type:"followed",followed:null!=o&&o.explicitlyFollowedByMe?{type:"pinner",pinner:o.fullName?{full_name:o.fullName,username:null!==(t=o.username)&&void 0!==t?t:""}:null}:{type:"board",board:a&&a.name&&a.url?{name:a.name,url:a.url}:null}}});case"promoted":return(0,p.Ud)({...m,feedback:{type:"promoted",promoter:!l&&null!=s&&s.fullName?{full_name:s.fullName,username:s.username}:null,thirdPartyAdAttributes:c}});default:return null}}),k(this,"getRecommendationDescriptionImage",()=>{var e,i;let t,n,l;let{board:a,feedbackType:o,pinner:s,recommendationReason:d}=this.props;return"followed"!==o&&"pfyBoard"!==o?null:(s&&s.explicitlyFollowedByMe?(t=s.imageSmallUrl,n="50%",l=`/${null!==(e=s.username)&&void 0!==e?e:""}`):a&&a.imageThumbnailUrl&&(t=a.imageThumbnailUrl,n="4px",l=(null==d?void 0:null===(i=d.board)||void 0===i?void 0:i.url)||a.url),t)?(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:n}},flex:"none",marginStart:3,overflow:"hidden",children:(0,P.jsx)(r.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,P.jsx)(r.zd,{height:40,wash:!0,width:40,children:(0,P.jsx)(r.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:t})})})}):null}),k(this,"getUnfollowAction",()=>{let{board:e,feedbackType:i,i18n:t,pinner:n,sourceInterest:l}=this.props;switch(i){case"followed":if(!n||!e)return null;return(0,p.oK)({i18n:t,makeNavigateLink:this.makeNavigateLink,boardId:e.entityId,display:n.explicitlyFollowedByMe?{type:"pinner",data:{full_name:n.fullName,username:n.username}}:{type:"board",data:{name:e.name,url:e.url}}});case"topic":if(!l)return null;let{entityId:a,name:r,urlName:o}=l;return a&&r&&o?(0,p.Iv)({i18n:t,makeNavigateLink:this.makeNavigateLink,sourceInterest:{id:a,name:r,url_name:o}}):null;default:return null}}),k(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):""),k(this,"makeNavigateLink",(e,i,t,n)=>(0,P.jsx)(r.rU,{onClick:this.props.onLinkClick,href:i,display:"inlineBlock",underline:"hover",children:(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:n?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:t})},e)),k(this,"reportPinOption",()=>{let{thirdPartyAdAttributes:e}=this.props;return{action:"reportPin",elementType:974,text:this.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:this.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:this.props.reportPin,dataTestId:"report-pin-option",isThirdPartyAd:null==e?void 0:e.isThirdPartyAd}}),k(this,"hidePinOption",e=>{let{clientTrackingParams:i,feedbackData:t,feedbackType:n,pinId:l,recommendationReason:a,thirdPartyAdAttributes:r}=this.props,o="search"===n?973:982,{action:s,actionOptions:d}=(0,m.Z)({feedbackData:t,feedbackType:n,pinId:l,pinFeedbackType:"pfy"===n?4:10,recommendationReason:a&&{board:a.board&&{entityId:a.board.entityId},reasonId:a.reasonId,reason:a.reason,throughProperties:a.throughProperties},clientTrackingParams:i(l),isThirdPartyAd:null==r?void 0:r.isThirdPartyAd}),u=this.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:s,actionOptions:d,feedbackText:this.pinHiddenFeedbackText(e),text:u,description:this.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:o}}),k(this,"stopRecommendationOption",()=>{var e;let{clientTrackingParams:i,feedbackData:t,feedbackType:n,pinId:l,recommendationReason:a}=this.props,r="pfyBoard"===n,{action:o,actionOptions:s}=(0,m.Z)({feedbackData:t,feedbackType:n,pinId:l,pinFeedbackType:r?2:4,recommendationReason:a&&{board:a.board&&{entityId:a.board.entityId},reasonId:a.reasonId,reason:a.reason,throughProperties:a.throughProperties},clientTrackingParams:i(l)}),d=null!=a&&a.board&&a.board.url&&a.board.name?this.makeNavigateLink("boardUrl",a.board.url,a.board.name,!0):"",c=r&&a?(0,u.nk)(this.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:d}):this.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin'),p=r&&a?(0,u.nk)(this.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null===(e=a.board)||void 0===e?void 0:e.name}):this.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin');return{action:o,actionOptions:s,feedbackText:{subTitle:c},text:p,elementType:284}}),k(this,"unfollowBoardOption",()=>{var e,i;let{board:t}=this.props,n=t?this.makeNavigateLink("boardUrl",null!==(e=t.url)&&void 0!==e?e:"",null!==(i=t.name)&&void 0!==i?i:"",!0):"",l=(0,u.nk)(this.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==t?void 0:t.name}),a=(0,u.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:n});return{action:"unfollowBoard",actionOptions:{board_id:null==t?void 0:t.entityId},feedbackText:{title:"",subTitle:a},text:l,description:(0,u.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==t?void 0:t.name}),elementType:10614}}),k(this,"unfollowTopicOption",()=>{let{sourceInterest:e}=this.props;if(!e)return null;{let{entityId:i,name:t="",urlName:n}=e,l=`/topics/${null!=n?n:""}`,a=this.makeNavigateLink("topicUrl",l,null!=t?t:"",!0),r=(0,u.nk)(this.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:t}),o=(0,u.nk)(this.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:a});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:_.X},feedbackText:{title:"",subTitle:o},text:r,description:(0,u.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}}),k(this,"unfollowUserOption",()=>{let{pinner:e}=this.props,{entityId:i,username:t,fullName:n}=null!=e?e:{},l=`/${t}`,a=e?this.makeNavigateLink("pinnerUrl",l,null!=n?n:"",!0):"",r=(0,u.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:a});return{action:"unfollowPinner",actionOptions:{user_id:i},feedbackText:{title:"",subTitle:r},text:(0,u.nk)(this.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:n}),description:this.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}}),k(this,"downloadPinOption",()=>({action:"downloadPin",text:this.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836})),k(this,"_pinFeedbackText",()=>{var e,i,t,n;let{location:l,feedbackType:a,hideDownload:r,pinner:o}=this.props,s="followed"===this.props.feedbackType,d=l.pathname.includes("following"),u=(s||"topic"===a)&&!d,c=this.hidePinOption(u),p=this.reportPinOption(),m="promoted"!==a&&!r;switch(a){case"followed":let _=!d&&this.getRecommendationDescription(),h=null!=o&&o.explicitlyFollowedByMe?this.unfollowUserOption():this.unfollowBoardOption(),g=[c,...u||d?[h]:[],..."promoted"!==a?[this.downloadPinOption()]:[],p];return{..._?{description:_}:{},options:g};case"promoted":let{pinId:y,showAdReasonsModal:v}=this.props,f={dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:()=>{v(y)}};return{description:null!==(e=this.getRecommendationDescription())&&void 0!==e?e:void 0,options:[c,f,p]};case"topic":let x=this.unfollowTopicOption(),b=[c,...u&&x?[x]:[],...m?[this.downloadPinOption()]:[],p];return{description:null!==(i=this.getRecommendationDescription())&&void 0!==i?i:void 0,options:b};case"pfy":case"pfyBoard":let S=[c,..."pfyBoard"===a?[this.stopRecommendationOption()]:[],...m?[this.downloadPinOption()]:[],p];return{description:null!==(t=this.getRecommendationDescription())&&void 0!==t?t:void 0,options:S};default:let P=[c,...m?[this.downloadPinOption()]:[],p];return{description:null!==(n=this.getRecommendationDescription())&&void 0!==n?n:void 0,options:P}}}),k(this,"pinHiddenFeedbackText",e=>{let{isPromoted:i,promoter:t}=this.props,n=e?null:this.getUnfollowAction();return i&&null!=t&&t.fullName?{title:"",subTitle:(0,u.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:t.fullName})}:n?{title:"",subTitle:this.getRecommendationDescription(),unfollow:n}:{title:"",subTitle:this.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}});let i=this._pinFeedbackText();this.state={pinFeedbackConfig:i,showSecondary:!1}}onPinFeedbackActionButtonClick(e,i,t){e.stopPropagation(),i.auxData?this.handleClickLogging(i.elementType,i.auxData):this.handleClickLogging(i.elementType),(0,c.t)(i.action,i.actionOptions,t,this.props.logContextEvent)}onPinHide(e,i,t,n){let{hidePinFeedback:l,onHide:a,pinId:r,showPinFeedback:o,showPinFeedbackOverlay:s,showPinFeedbackUndo:d,viewParameter:u,viewType:c,logContextEvent:m}=this.props;i&&t&&n?d(r,e,(0,p.EF)(t,n,r,c,u,l,m),this.getUndoText(n)):o(r,e),t&&!t.promoted&&(10===t.feedback_type||4===t.feedback_type)?(this.setState({showSecondary:!0}),s(r)):a()}handleClickLogging(e,i={}){let{feedbackType:t,viewParameter:n,viewType:l,logContextEvent:a}=this.props;a({event_type:101,view_type:l,view_parameter:n,element:e,component:(0,p.nb)(t),aux_data:{...i}})}renderButtons(){let{hideDownload:e,onDownloadHideFlyout:i,pinId:t,viewType:n,viewParameter:l,logContextEvent:a,isWindowsPwa:o}=this.props,{pinFeedbackConfig:s}=this.state,{options:d}=s,u=[],p=d.length;for(let s=0;s<p;s+=1){let p=d[s],m=c.P.includes(p.action),_=p.callback?p.callback:()=>this.onPinHide(p.feedbackText,m,p.actionOptions,p.action);if("downloadPin"!==p.action){let e=(0,g.Z)({url:p.link||""}),i="";Array.isArray(p.text)?i=p.text.join(""):("string"==typeof p.text||"number"==typeof p.text)&&(i=p.text.toString()),u.push(p.link?(0,P.jsx)(r.Lt.Link,{href:p.link,isExternal:e,option:{value:p.action||"",label:i},dataTestId:p.dataTestId||""}):(0,P.jsx)(r.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,p,_),option:{value:p.action||"",label:i},dataTestId:p.dataTestId||""}))}else if(!e&&!1===o){let{bestPinImgSrc:e,pinTitle:o,pinDescription:s,pinCategory:d}=this.props;u.push((0,P.jsx)(r.Lt.Item,{onSelect:()=>{(0,x.ZP)({category:d,filename:o||s,imageDownloadSuccessCallback:()=>{i&&i()},imgSrc:e,pinId:t,viewParameter:l,viewType:n},a)},option:{value:"downloadImage",label:this.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}}return u}render(){var e;let{pinFeedbackConfig:i,showSecondary:t}=this.state,{anchor:l,onDismiss:a,feedbackData:o,feedbackType:s,hideAdReasonsModal:d,pinId:u,onHide:c,recommendationReason:p,showAdReasons:m,viewParameter:_,viewType:h}=this.props,{description:g}=i,x=this.getRecommendationDescriptionImage();return(0,P.jsxs)(n.Fragment,{children:[t?(0,P.jsx)(v.Z,{anchor:l,feedbackData:o,feedbackType:s,pinId:u,onDismiss:a,onHide:c,recommendationReason:p&&{board:p.board&&{entityId:p.board.entityId},reasonId:p.reasonId,reason:p.reason,throughProperties:null===(e=p.throughProperties)||void 0===e?void 0:e.map(({data:e,key:i})=>({data:e,key:i}))},viewParameter:_,viewType:h}):(0,P.jsx)(r.Lt,{anchor:l,id:"pin-action-dropdown",idealDirection:"down",onDismiss:a,zIndex:f.lI,headerContent:g&&(0,P.jsxs)(r.kC,{alignItems:"center",children:[(0,P.jsx)(r.xu,{"data-pin-recommendation-reason":null==p?void 0:p.reason,maxHeight:56,overflow:"hidden",children:(0,P.jsx)(r.xv,{color:"default",overflow:"normal",size:"200",children:g})}),x]}),children:this.renderButtons()}),m&&(0,P.jsx)(y.ZP,{onDismiss:()=>d(u),pinId:u})]})}}function I(e){let{logContextEvent:i}=(0,s.v)(),t=(0,o.Z)(),n=(0,d.ZP)(),r=(0,S.S6)()(e.pinId),{ad_targeting_attribution:u,show_ad_reasons:c=!1}=null!=r?r:{},p=(0,h.kf)(),m=(0,l.useDispatch)();return(0,P.jsx)(w,{...e,clientTrackingParams:t,showAdReasons:c,adTargetingAttribution:u,history:(0,a.useHistory)(),i18n:n,isWindowsPwa:p,location:(0,a.useLocation)(),logContextEvent:i,hidePinFeedback:e=>m((0,b.I1)(e)),showPinFeedback:(e,i)=>m((0,b.q1)(e,i)),showPinFeedbackOverlay:e=>m((0,b.Ib)(e)),showPinFeedbackUndo:(e,i,t,n)=>m((0,b.NA)({id:e,text:i,undoAction:t,undoText:n})),showAdReasonsModal:e=>m((0,b.b9)(e)),hideAdReasonsModal:e=>m((0,b.yj)(e))})}},482203:(e,i,t)=>{"use strict";t.d(i,{$:()=>u,r:()=>c});var n=t(667294),l=t(583592),a=t(624799),r=t(282802),o=t(272109),s=t(785893);let{Provider:d,useHook:u}=(0,l.Z)("PinRep");function c({children:e}){let{isAuthenticated:i}=(0,r.B)(),[t,l]=(0,n.useState)(!0),[u,c]=(0,n.useState)(!1),p=(0,a.Z)(1000069);(0,o.Z)(()=>{let e=async()=>{var e,t,n,a;if(!i){l(!1);return}let r=await p.fetchAllExperiences();r&&r.payload&&(null===(e=r.payload.experiences)||void 0===e?void 0:null===(t=e[1000069])||void 0===t?void 0:t.experience_id)===500417&&null!==(n=r.payload.experiences)&&void 0!==n&&null!==(a=n[1000069])&&void 0!==a&&a.display_data.hide_footer?p.viewExperience(1000069,500417):l(!1),c(!0)};e()});let m=(0,n.useMemo)(()=>({hasSimplifiedPinGridExpLoaded:u,hidePinRepFooter:t}),[u,t]);return(0,s.jsx)(d,{value:m,children:e})}},424271:(e,i,t)=>{"use strict";t.d(i,{Z:()=>k}),t(167912);var n,l,a=t(294184),r=t.n(a),o=t(883119),s=t(621514),d=t(840166),u=t(570476),c=t(450600),p=t(536042),m=t(630089),_=t(176172),h=t(245410),g=t(65192),y=t(785893);let v=void 0!==n?n:n=t(832494),f=e=>{var i,t;return{dominantColor:e.dominant_color,imageSpec_474x:(null===(i=e.images)||void 0===i?void 0:i["474x"])&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},imageSpec_736x:(null===(t=e.images)||void 0===t?void 0:t["736x"])&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width}}};function x({alt:e,onError:i=()=>{},onLoad:t=()=>{},pinKey:n}){var l,a;let{data:r}=(0,c.u)(v,n,{useLegacyAdapter:f}),{dominantColor:s}=r,{height:d,width:u,url:p}=null!==(l="number"==typeof(null===(a=r.imageSpec_474x)||void 0===a?void 0:a.width)&&"number"==typeof r.imageSpec_474x.height&&r.imageSpec_474x.width>r.imageSpec_474x.height?r.imageSpec_736x:r.imageSpec_474x)&&void 0!==l?l:{};return(0,y.jsx)(o.xu,{width:"100%",dangerouslySetInlineStyle:{__style:{zIndex:g.Z.storyPinImage}},children:(0,y.jsx)(o.Ee,{alt:e,color:s||"transparent",naturalHeight:null!=d?d:1,naturalWidth:null!=u?u:1,onError:i,onLoad:t,src:p||""})})}var b=t(568998);let S=void 0!==l?l:l=t(952329),P=e=>{var i,t,n,l;return{altText:e.alt_text,autoAltText:e.auto_alt_text,carouselData:e.carousel_data&&{__typename:"PinCarouselData"},description:e.description,dominantColor:e.dominant_color,entityId:e.id,gridTitle:e.grid_title,imageSpec_236x:(null===(i=e.images)||void 0===i?void 0:i["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},imageSpec_474x:(null===(t=e.images)||void 0===t?void 0:t["474x"])&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},imageSpec_736x:(null===(n=e.images)||void 0===n?void 0:n["736x"])&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},imageSpec_orig:(null===(l=e.images)||void 0===l?void 0:l.orig)&&{height:e.images.orig.height,url:e.images.orig.url,width:e.images.orig.width},storyPinDataId:e.story_pin_data_id,title:e.title,isThirdPartyAd:e.is_third_party_ad}},k=({cropHeight:e,cropWidth:i,fallbackColor:t,highResOnly:n,imageFit:l,lowResOnly:a,mediumResOnly:g,onError:v,onLoad:f,pinKey:k,saved:w=!1,surface:I})=>{var T,j,A,E,C,F,R,L,D,O,N;let z=(0,p.ZP)(),M=(0,d.Xx)(),{checkExperiment:K}=(0,h.F)(),{data:Z,childDataKey__DEPRECATED:B}=(0,c.u)(S,k,{useLegacyAdapter:P}),{altText:U,autoAltText:H,carouselData:V,description:G="",dominantColor:$,entityId:W,gridTitle:q,isThirdPartyAd:Y,title:X}=Z,J=(0,m.nk)(z._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:X||q}).join(""),Q=(0,s.Z)({altText:U,autoAltText:H,i18n:z,checkExperiment:K})||!!(null!=G&&G.trim().length)&&G||J;if(V)return(0,y.jsx)(b.Z,{onError:v,onLoad:f,highResOnly:n,lowResOnly:a,pinId:W,pinKey:null,isThirdPartyAd:Y});let ee="",ei,et=0,en=0;if(Z.imageSpec_736x||Z.imageSpec_orig||Z.imageSpec_474x||Z.imageSpec_236x){let e=Z.imageSpec_236x;n?e=Z.imageSpec_736x||Z.imageSpec_orig||Z.imageSpec_474x||Z.imageSpec_236x:g&&(e=Z.imageSpec_474x||Z.imageSpec_orig||Z.imageSpec_236x),et=null===(E=e)||void 0===E?void 0:E.height,en=null===(C=e)||void 0===C?void 0:C.width,ee=null===(F=e)||void 0===F?void 0:F.url,ei=a||g||n?null!==(R=e)&&void 0!==R&&R.url?`${e.url} 1x`:"":[(null===(L=Z.imageSpec_236x)||void 0===L?void 0:L.url)&&`${Z.imageSpec_236x.url} 1x`,(null===(D=Z.imageSpec_474x)||void 0===D?void 0:D.url)&&`${Z.imageSpec_474x.url} 2x`,(null===(O=Z.imageSpec_736x)||void 0===O?void 0:O.url)&&`${Z.imageSpec_736x.url} 3x`,(null===(N=Z.imageSpec_orig)||void 0===N?void 0:N.url)&&`${Z.imageSpec_orig.url} 4x`].filter(Boolean).join(", ")}null!=M&&M.image&&(et=M.image.height,en=M.image.width,ee=M.image.url);let el=["ShoppingGridSmall","ShoppingGridSmallCarousel"].includes(I)?void 0:_.Ml;return(0,y.jsx)(o.kC,{alignItems:"center",justifyContent:"start",minHeight:el,children:(0,y.jsx)(o.xu,{flex:"grow",children:(0,y.jsx)("div",{className:r()({savedGradient:w}),children:Z.storyPinDataId?(0,y.jsx)(x,{alt:Q,pinKey:B,onError:v,onLoad:f}):(0,y.jsx)(o.xu,{height:i?e:void 0,width:i||void 0,"data-test-id":"non-story-pin-image",children:(0,y.jsx)(u.Z,{alt:Q,color:"dominant"===t?null!=$?$:void 0:t,fit:l,naturalHeight:null!==(T=et)&&void 0!==T?T:1,naturalWidth:null!==(j=en)&&void 0!==j?j:1,onError:v,onLoad:f,src:null!==(A=ee)&&void 0!==A?A:"",srcSet:ei,crossOrigin:Y?"anonymous":void 0})})})})})}},335700:(e,i,t)=>{"use strict";t.d(i,{Z:()=>R});var n,l,a=t(667294);t(167912);var r=t(883119),o=t(424271),s=t(450600),d=t(898252),u=t(83503),c=t(886365),p=t(272270),m=t(536042),_=t(785893);let h={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},g={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},y={overlay:{__style:{backgroundColor:"#000"}}};function v({backgroundImage:e,naturalHeight:i,naturalWidth:t,onRestartVideo:n,pinId:l}){let a=(0,m.ZP)();return(0,_.jsxs)(r.Ee,{alt:a._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:i,naturalWidth:t,src:e,children:[(0,_.jsx)(r.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:y.overlay}),(0,_.jsxs)(r.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${l}`,children:[(0,_.jsx)(r.iP,{rounding:2,children:(0,_.jsxs)(r.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,_.jsx)(r.JO,{accessibilityLabel:a._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:g,size:25}),(0,_.jsx)(r.xu,{margin:1}),(0,_.jsx)(r.xv,{color:"light",lineClamp:1,weight:"bold",children:a._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,_.jsx)(r.xu,{margin:3}),(0,_.jsx)(r.iP,{onTap:n,rounding:2,children:(0,_.jsxs)(r.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,_.jsx)(r.JO,{accessibilityLabel:a._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:h,size:25}),(0,_.jsx)(r.xu,{margin:1}),(0,_.jsx)(r.xv,{color:"light",lineClamp:1,weight:"bold",children:a._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}function f({aspectRatio:e,children:i}){return(0,_.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:e}},children:i})}var x=t(197083);let b=new Set(["ConversationView","TodayTabFeed"]),S=void 0!==n?n:n=t(548359),P=e=>{var i,t;return{entityId:e.id,imageSpec_236x:(null===(i=e.images)||void 0===i?void 0:i["236x"])&&{url:e.images["236x"].url},isDownstreamPromotion:e.is_downstream_promotion,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isPromoted:e.is_promoted,promoter:e.promoter&&{__typename:"User"},videos:e.videos&&{entityId:null!==(t=e.videos.id)&&void 0!==t?t:"",videoList:e.videos.video_list&&{vHLSV4:e.videos.video_list.V_HLSV4&&{height:e.videos.video_list.V_HLSV4.height,thumbnail:e.videos.video_list.V_HLSV4.thumbnail,url:e.videos.video_list.V_HLSV4.url,width:e.videos.video_list.V_HLSV4.width}}}}};var k=t(282802),w=t(245438),I=t(566827),T=t(997394);function j(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let A=(0,w.Z)(function({inAdsDesktopVideoExperiment:e,isAutoplay:i,cropHeight:t,currentTime:n,lowResOnly:l,highResOnly:m,onLoad:h,onError:g,saved:y,onTimeChange:k,isExperimentalPinRep:w,pinKey:I,surface:T,playing:j,rootMargin:A,viewType:E,viewParameter:C,onVisibilityChanged:F,trackFullVisible:R,inVisibilityChangedHookExperiment:L,imageHeightModifier:D,cropWidth:O,video:N}){var z,M,K,Z,B,U;let H;let[V,G]=(0,a.useState)(!1),[$,W]=(0,a.useState)(!0),{data:q,childDataKey__DEPRECATED:Y}=(0,s.u)(S,I,{useLegacyAdapter:P}),{isDownstreamPromotion:X,promoter:J}=q,Q=(0,d.jL)(!!X,!!J),ee=Q&&!q.isEligibleForWebCloseup,ei=w&&Q&&q.isEligibleForWebCloseup&&!b.has(T),{setCurrentVideo:et}=(0,c.I)(),en=ee||!w||!Q,el=(0,u.Z)({onVisibilityChanged:F,inAdsDesktopVideoExperiment:e,trackFullVisible:R,rootMargin:A}),ea=!j;e&&(ea=$,i&&j&&$&&W(!1));let{url:er}=null!==(z=q.imageSpec_236x)&&void 0!==z?z:{},{entityId:eo,isPromoted:es}=q,ed=(0,a.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),et({pinId:eo,isPromoted:!!es,currentTime:0}),G(!1)},[es,eo,et]),eu=(0,a.useCallback)(()=>{es&&G(ei)},[ei,es]),ec=null!=N?N:null===(M=q.videos)||void 0===M?void 0:null===(K=M.videoList)||void 0===K?void 0:K.vHLSV4;if(!ec)return null;let{height:ep,thumbnail:em,width:e_,url:eh}=ec,eg=null!==(Z=null!==(B=null==N?void 0:N.entityId)&&void 0!==B?B:null===(U=q.videos)||void 0===U?void 0:U.entityId)&&void 0!==Z?Z:"",ey=[{type:"video/m3u8",src:eh}],ev=(null!=e_?e_:1)/(null!=ep?ep:1),ef=e&&T&&(0,p.Z)(T);if(ef&&(ev=1,H="transparent",D&&(ev-=D-1)),V&&Q)return(0,_.jsx)(r.xu,{ref:L?el:null,children:(0,_.jsx)(v,{backgroundImage:null!=er?er:"",naturalHeight:null!=ep?ep:1,naturalWidth:null!=e_?e_:1,pinId:eo,onRestartVideo:ed})});if(ea){let e={highResOnly:m,lowResOnly:l,onError:g,onLoad:h,pinKey:Y,saved:y};return ef&&(e={...e,cropHeight:t,cropWidth:O,imageFit:"contain"}),(0,_.jsx)(r.xu,{ref:L?el:null,children:(0,_.jsx)(f,{aspectRatio:ev,children:(0,_.jsx)(o.Z,{...e})})})}return(0,_.jsx)(r.xu,{ref:L?el:null,children:(0,_.jsx)(x.ZP,{isAutoPlay:!!i,cropHeight:t,rootMargin:A,surface:T,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:C,component:0,objectId:eo,video_id:eg,view:E},aspectRatio:ev,backgroundColor:H,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:n||-1},loop:en,onTimeChange:k,playing:j,onPlay:()=>{},onPlayError:()=>{},poster:er||em||void 0,src:null!=ey?ey:[],videoStartTime:n,volume:0,onEnded:eu})})}),E=void 0!==l?l:l=t(178770),C=e=>({entityId:e.id,isPromoted:e.is_promoted});class F extends a.Component{constructor(...e){super(...e),j(this,"calculateCurrentVideoTime",()=>{let{currentTimeFromPinRep:e,pin:i,videosAutoplaying:t}=this.props,{entityId:n}=i,l=(0,I.Z)(n,t);return this.currentVideoCurrentTime||l||e}),j(this,"handleVisibilityChanged",e=>{let{currentTimeFromPinRep:i,pin:t,requestContext:n,setCurrentVideo:l,pauseAutoplay:a,videosAutoplaying:r}=this.props,{entityId:o,isPromoted:s}=t,d=(0,T.Z)(o,r),u=function(e,i){let{organicVideosAutoplaying:t,promotedVideosAutoplaying:n}=i,l={...t,...n};for(let i in l){let{paused:t}=l[i];if(i!==e&&!t)return!1}return!0}(o,r);if(e){if(s)l({pinId:o,isPromoted:s,currentTime:this.calculateCurrentVideoTime()});else if(u){let{anyEnabled:e}=n.experimentsClient.checkExperiment("hfp_web_video_autoplay_in_grid")||{};l({pinId:o,isPromoted:!!s,currentTime:this.calculateCurrentVideoTime(),inVideoGridAutoplayExp:e})}}else!e&&d&&a({pinId:o,isPromoted:!!s,currentTime:i||this.currentVideoCurrentTime})}),j(this,"handleVideoTimeChange",e=>{let{pin:i,onTimeChange:t,videosAutoplaying:n}=this.props,{entityId:l}=i,a=(0,T.Z)(l,n);a&&(this.currentVideoCurrentTime=e.time),t&&t(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){let{appInFocus:i}=e,{appInFocus:t,currentTimeFromPinRep:n,pauseAutoplay:l,pin:a,setCurrentVideo:r,videosAutoplaying:o}=this.props,{entityId:s,isPromoted:d}=a,u=(0,T.Z)(s,o);t!==i&&!t&&u?(this.pausedDueToBrowserOutOfFocus=!0,l({pinId:s,isPromoted:!!d,currentTime:n||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&t&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:s,isPromoted:!!d,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){let{currentTimeFromPinRep:e,pauseAutoplay:i,pin:t,videosAutoplaying:n}=this.props,{entityId:l,isPromoted:a}=t,r=(0,T.Z)(l,n);r&&i({pinId:l,isPromoted:!!a,currentTime:e||this.currentVideoCurrentTime})}render(){let{childDataKey__DEPRECATED:e,cropHeight:i,isAutoplay:t,pin:n,surface:l,videosAutoplaying:a,viewParameter:r,viewType:o,highResOnly:s,lowResOnly:d,onError:u,onLoad:c,saved:p,inAdsDesktopVideoExperiment:m,isExperimentalPinRep:h,rootMargin:g,cropWidth:y,imageHeightModifier:v,video:f}=this.props,{entityId:x}=n,b=(0,I.Z)(x,a),S=(0,T.Z)(x,a),P=S&&t,k={cropHeight:i,rootMargin:g,currentTime:b,inAdsDesktopVideoExperiment:m,isAutoplay:t,viewParameter:r,viewType:o,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pinKey:e,surface:l,playing:P,trackFullVisible:!1,highResOnly:s,lowResOnly:d,onError:u,onLoad:c,saved:p,isExperimentalPinRep:h,cropWidth:y,imageHeightModifier:v,...f?{video:f}:{}};return(0,_.jsx)(A,{...k})}}function R({pinKey:e,...i}){let{appUI:{appInFocus:t,isAutoplay:n,videosAutoplaying:l},pauseAutoplay:a,setCurrentVideo:r}=(0,c.I)(),{data:o,childDataKey__DEPRECATED:d}=(0,s.u)(E,e,{useLegacyAdapter:C});return(0,_.jsx)(F,{...i,appInFocus:t,childDataKey__DEPRECATED:d,isAutoplay:n,pin:o,pauseAutoplay:a,requestContext:(0,k.B)(),setCurrentVideo:r,videosAutoplaying:l})}},412912:(e,i,t)=>{"use strict";t.d(i,{Z:()=>nv,h:()=>ny});var n,l,a,r,o,s,d,u,c,p,m,_,h,g,y,v,f,x,b,S,P,k=t(667294),w=t(702664),I=t(616550),T=t(883119),j=t(661900),A=t(236921),E=t(604094),C=t(536042),F=t(633917),R=t(282802),L=t(643183),D=t(549201);function O(e){return e.replace("ad.doubleclick.net","ad.doubleClick.net").replaceAll(/&epik=[^&]+/g,"")}t(167912);var N=t(946618),z=t(589845),M=t(450600),K=t(599551),Z=t(245410),B=t(473183),U=t(362626),H=t(347151),V=t(178067),G=t(785893);let $={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}},W=void 0!==n?n:n=t(561859),q=e=>{var i,t,n;return{adDestinationUrl:e.ad_destination_url,advertiserId:e.advertiser_id,attributionSourceId:e.attribution_source_id,board:e.board&&{url:e.board.url},campaignId:null==e.campaign_id?e.campaign_id:String(e.campaign_id),carouselData:e.carousel_data&&{carouselSlots:e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.map(e=>({link:e.link})),entityId:null!==(i=null===(t=e.carousel_data)||void 0===t?void 0:t.id)&&void 0!==i?i:"",index:null===(n=e.carousel_data)||void 0===n?void 0:n.index},domain:e.domain,entityId:e.id,isDownstreamPromotion:e.is_downstream_promotion,isPromoted:e.is_promoted,pinPromotionId:null==e.pin_promotion_id?e.pin_promotion_id:String(e.pin_promotion_id),pinner:e.pinner&&{username:e.pinner.username},promoter:e.promoter&&{entityId:e.promoter.id},storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params}};function Y({pinKey:e,sourceLinkStyle:i,surface:t,trackingParamsMap:n,url:l}){var a,r,o,s,d,u;let c=(0,C.ZP)(),[p,m]=(0,k.useState)(!1),{data:_,childDataKey__DEPRECATED:h}=(0,M.u)(W,e,{useLegacyAdapter:q}),g=(null===(a=_.carouselData)||void 0===a?void 0:a.index)||0,{isAuthenticated:y}=(0,R.B)(),{checkExperiment:v}=(0,Z.F)(),f=y&&v("web_obfuscate_offsite_url_in_href").anyEnabled,{entityId:x}=_,b=function({adDestinationUrl:e,domain:i,carouselDataId:t,carouselSlotLink:n}){let l=i||"";return e&&(l=(0,V.Z)(e).hostname||""),t&&(l=n&&(0,V.Z)(n).hostname||""),l.replace("www.","")}({adDestinationUrl:_.adDestinationUrl,domain:_.domain,carouselDataId:null===(r=_.carouselData)||void 0===r?void 0:r.entityId,carouselSlotLink:null===(o=_.carouselData)||void 0===o?void 0:null===(s=o.carouselSlots)||void 0===s?void 0:s[g].link}),S=(0,I.useLocation)(),P=(0,B.Z)(h),w=P(),{slotIndex:j}=(0,H.E)(),A=(0,N.Z)({boardUrl:null===(d=_.board)||void 0===d?void 0:d.url,location:S,pinId:_.entityId,pinnerUserName:null===(u=_.pinner)||void 0===u?void 0:u.username,storyPinDataId:_.storyPinDataId,trackingParams:_.trackingParams,trackingParamsMap:n}),E=(0,U.Z)(12,{object_id_str:x,clientTrackingParams:A,aux_data:{grid_index:j,...w}}),F=(0,U.Z)(101,{element:162,object_id_str:x,clientTrackingParams:A,aux_data:{...w}}),L=(0,U.Z)(8948,{object_id_str:x,clientTrackingParams:A,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:j,...w}}),D=()=>{E(),F(),L()},Y=(0,K.Z)({href:l,target:"blank",externalData:{auxData:w,pin:_&&{advertiserId:_.advertiserId,attributionSourceId:_.attributionSourceId,board:_.board&&{url:_.board.url},campaignId:_.campaignId,entityId:_.entityId,isDownstreamPromotion:_.isDownstreamPromotion,isPromoted:_.isPromoted,pinner:_.pinner&&{username:_.pinner.username},pinPromotionId:_.pinPromotionId,promoter:_.promoter&&{entityId:_.promoter.entityId},storyPinDataId:_.storyPinDataId,trackingParams:_.trackingParams,trackingParamsMap:n},surface:t}});return"icon-only"===i?(0,G.jsx)(T.I_,{accessibilityLabel:c._('link', 'Website url link', 'Website url link'),bgColor:"white",href:l,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),D(),Y({event:e})},rel:"nofollow",size:"sm"}):(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{...$.container,...p?$.containerHovered:Object.freeze({}),..."truncated-text"===i?$.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),position:"relative",children:(0,G.jsx)(z.Z,{hovered:p,pinKey:h,slotIndex:j,trackingParamsMap:n,viewType:1,children:(0,G.jsx)(T.Tg,{fullWidth:!1,href:f?O(l):l,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),D(),Y({event:e})},rel:"nofollow",rounding:4,children:(0,G.jsxs)(T.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:$.text},display:"flex",justifyContent:"between",children:[(0,G.jsx)(T.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,G.jsx)(T.JO,{accessibilityLabel:c._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,G.jsx)(T.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,G.jsx)(T.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:b})})]})})})})}var X=t(251951),J=t(979275);let Q=(0,k.lazy)(()=>Promise.all([t.e(23071),t.e(14734),t.e(30982),t.e(71407),t.e(48035)]).then(t.bind(t,932215))),ee=(0,k.lazy)(()=>Promise.resolve().then(t.bind(t,191085))),ei=(0,k.lazy)(()=>Promise.all([t.e(83414),t.e(5035)]).then(t.bind(t,842674))),et=({pinId:e})=>{let{onSendButtonClick:i}=(0,X.R)(),t=(0,U.Z)(101,{element:72,object_id_str:e});return(0,G.jsx)(J.Z,{onSendButtonClick:i,trackShareTap:t,size:"sm",bgColor:"white"})},en=(0,k.memo)(function({actionBarEditBeforeShare:e,feedbackData:i,feedbackType:t,layout:n,onToggleFlyout:l,pin:a,pinTitle:r,setForcePrimary:o,showEditButton:s,showOverflowMenu:d,showShareButton:u,showSourceLinkButton:c,sourceLinkStyle:p,surface:m}){var _,h,g,y,v;let f=(0,C.ZP)(),x=(0,T.JZ)(),{isRTL:b}=(0,R.B)(),S=!(0,D.HG)(),{viewParameter:P,viewType:w}=(0,H.E)(),{carousel_data:I,id:A,savedInfo:O,tracked_link:N,link:z,ad_destination_url:M}=a,K=null!==(_=null!==(h=null!=M?M:N)&&void 0!==h?h:z)&&void 0!==_?_:"",{showLeadPinStdAlpha:Z}=(0,j.Z)({promotedIsLeadAd:a.promoted_is_lead_ad}),[B,U]=(0,k.useState)(s),[V,$]=(0,k.useState)(s),[W,q]=(0,k.useState)(s),X=b?{marginLeft:s&&d?-44:0}:{marginRight:s&&d?-44:0},J={...X,transition:b?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},en={...b?{marginRight:V?4:0}:{marginLeft:V?4:0},transition:b?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,k.useEffect)(()=>{let e;return s&&d?($(!0),e=setTimeout(()=>{requestAnimationFrame(()=>{U(!0),requestAnimationFrame(()=>{q(!0)})})},800)):($(s),U(s),requestAnimationFrame(()=>{q(s)})),()=>{clearTimeout(e)}},[s,d]);let el=null;if(c){let e=`/pin/${A}`;el=(0,G.jsx)(F.Z,{children:Z?(0,G.jsx)(T.ZP,{accessibilityLabel:f._('Link for closeup view and learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link'),size:"sm",href:e,text:f._('Learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link')}):(0,G.jsx)(Y,{pinKey:{type:"deprecated",data:a},sourceLinkStyle:p,surface:m,trackingParamsMap:a.tracking_params_map,url:K})})}let ea=u&&(0,G.jsx)(E.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,G.jsx)(L.Z,{children:(0,G.jsx)(T.xu,{"data-test-id":"send-share-link",children:(0,G.jsx)(F.Z,{children:S?(0,G.jsx)(et,{pinId:a.id}):(0,G.jsx)(ei,{imageUrl:null===(g=a.images)||void 0===g?void 0:null===(y=g["236x"])||void 0===y?void 0:y.url,ownerId:null===(v=a.pinner)||void 0===v?void 0:v.id,pinId:a.id,setForcePrimary:o})})})})}),er=!!(null==O?void 0:O.localPinId),eo=er?null==O?void 0:O.localPinId:A,es=B&&(0,G.jsx)(E.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,G.jsx)(L.Z,{children:(0,G.jsx)(T.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:x?void 0:{__style:{opacity:W?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"}},children:(0,G.jsx)(F.Z,{children:(0,G.jsx)(Q,{carouselSlotCurrentIndex:I&&I.index,component:0,onToggleModal:l,pinId:eo,style:{size:"sm"},view:w,viewParameter:P,useLegoStyles:!0})})})})}),ed=(0,G.jsx)(E.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,G.jsx)(L.Z,{children:(0,G.jsx)(T.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:x?void 0:{__style:en},children:(0,G.jsx)(F.Z,{children:(0,G.jsx)(ee,{feedbackData:i,feedbackType:t,pinKey:{type:"deprecated",data:a},pinTitle:r,setForcePrimary:o})})})})});return"equally-spaced"===n?(0,G.jsxs)(T.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:el}),e?es:ea,e?ea:es,d&&ed]}):(0,G.jsxs)(T.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,G.jsx)(T.xu,{flex:"shrink",children:el}),(0,G.jsx)(T.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:x?void 0:{__style:J},children:(0,G.jsxs)(T.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[e?es:ea,e?ea:es,d&&ed]})})]})});var el=t(354428),ea=t(300657),er=t(525104);function eo(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class es extends k.Component{constructor(...e){super(...e),eo(this,"state",{spamCheck:null}),eo(this,"mounted",!1),eo(this,"handleSpammyDomainCheck",()=>{let{clientTrackingParams:e,location:i,pin:t,surface:n,url:l}=this.props;l&&t&&(!t.promoter||t.is_downstream_promotion)&&(0,el.$3)({location:i,pinId:t.id,surface:n})&&(0,el.iw)({clientTrackingParams:e,isMounted:this.mounted,pinId:t.id,spamCheckCallback:e=>this.setState({spamCheck:e}),href:l})}),eo(this,"handleClick",e=>{let{auxData:i,clientTrackingParams:t,onClick:n,navigateToOffsiteUrl:l,pin:a,pinId:r,url:o}=this.props;!(0,el.gV)({isOffsiteUrl:!0,event:e})&&(e.preventDefault(),n&&n(e),o&&l({auxData:i,clientTrackingParams:t,pin:a&&{attributionSourceId:a.attribution_source_id,campaignId:a.campaign_id,isPromoted:a.is_promoted,pinPromotionId:a.pin_promotion_id,isThirdPartyAd:a.is_third_party_ad,advertiserId:a.advertiser_id},pinId:r,url:o}))})}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){let{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){let{accessibilityLabel:e,children:i,shouldObfuscateOffsiteUrlInHref:t,url:n}=this.props;return(0,G.jsx)("a",{"aria-label":e,href:t?O(n):n,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:i})}}function ed(e){var i,t;let{pinId:n,disableA11yLabel:l}=e,a=(0,er.S6)()(null!=n?n:""),{checkExperiment:r}=(0,Z.F)(),{isAuthenticated:o}=(0,R.B)(),s=(0,I.useLocation)(),d=a?(0,N.Z)({boardUrl:null===(i=a.board)||void 0===i?void 0:i.url,location:s,pinId:a.id,pinnerUserName:null===(t=a.pinner)||void 0===t?void 0:t.username,storyPinDataId:a.story_pin_data_id,trackingParams:a.tracking_params,trackingParamsMap:a.tracking_params_map}):null,u=(0,ea.Z)({isFromClickthroughLink:!0});return(0,G.jsx)(es,{...e,accessibilityLabel:l?void 0:null==a?void 0:a.domain,clientTrackingParams:d,location:(0,I.useLocation)(),navigateToOffsiteUrl:u,pin:a,shouldObfuscateOffsiteUrlInHref:o&&r("web_obfuscate_offsite_url_in_href").anyEnabled})}var eu=t(388011),ec=t(788241);function ep(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";let{downloadedAssets:i,totalAssets:t}=window.prefetchCompletion[e];return t?(i/t*100).toFixed(3).toString():"-1"}let em=void 0!==l?l:l=t(897874),e_=e=>{var i,t,n;return{adDestinationUrl:e.ad_destination_url,carouselData:e.carousel_data&&{carouselSlots:e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.map(e=>({entityId:e.id,link:e.link})),entityId:null!==(i=null===(t=e.carousel_data)||void 0===t?void 0:t.id)&&void 0!==i?i:"",index:null===(n=e.carousel_data)||void 0===n?void 0:n.index},entityId:e.id,link:e.link,trackedLink:e.tracked_link,isThirdPartyAd:e.is_third_party_ad}};function eh({children:e,componentType:i,contextLogData:t,disableA11yLabel:n,pinKey:l,surface:a,viewParameter:r,viewType:o}){let s;let{data:d}=(0,M.u)(em,l,{useLegacyAdapter:e_}),{logContextEvent:u}=(0,eu.v)(),c=(0,H.E)(),{adDestinationUrl:p,carouselData:m,entityId:_,link:h,trackedLink:g,isThirdPartyAd:y}=d,v=p||g||h||"",f="one-tap-desktop",x=(0,ec.SU)();if(m){var b;let{carouselSlots:e=[],entityId:i}=m,t=null!==(b=m.index)&&void 0!==b?b:0;null!=e&&e[t]&&e[t].link&&(v=e[t].link),s={carousel_slot_id:(null==e?void 0:e[t])&&e[t].entityId,carousel_data_id:i,carousel_slot_index:t},f+="-carousel"}return(0,G.jsx)(T.xu,{"data-test-id":"otpp",children:(0,G.jsx)(T.xu,{"data-test-id":f,children:(0,G.jsx)(ed,{auxData:s,disableA11yLabel:n,onClick:()=>{u({event_type:12,view_type:o||c.viewType,view_parameter:r||c.viewParameter,component:i||c.componentType,object_id_str:_,aux_data:{...t,grid_index:c.slotIndex,pin_id:_,prefetch_percentage_complete:ep(h||""),is_third_party_ad:y}}),u({event_type:8948,view_type:o||c.viewType,view_parameter:r||c.viewParameter,component:i||c.componentType,object_id_str:_,aux_data:{...t,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:c.slotIndex,pin_id:_,prefetch_percentage_complete:ep(h||""),is_third_party_ad:y}}),u({event_type:13,object_id_str:_,component:i||c.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...c.contextLogData,...t,is_third_party_ad:y}}),u({event_type:13,view_type:x.viewType,view_parameter:x.viewParameter,view_data:x.viewData})},pinId:_,surface:a,url:v,children:e})})})}var eg=t(833897);let ey=e=>({isDownstreamPromotion:e.is_downstream_promotion,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,promotedIsLeadAd:e.promoted_is_lead_ad,promoter:e.promoter&&{__typename:"User"},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}),ev=void 0!==a?a:a=t(867685);function ef(e){var i;let{surface:t,trackingParamsMap:n,pinKey:l,...a}=e,{data:r,childDataKey__DEPRECATED:o}=(0,M.u)(ev,l,{useLegacyAdapter:ey}),s=!!r.promotedIsLeadAd,d=!!r.isEligibleForWebCloseup,u=!!r.promoter&&!r.isDownstreamPromotion,c=!!(null!==(i=r.videos)&&void 0!==i&&i.videoList);return!s&&(d||c&&u)?(0,G.jsx)(eh,{surface:d?t:void 0,pinKey:o,...a}):(0,G.jsx)(eg.Z,{pinKey:o,trackingParamsMap:n,...a})}var ex=t(788642),eb=t(219224),eS=t(297776),eP=t(802071),ek=t(924255),ew=t(541268),eI=t(274796),eT=t(755040),ej=t(385929);function eA({board:e,favoriteCount:i,favorited:t,pinId:n}){var l;let{logContextEvent:a}=(0,eu.v)(),r=(0,w.useDispatch)(),{slotIndex:o}=(0,H.E)(),{currentFilter:s,eligibleFilters:d,refreshData:u=()=>{},sectionId:c,setShowExperienceTooltip:p}=(0,eT.s)(),m=(0,k.useRef)(null),_=(0,eP.Z)(),h=(0,eb.Z)(_,null==e?void 0:null===(l=e.owner)||void 0===l?void 0:l.id),g=s===ej.Ac&&(!i||1===i),y=(0,ek.E)(d,ej.Ac),v=e=>{a({event_type:101,component:0,element:e?12225:12226,object_id_str:n,view_type:5,view_parameter:h?3069:3070})};return(0,G.jsxs)(k.Fragment,{children:[(0,G.jsx)(T.xu,{ref:m,children:(0,G.jsx)(ex.Z,{favorited:t,favoriteCount:i,onFavorite:()=>{v(!0),y&&u(),p&&p(!0)},onUnfavorite:()=>{v(!1),e&&g&&r((0,ew.EX)({feedId:c||e.id,feedType:c?eI.Z.BOARD_SECTION_PINS:eI.Z.BOARDFEED,itemIds:[n],itemType:"pin"}))},pinId:n,size:20})}),m&&!t&&!c&&0===o&&(0,G.jsx)(T.mh,{children:(0,G.jsx)(eS.default,{anchor:m.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}let eE=void 0!==r?r:r=t(173084);function eC({pinKey:e,pinNoteText:i,trackingParamsMap:t}){let{childDataKey__DEPRECATED:n}=(0,M.u)(eE,e,{useLegacyAdapter:()=>({})});return(0,G.jsx)(ef,{pinKey:n,trackingParamsMap:t,children:(0,G.jsx)(T.xv,{lineClamp:1,overflow:"normal",size:"200",children:i})})}let eF=void 0!==o?o:o=t(346480),eR=e=>{let{publicCreatorAnalytics:i}=e,t=!!e.storyPinDataId;return t&&i?i:null},eL=(e,i)=>{var t,n,l,a;return(i||!(e.storyPinDataId||null!==(t=e.videos)&&void 0!==t&&t.videoList))&&0!==Object.keys((null===(n=e.aggregatedPinData)||void 0===n?void 0:null===(l=n.creatorAnalytics)||void 0===l?void 0:l._30dRealtime)||{}).length?null===(a=e.aggregatedPinData)||void 0===a?void 0:a.creatorAnalytics:e.creatorAnalytics},eD=e=>({aggregatedPinData:e.aggregated_pin_data&&{creatorAnalytics:e.aggregated_pin_data.creator_analytics&&{_30dRealtime:e.aggregated_pin_data.creator_analytics["30d_realtime"]&&{clickthrough:e.aggregated_pin_data.creator_analytics["30d_realtime"].clickthrough,closeup:e.aggregated_pin_data.creator_analytics["30d_realtime"].closeup,fullScreenPlay:e.aggregated_pin_data.creator_analytics["30d_realtime"].full_screen_play,impression:e.aggregated_pin_data.creator_analytics["30d_realtime"].impression,pinClick:e.aggregated_pin_data.creator_analytics["30d_realtime"].pin_click,save:e.aggregated_pin_data.creator_analytics["30d_realtime"].save,videoAverageTime:e.aggregated_pin_data.creator_analytics["30d_realtime"].video_average_time,videoViews:e.aggregated_pin_data.creator_analytics["30d_realtime"].video_views},allTimeRealtime:e.aggregated_pin_data.creator_analytics.all_time_realtime&&{clickthrough:e.aggregated_pin_data.creator_analytics.all_time_realtime.clickthrough,closeup:e.aggregated_pin_data.creator_analytics.all_time_realtime.closeup,fullScreenPlay:e.aggregated_pin_data.creator_analytics.all_time_realtime.full_screen_play,impression:e.aggregated_pin_data.creator_analytics.all_time_realtime.impression,pinClick:e.aggregated_pin_data.creator_analytics.all_time_realtime.pin_click,save:e.aggregated_pin_data.creator_analytics.all_time_realtime.save,videoAverageTime:e.aggregated_pin_data.creator_analytics.all_time_realtime.video_average_time,videoViews:e.aggregated_pin_data.creator_analytics.all_time_realtime.video_views}}},creatorAnalytics:e.creator_analytics&&{_30dRealtime:e.creator_analytics["30d_realtime"]&&{clickthrough:e.creator_analytics["30d_realtime"].clickthrough,closeup:e.creator_analytics["30d_realtime"].closeup,fullScreenPlay:e.creator_analytics["30d_realtime"].full_screen_play,impression:e.creator_analytics["30d_realtime"].impression,pinClick:e.creator_analytics["30d_realtime"].pin_click,save:e.creator_analytics["30d_realtime"].save,videoAverageTime:e.creator_analytics["30d_realtime"].video_average_time,videoViews:e.creator_analytics["30d_realtime"].video_views},allTimeRealtime:e.creator_analytics.all_time_realtime&&{clickthrough:e.creator_analytics.all_time_realtime.clickthrough,closeup:e.creator_analytics.all_time_realtime.closeup,fullScreenPlay:e.creator_analytics.all_time_realtime.full_screen_play,impression:e.creator_analytics.all_time_realtime.impression,pinClick:e.creator_analytics.all_time_realtime.pin_click,save:e.creator_analytics.all_time_realtime.save,videoAverageTime:e.creator_analytics.all_time_realtime.video_average_time,videoViews:e.creator_analytics.all_time_realtime.video_views}},publicCreatorAnalytics:e.public_creator_analytics&&{_30dRealtime:e.public_creator_analytics["30d_realtime"]&&{clickthrough:e.public_creator_analytics["30d_realtime"].clickthrough,closeup:e.public_creator_analytics["30d_realtime"].closeup,fullScreenPlay:e.public_creator_analytics["30d_realtime"].full_screen_play,impression:e.public_creator_analytics["30d_realtime"].impression,pinClick:e.public_creator_analytics["30d_realtime"].pin_click,save:e.public_creator_analytics["30d_realtime"].save,videoAverageTime:e.public_creator_analytics["30d_realtime"].video_average_time,videoViews:e.public_creator_analytics["30d_realtime"].video_views},allTimeRealtime:e.public_creator_analytics.all_time_realtime&&{clickthrough:e.public_creator_analytics.all_time_realtime.clickthrough,closeup:e.public_creator_analytics.all_time_realtime.closeup,fullScreenPlay:e.public_creator_analytics.all_time_realtime.full_screen_play,impression:e.public_creator_analytics.all_time_realtime.impression,pinClick:e.public_creator_analytics.all_time_realtime.pin_click,save:e.public_creator_analytics.all_time_realtime.save,videoAverageTime:e.public_creator_analytics.all_time_realtime.video_average_time,videoViews:e.public_creator_analytics.all_time_realtime.video_views}},storyPinDataId:e.story_pin_data_id,videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}),eO=(e,i,t)=>{var n;let l;let{data:a}=(0,M.u)(eF,e,{useLegacyAdapter:eD}),r=i?eR(a):eL(a,t);return(l=t?(null==r?void 0:r.allTimeRealtime)||(null==r?void 0:r._30dRealtime):(null!==(n=a.videos)&&void 0!==n&&n.videoList||a.storyPinDataId)&&(null==r?void 0:r.allTimeRealtime)||(null==r?void 0:r._30dRealtime))&&{clickthrough:l.clickthrough,closeup:l.closeup,fullScreenPlay:l.fullScreenPlay,impression:l.impression,pinClick:l.pinClick,save:l.save,videoAverageTime:l.videoAverageTime,videoViews:l.videoViews}};var eN=t(316445);let ez=(e,i)=>i?[{align:"center",displayText:e._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"videoViews",iconType:"play"},{align:"center",displayText:e._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"videoAverageTime",iconType:"clock",valueFormat:"TIME"}]:[{align:"start",displayText:e._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"videoViews",iconType:"play"},{align:"center",displayText:e._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"videoAverageTime",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}],eM=(e,i)=>i?[{align:"center",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]:[{align:"start",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:e._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}],eK=(e,i,t,n)=>e?[{align:"start",displayText:t._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"fullScreenPlay",iconType:"play"}]:i?[{align:"start",displayText:t._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"fullScreenPlay",iconType:"play"},{align:"center",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:n?[{align:"center",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:t._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:t._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}],eZ=(e,i)=>i?[{align:"center",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pinClick",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:e._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pinClick",iconSize:10,iconType:"hand-pointing"}];var eB=t(117651),eU=t(13596);function eH({value:e,valueFormat:i}){let t=(0,C.ZP)();return e||0===e?"TIME"===i?(0,eB.Z)(e):(0,G.jsx)(eU.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,G.jsx)(T.u,{idealDirection:"up",text:t._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:""})}let eV=void 0!==s?s:s=t(936042),eG=e=>({createdAt:e.created_at,isRepin:e.is_repin,pinner:e.pinner&&{entityId:e.pinner.id},promotedIsRemovable:e.promoted_is_removable,storyPinDataId:e.story_pin_data_id,videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}});function e$({pinKey:e}){var i,t;let n=(0,C.ZP)(),l=(0,eP.Z)(),{data:a,childDataKey__DEPRECATED:r}=(0,M.u)(eV,e,{useLegacyAdapter:eG}),o=!!a.storyPinDataId,s=!!(null!==(i=a.videos)&&void 0!==i&&i.videoList),d=l.isAuth&&(null===(t=a.pinner)||void 0===t?void 0:t.entityId)===l.id&&!a.isRepin,u=l.isAuth&&l.isPartner,c=(0,eN.Z)("pinStats"),p=!!u&&c(),m=(0,A.iL)({isOwnPin:d,isPartner:u}),_=eO(r,m,p),h=(0,A.H1)({isOwnPin:d,isPartner:u}),g=a.createdAt?new Date(a.createdAt):null,y=(m||h)&&g&&g.getTime()<=A.HW.getTime(),v=!!a.promotedIsRemovable,f=function({isAdsOnlyPin:e,isStoryPin:i,isVideo:t,i18n:n,showPublicPinStats:l,showPrivateFullScreenPinStats:a,showSCEMetrics:r}){return r&&!l?eZ(n,e):t?ez(n,e):i?eK(l,a,n,e):eM(n,e)}({isAdsOnlyPin:v,isVideo:s,isStoryPin:o,i18n:n,showPublicPinStats:m,showPrivateFullScreenPinStats:h,showSCEMetrics:p});return(0,G.jsx)(T.kC,{alignItems:"start",justifyContent:v?"around":"between",children:f.map(({align:e,displayText:i,field:t,iconType:n,iconSize:l=12,valueFormat:a})=>(0,G.jsxs)(T.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,G.jsx)(T.xu,{display:"inlineBlock",marginEnd:1,children:(0,G.jsx)(T.JO,{accessibilityLabel:i,color:"default",icon:n,size:l})}),(0,G.jsx)(T.xv,{inline:!0,size:"200",children:(0,G.jsx)(eH,{value:"full_screen_play"===t&&y?null:null==_?void 0:_[t],valueFormat:a})})]},t))})}var eW=t(951202);let eq=void 0!==d?d:d=t(990199),eY=void 0!==u?u:u=t(560296);function eX(e,i){var t,n,l,a;let{data:r,childDataKey__DEPRECATED:o}=(0,M.u)(eY,e,{useLegacyAdapter:e=>{var i,t;return{domain:e.domain,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,richSummary:e.rich_summary&&{products:null===(i=e.rich_summary.products)||void 0===i?void 0:i.map(e=>({brand:e.brand&&{name:e.brand.name}})),typeName:null===(t=e.rich_summary)||void 0===t?void 0:t.type_name}}}}),s=function(e){var i,t,n,l,a;let{data:r}=(0,M.u)(eq,e,{useLegacyAdapter:e=>{var i,t;return{domain:e.domain,isRepin:e.is_repin,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name}},originPinner:e.origin_pinner&&{fullName:e.origin_pinner.full_name},pinner:e.pinner&&{fullName:e.pinner.full_name},richSummary:e.rich_summary&&{products:null===(i=e.rich_summary.products)||void 0===i?void 0:i.map(e=>({brand:e.brand&&{name:e.brand.name}})),siteName:null===(t=e.rich_summary)||void 0===t?void 0:t.site_name},viaPinner:e.via_pinner&&{fullName:e.via_pinner.full_name}}}});return(null===(i=r.linkDomain)||void 0===i?void 0:null===(t=i.officialUser)||void 0===t?void 0:t.fullName)||(null===(n=r.richSummary)||void 0===n?void 0:n.siteName)||("Uploaded by user"===r.domain?null===(l=r.isRepin?r.originPinner:r.pinner)||void 0===l?void 0:l.fullName:r.domain||r.isRepin&&(null===(a=r.viaPinner)||void 0===a?void 0:a.fullName)||void 0)}(o);return((null===(t=r.richSummary)||void 0===t?void 0:t.typeName)==="product"||"ShoppingGridShippedMetadataWithVisitButton"===i&&(r.isOosProduct||r.isStaleProduct))&&((null===(n=((null===(l=r.richSummary)||void 0===l?void 0:null===(a=l.products)||void 0===a?void 0:a[0])||{}).brand)||void 0===n?void 0:n.name)||s)||""}let eJ=void 0!==c?c:c=t(526102);function eQ({disableLink:e,pinKey:i,surface:t,trackingParamsMap:n}){let{childDataKey__DEPRECATED:l}=(0,M.u)(eJ,i,{useLegacyAdapter:()=>({})}),a=eX(l,t),r=(0,G.jsx)(T.xu,{"data-test-id":"pin-source",display:"flex",alignItems:"stretch",justifyContent:"start",children:(0,G.jsx)(T.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:a})});return e?r:(0,G.jsx)(ef,{pinKey:l,surface:t,trackingParamsMap:n,children:r})}var e0=t(969327),e1=t(874261),e2=t(869805);let e6=void 0!==p?p:p=t(83551),e3=e=>({isDownstreamPromotion:e.is_downstream_promotion,promoter:e.promoter&&{__typename:"User"}});function e4({disableLink:e,numberOfLines:i=2,pinKey:t,pinTitle:n,surface:l,trackingParamsMap:a}){let r=(0,R.B)(),{checkExperiment:o}=(0,Z.F)(),{data:s,childDataKey__DEPRECATED:d}=(0,M.u)(e6,t,{useLegacyAdapter:e3}),u=!!s.promoter&&!s.isDownstreamPromotion,c=`
  .shorten-title > a {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .shorten-title {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  `,p=e?n:(0,G.jsx)(ef,{pinKey:d,surface:l,trackingParamsMap:a,children:n}),m=(0,e0.G6)(r.userAgent.browserName),_="iphone"===(0,e2.vR)(r),h="ipad"===(0,e2.vR)(r);return(_||h||m)&&!u&&o("hfp_title_truncation_safari_web").anyEnabled?(0,G.jsxs)(T.xv,{color:"default",size:"200",weight:"bold",children:[(0,G.jsx)(e1.Z,{unsafeCSS:c}),(0,G.jsx)("div",{className:"shorten-title",children:p})]}):(0,G.jsx)(T.xv,{color:"default",lineClamp:i,size:"200",weight:"bold",children:p})}var e8=t(191085),e7=t(496085),e5=t(897310),e9=t(409445),ie=t(615661),ii=t(495796),it=t(473754),il=t(411171);let ia={goodIdea:e5,love:ie,thanks:ii,wow:it,haha:e9},ir={_7:"goodIdea",_1:"love",_13:"thanks",_11:"wow",_5:"haha"},io=["CreatorProfileStoryPinGrid"],is=void 0!==m?m:m=t(388661),id=e=>({entityId:e.id,pinner:e.pinner&&{entityId:e.pinner.id}}),iu=function({alignment:e="start",pinKey:i,surface:t}){var n;let l=(0,eP.Z)(),{data:a,childDataKey__DEPRECATED:r}=(0,M.u)(is,i,{useLegacyAdapter:id}),o=(0,e7.Z)(r),s=o?(0,il.At)(o):null,d=o?(0,il.Ud)(o):0,u=!!(l.isAuth&&(null===(n=a.pinner)||void 0===n?void 0:n.entityId)===l.id),c=!!s&&s.length>0&&s.map((e,i)=>{let t=ir[e],n=ia[t];return(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,G.jsx)(T.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},i)}),p=!!c&&(0,G.jsx)(T.Tg,{href:`/pin/${a.entityId}/`,children:(0,G.jsxs)(T.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,G.jsx)(T.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:c}),(0,G.jsx)(T.xu,{paddingX:1,children:(0,G.jsx)(T.xv,{size:"200",children:(0,G.jsx)(eU.Z,{value:d,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),m=u&&io.includes(t)&&(0,G.jsx)(T.xu,{height:24});return p||m};var ic=t(309926),ip=t(870243);function im({accessibilityLabel:e,attributionNameLink:i,avatarUrl:t,fullWidth:n=!0,name:l="",onClick:a,outline:r=!1,size:o=32,shouldRenderAdsOnlyProfileClick:s=!1}){let d=(0,G.jsx)(T.xu,{"data-test-id":"attribution-avatar",height:o,width:o,children:(0,G.jsx)(ip.qE,{name:l,src:t,accessibilityLabel:"",outline:r})});return i?(0,G.jsx)(T.Tg,{fullWidth:n,href:i,rel:s?"nofollow":void 0,target:s?"blank":void 0,onTap:a,accessibilityLabel:e,children:d}):d}var i_=t(493214);function ih({isHover:e,attributionNameLink:i,name:t,onClick:n,regularWeight:l}){return(0,G.jsx)(T.xu,{children:i?(0,G.jsx)(T.xv,{underline:e,size:"200",lineClamp:1,weight:l?"normal":"bold",children:(0,G.jsx)(T.rU,{onClick:n,href:i,children:t})}):(0,G.jsx)(i_.Z,{underline:e,size:"200",lineClamp:1,weight:l?"normal":"bold",children:t})})}function ig({isHover:e,link:i,onClick:t,title:n,weight:l,inline:a=!0}){return n?(0,G.jsx)(T.xv,{inline:a,underline:e,size:"200",weight:l,children:i?(0,G.jsx)(T.rU,{onClick:t,href:i,children:n}):n}):null}var iy=t(251163),iv=t(397831);function ix({attributionNameLink:e,attributionTitle:i,avatarUrl:t,display:n="default",isPromotedByPinCreator:l,name:a,url:r,verifiedIdentity:o,isVerifiedMerchant:s,shouldRenderAdsOnlyProfileClick:d,pinId:u,storyPinDataId:c,hasPromoter:p,hasSponsorship:m,sponsorshipCreatorId:_,isDownstreamPromotion:h}){let g=(0,iv.f)(),[y,v]=(0,k.useState)(!1),f=p&&!h,{logContextEvent:x}=(0,eu.v)(),b=(0,U.Z)(101,{view_type:3,element:f?283:27,object_id_str:u,component:c?230:void 0,aux_data:{..._?{creator_id:_,pin_id:u}:{}}}),S=()=>{g.setMostRecentPinId(u),b()},P=()=>{v(e=>!e)},w=r&&!e,I=w?"":a,j="overlay"===n,A={marginLeft:"3px",marginRight:"3px"},E=(0,G.jsxs)(T.xu,{alignItems:"center",display:j?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[t&&(0,G.jsx)(T.xu,{flex:"none",dangerouslySetInlineStyle:{__style:A},display:j?"flex":void 0,justifyContent:"center",children:(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:j?{__style:{marginTop:-45}}:void 0,children:(0,G.jsx)(im,{attributionNameLink:I?e:void 0,avatarUrl:t,name:I,onClick:()=>S(),accessibilityLabel:I,size:j?64:32,outline:j})})}),(0,G.jsxs)(T.xu,{dangerouslySetInlineStyle:{__style:A},flex:"grow",overflow:"hidden",display:j?"flex":void 0,justifyContent:"center",marginTop:j?2:void 0,children:[(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,G.jsxs)(T.kC,{gap:{row:1,column:0},children:[(0,G.jsx)(ih,{attributionNameLink:e,name:a,onClick:()=>S(),regularWeight:!(f&&!m||l),isHover:y}),(0,G.jsx)(iy.Z,{size:"sm",hasVerifiedIdentity:o,isVerifiedMerchant:s})]})}),(0,G.jsx)(ig,{isHover:y,title:i,weight:"normal",inline:!f})]})]});return w?(0,G.jsx)(T.Tg,{onTap:({event:e})=>{d&&x({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),e.stopPropagation(),S()},href:r,rel:d?"nofollow":void 0,target:d?"blank":void 0,onMouseEnter:P,onMouseLeave:P,children:E}):E}var ib=t(885669);let iS={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${ib.X}ms ease`},visible:{opacity:1}}};var iP=t(649715);let ik=void 0!==_?_:_=t(427387),iw=e=>({pinner:e.pinner&&{fullName:e.pinner.full_name,username:e.pinner.username},sourceInterest:e.source_interest&&{name:e.source_interest.name}});function iI({feedbackType:e,pinKey:i,trackingParamsMap:t}){let n=(0,C.ZP)(),{data:l,childDataKey__DEPRECATED:a}=(0,M.u)(ik,i,{useLegacyAdapter:iw}),{pinner:r,sourceInterest:o}=l,{fullName:s,username:d}=r||{},{name:u}=o||{},c="topic"===e,p=`/${d}/`,m=(0,iP.Z)(u),_=`/search/pins/?q=${encodeURIComponent(m)}&rs=image_only_attribution`,h=c?_:p,g={topic:n._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:n._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:n._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:n._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')},y=g[e];if(!y)return null;if(!c&&"followed"===e||c){let e=0===y.indexOf("{"),i=c?u:s,t=e?y.slice(y.indexOf("}")+1):y.slice(0,y.indexOf("{"));return e?(0,G.jsxs)(T.xu,{children:[(0,G.jsx)(T.rU,{display:"inlineBlock",href:h,underline:"hover",children:(0,G.jsx)(T.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})}),(0,G.jsx)(T.xv,{inline:!0,size:"200",children:t})]}):(0,G.jsxs)(T.xu,{children:[(0,G.jsx)(T.xv,{inline:!0,size:"200",children:t}),(0,G.jsx)(T.rU,{display:"inlineBlock",href:h,underline:"hover",children:(0,G.jsx)(T.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})})]})}return(0,G.jsx)(T.xu,{children:(0,G.jsx)(eg.Z,{pinKey:a,trackingParamsMap:t,children:(0,G.jsx)(T.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:y})})})}t(422578);let iT=void 0!==h?h:h=t(150470),ij=e=>({board:e.board&&{url:e.board.url},isDownstreamPromotion:e.is_downstream_promotion,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{adsOnlyProfileSite:e.link_domain.official_user.ads_only_profile_site,fullName:e.link_domain.official_user.full_name,imageLargeUrl:e.link_domain.official_user.image_large_url,imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,isAdsOnlyProfile:e.link_domain.official_user.is_ads_only_profile,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified,isVerifiedMerchant:e.link_domain.official_user.is_verified_merchant,username:e.link_domain.official_user.username,verifiedIdentity:e.link_domain.official_user.verified_identity&&{verified:e.link_domain.official_user.verified_identity.verified}}},nativeCreator:e.native_creator&&{adsOnlyProfileSite:e.native_creator.ads_only_profile_site,entityId:e.native_creator.id,fullName:e.native_creator.full_name,imageLargeUrl:e.native_creator.image_large_url,imageMediumUrl:e.native_creator.image_medium_url,imageSmallUrl:e.native_creator.image_small_url,isAdsOnlyProfile:e.native_creator.is_ads_only_profile,isVerifiedMerchant:e.native_creator.is_verified_merchant,username:e.native_creator.username,verifiedIdentity:e.native_creator.verified_identity&&{verified:e.native_creator.verified_identity.verified}},pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username,isVerifiedMerchant:e.pinner.is_verified_merchant,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{adsOnlyProfileSite:e.promoter.ads_only_profile_site,entityId:e.promoter.id,fullName:e.promoter.full_name,imageMediumUrl:e.promoter.image_medium_url,imageSmallUrl:e.promoter.image_small_url,isAdsOnlyProfile:e.promoter.is_ads_only_profile,username:e.promoter.username},sponsorship:e.sponsorship&&{sponsor:e.sponsorship.sponsor&&{fullName:e.sponsorship.sponsor.full_name,username:e.sponsorship.sponsor.username}}});var iA=t(925428),iE=t(462887);let iC=void 0!==g?g:g=t(269577),iF=e=>{var i,t;return{entityId:e.id,favoriteUserCount:e.favorite_user_count,favoritedByMe:e.favorited_by_me,isDownstreamPromotion:e.is_downstream_promotion,nativeCreator:e.native_creator&&{entityId:e.native_creator.id},promoter:e.promoter&&{__typename:"User",entityId:e.promoter.id},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(i=e.sponsorship.creator.id)&&void 0!==i?i:""},sponsor:e.sponsorship.sponsor&&{entityId:null!==(t=e.sponsorship.sponsor.id)&&void 0!==t?t:"",fullName:e.sponsorship.sponsor.full_name},status:e.sponsorship.status},storyPinData:e.story_pin_data&&{hasAffiliateProducts:e.story_pin_data.has_affiliate_products},storyPinDataId:e.story_pin_data_id}};function iR({attributionType:e,board:i,contentType:t,feedbackData:n,feedbackType:l,hasTextContent:a,hasTitleOrSource:r,hoverTransitionState:o,pinKey:s,pinNoteText:d,pinTitle:u,productCurrentPrice:c,productOriginalPrice:p,setForcePrimary:m,showCarouselEllipsis:_,showFavoriteButton:h,showGroupBoardAvatar:g,showNativeReactions:y,showOverflowMenu:v,showPinStats:f,showSource:x,showTextContent:b,showAttribution:S,surface:P,titleLines:I,trackingParamsMap:j}){var A,E,R,L,D;let O=(0,eP.Z)(),N=(0,w.useDispatch)(),{data:z,childDataKey__DEPRECATED:K}=(0,M.u)(iC,s,{useLegacyAdapter:iF}),{favoritedByMe:Z,favoriteUserCount:B,entityId:H,sponsorship:V,storyPinData:$}=z,{hasAffiliateProducts:W}=$||{},q=(0,e7.Z)(K),Y=function({attributionType:e,pinKey:i}){let t=(0,C.ZP)(),{data:n}=(0,M.u)(iT,i,{useLegacyAdapter:ij});return function({attributionType:e,i18n:i,pin:{board:t,isDownstreamPromotion:n,linkDomain:l,nativeCreator:a,pinner:r,promoter:o,sponsorship:s}}){var d,u,c,p,m,_,h,g,y,v,f,x,b,S,P,k,w,I,T,j,A,E,C,F,R,L,D,O,N,z,M,K,Z,B,U,H,V,G;let $=!!o&&!n,W=$&&!!s&&(null==a?void 0:a.entityId)!==(null==o?void 0:o.entityId),q=null==l?void 0:l.officialUser,Y=null==s?void 0:s.sponsor,X="",J="",Q="",ee="",ei="",et="",en=!1,el=!1,ea=!1;function er(e,i){return!!e&&!!i}return W?(X=null!==(_=null!==(h=null==a?void 0:a.imageMediumUrl)&&void 0!==h?h:null==a?void 0:a.imageSmallUrl)&&void 0!==_?_:"",J=er(null==a?void 0:a.isAdsOnlyProfile,null==a?void 0:a.adsOnlyProfileSite)?null!==(g=a.adsOnlyProfileSite)&&void 0!==g?g:"":`/${null!==(y=null==a?void 0:a.username)&&void 0!==y?y:""}/`,Q=null==o?void 0:o.fullName,ee=null==a?void 0:a.fullName,et=er(null==a?void 0:a.isAdsOnlyProfile,null==a?void 0:a.adsOnlyProfileSite)?null!==(v=a.adsOnlyProfileSite)&&void 0!==v?v:"":`/${null!==(f=null==a?void 0:a.username)&&void 0!==f?f:""}/`,ei=`/${null!==(x=null==o?void 0:o.username)&&void 0!==x?x:""}/`,en=null==a?void 0:null===(b=a.verifiedIdentity)||void 0===b?void 0:b.verified,el=null==a?void 0:a.isVerifiedMerchant,ea=er(null==a?void 0:a.isAdsOnlyProfile,null==a?void 0:a.adsOnlyProfileSite)):$&&o?(X=o.imageMediumUrl||o.imageSmallUrl,Q=o.fullName,ee=i._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),et=er(o.isAdsOnlyProfile,o.adsOnlyProfileSite)?o.adsOnlyProfileSite:`/${null!==(S=o.username)&&void 0!==S?S:""}/`,ea=er(o.isAdsOnlyProfile,o.adsOnlyProfileSite)):s&&null!=Y&&Y.username?(X=null!==(P=null!==(k=null!==(w=null==a?void 0:a.imageLargeUrl)&&void 0!==w?w:null==a?void 0:a.imageMediumUrl)&&void 0!==k?k:null==a?void 0:a.imageSmallUrl)&&void 0!==P?P:"",J=er(null==a?void 0:a.isAdsOnlyProfile,null==a?void 0:a.adsOnlyProfileSite)?null!==(I=a.adsOnlyProfileSite)&&void 0!==I?I:"":`/${null!==(T=null==a?void 0:a.username)&&void 0!==T?T:""}/`,Q=Y.fullName,ee=null==a?void 0:a.fullName,et=er(null==a?void 0:a.isAdsOnlyProfile,null==a?void 0:a.adsOnlyProfileSite)?null!==(j=a.adsOnlyProfileSite)&&void 0!==j?j:"":`/${null!==(A=null==a?void 0:a.username)&&void 0!==A?A:""}/`,ei=`/${null!==(E=Y.username)&&void 0!==E?E:""}/`,en=null==a?void 0:null===(C=a.verifiedIdentity)||void 0===C?void 0:C.verified,el=null==a?void 0:a.isVerifiedMerchant,ea=er(null==a?void 0:a.isAdsOnlyProfile,null==a?void 0:a.adsOnlyProfileSite)):a?(X=null!==(F=null!==(R=null!==(L=a.imageLargeUrl)&&void 0!==L?L:a.imageMediumUrl)&&void 0!==R?R:a.imageSmallUrl)&&void 0!==F?F:"",ee=a.fullName,et=er(a.isAdsOnlyProfile,a.adsOnlyProfileSite)?a.adsOnlyProfileSite:`/${null!==(D=a.username)&&void 0!==D?D:""}/`,en=null===(O=a.verifiedIdentity)||void 0===O?void 0:O.verified,el=a.isVerifiedMerchant,ea=er(a.isAdsOnlyProfile,a.adsOnlyProfileSite)):"show-for-claimed-content"===e?null!=q&&q.isPrimaryWebsiteVerified&&q.username&&(X=null!==(N=null!==(z=null!==(M=q.imageLargeUrl)&&void 0!==M?M:q.imageMediumUrl)&&void 0!==z?z:q.imageSmallUrl)&&void 0!==N?N:"",ee=q.fullName,et=er(q.isAdsOnlyProfile,q.adsOnlyProfileSite)?q.adsOnlyProfileSite:`/${null!==(K=q.username)&&void 0!==K?K:""}/`,en=null===(Z=q.verifiedIdentity)||void 0===Z?void 0:Z.verified,el=q.isVerifiedMerchant,ea=er(q.isAdsOnlyProfile,q.adsOnlyProfileSite)):(X=null!==(B=null!==(U=null!==(H=null==r?void 0:r.imageLargeUrl)&&void 0!==H?H:null==r?void 0:r.imageMediumUrl)&&void 0!==U?U:null==r?void 0:r.imageSmallUrl)&&void 0!==B?B:"",J=`/${null!==(V=null==r?void 0:r.username)&&void 0!==V?V:""}/`,ee=null==r?void 0:r.fullName,et=(null==t?void 0:t.url)||"",en=null==r?void 0:null===(G=r.verifiedIdentity)||void 0===G?void 0:G.verified,el=null==r?void 0:r.isVerifiedMerchant),{avatarUrl:null!==(d=X)&&void 0!==d?d:"",attributionNameLink:null!==(u=J)&&void 0!==u?u:"",attributionTitle:null!==(c=Q)&&void 0!==c?c:"",name:null!==(p=ee)&&void 0!==p?p:"",sponsorUrl:ei,url:null!==(m=et)&&void 0!==m?m:"",verifiedIdentity:!!en,isVerifiedMerchant:!!el,shouldRenderAdsOnlyProfileClick:!!ea}}({attributionType:e,pin:n,i18n:t})}({attributionType:e,pinKey:K}),{avatarUrl:X,attributionNameLink:J,attributionTitle:Q,name:ee,sponsorUrl:ei,url:et,verifiedIdentity:en,isVerifiedMerchant:el,shouldRenderAdsOnlyProfileClick:ea}=Y,er=!!z.promoter&&!z.isDownstreamPromotion,eo=er&&(null===(A=z.nativeCreator)||void 0===A?void 0:A.entityId)===(null===(E=z.promoter)||void 0===E?void 0:E.entityId),es=(0,U.Z)(101,{view_type:3,element:27,object_id_str:H,component:z.storyPinDataId?230:void 0,aux_data:{pin_id:H,...null!=V&&null!==(R=V.creator)&&void 0!==R&&R.entityId&&null!==(L=V.sponsor)&&void 0!==L&&L.entityId?{creator_id:V.creator.entityId,sponsor_id:V.sponsor.entityId}:{}}}),ed=e=>N(ed(e)),{fullName:eu}=(null==V?void 0:V.sponsor)||{},ec="ConversationView"===P?{padding:"8px"}:iS.container;return(0,G.jsxs)(T.xu,{dangerouslySetInlineStyle:{__style:ec},children:[_&&(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:r||g||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,G.jsx)(F.Z,{children:(0,G.jsx)(iA.default,{pinKey:{type:"deprecated",data:H}})})}),f&&(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%","data-test-id":"pin-stats-footer",children:(0,G.jsx)(e$,{pinKey:K})}),(0,G.jsx)(T.kC,{alignItems:"stretch",justifyContent:"start",children:(0,G.jsxs)(T.xu,{flex:"grow",children:[(!!V||W&&!er)&&!eo&&(0,G.jsx)(T.xu,{marginBottom:1,children:(0,G.jsx)(T.xu,{flex:"grow",overflow:"hidden",children:(0,G.jsx)(iE.Z,{hasAffiliateProducts:!!W,href:ei||et,isPromoted:er,sponsorName:eu,sponsorshipStatus:null==V?void 0:V.status,onNavigateSponsorClick:()=>{ed(H),es()},textWeight:"bold"})})}),(b&&a||h)&&(0,G.jsxs)(T.xu,{marginBottom:1,children:["shopping"!==t&&(p||c)&&(0,G.jsx)(T.xu,{marginBottom:1,children:(0,G.jsx)(ef,{pinKey:K,surface:P,trackingParamsMap:j,children:(0,G.jsx)(eW.Z,{currentPrice:c,originalPrice:p})})}),h?(0,G.jsxs)(T.kC,{alignItems:"start",children:[(0,G.jsx)(T.kC,{flex:"grow",children:(0,G.jsx)(e4,{numberOfLines:I,pinKey:K,pinTitle:u,surface:P,trackingParamsMap:j})}),(0,G.jsx)(T.xu,{marginStart:3,children:(0,G.jsx)(eA,{board:i,favorited:!!Z,favoriteCount:null!=i&&i.is_collaborative&&(0,ic.Z)(i.collaborated_by_me,null===(D=i.owner)||void 0===D?void 0:D.id,O)?null!=B?B:0:void 0,pinId:H})})]}):(0,G.jsx)(e4,{numberOfLines:I,pinKey:K,pinTitle:u,surface:P,trackingParamsMap:j}),x&&(0,G.jsx)(T.xu,{marginBottom:2,children:(0,G.jsx)(eQ,{pinKey:K,trackingParamsMap:j,surface:P})})]}),S&&(0,G.jsxs)(T.kC,{alignItems:"center",justifyContent:"start",children:[(0,G.jsx)(T.xu,{flex:"grow",children:(()=>{var i,t;let n=(0,G.jsx)(ix,{attributionNameLink:J,attributionTitle:er&&!V||eo?Q:"",avatarUrl:X,isPromotedByPinCreator:!!eo,isVerifiedMerchant:el,shouldRenderAdsOnlyProfileClick:ea,name:ee,url:et,verifiedIdentity:en,pinId:z.entityId,storyPinDataId:z.storyPinDataId,hasPromoter:!!z.promoter,hasSponsorship:!!z.sponsorship,sponsorshipCreatorId:null===(i=z.sponsorship)||void 0===i?void 0:null===(t=i.creator)||void 0===t?void 0:t.entityId,isDownstreamPromotion:z.isDownstreamPromotion});switch(e){case"none":return null;case"image-only-credit":return(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:iS.imageOnlyAttribution["active"===o?"visible":"hidden"]},children:(0,G.jsx)(iI,{pinKey:K,trackingParamsMap:j,feedbackType:l})});default:let a=Object.values(Y).some(e=>!!e);return a?n:null}})()}),v&&(0,G.jsx)(T.xu,{flex:"none",children:(0,G.jsx)(e8.default,{feedbackData:n,feedbackType:l,pinKey:K,pinTitle:u,setForcePrimary:m,transparentBackground:!0})})]}),y&&!!q&&Object.keys(q).length>0&&(0,G.jsx)(T.xu,{marginTop:"ConversationView"===P?2:void 0,children:(0,G.jsx)(iu,{pinKey:K,surface:P})}),d&&(0,G.jsx)(T.xu,{marginBottom:1,children:(0,G.jsx)(eC,{pinKey:K,trackingParamsMap:j,pinNoteText:d})}),g&&!h&&(0,G.jsx)(T.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,G.jsxs)(k.Fragment,{children:[(0,G.jsx)(im,{attributionNameLink:J||et,avatarUrl:X,fullWidth:!1,name:ee,accessibilityLabel:ee,shouldRenderAdsOnlyProfileClick:ea}),(0,G.jsx)(T.xu,{marginStart:2,flex:"grow",children:(0,G.jsx)(T.xv,{size:"200",children:ee})})]})})]})},`${z.entityId}-sponsor-name-link`)]})}var iL=t(840166);function iD({dimension:e,color:i,isSelected:t,img:n,selectVariant:l}){var a,r,o;let s=(0,C.ZP)(),d=(0,G.jsx)(T.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onMouseEnter:({event:t})=>{t.preventDefault(),t.stopPropagation(),l({dimensionName:e,variant:i})},onFocus:()=>{l({dimensionName:e,variant:i})},children:(0,G.jsx)(T.xu,{"data-test-id":`primary-variant-preview-icon-${i}`,height:18,width:18,rounding:1,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{border:t?"1px solid black":"1px solid #EFEFEF"}},children:(0,G.jsx)(T.xu,{height:14,width:14,position:"absolute",rounding:1,overflow:"hidden",children:(0,G.jsx)(T.xu,{"data-test-id":`${i}-variant-preview-wrapper`,dangerouslySetInlineStyle:{__style:{transform:"scale(10,10)"}},children:(0,G.jsx)(T.zd,{height:14,width:14,rounding:1,children:(0,G.jsx)(T.Ee,{alt:s._('Color variant preview image', 'MerchantStorefront.Variant.VariantPreviewIcon.Image', 'Alt text for color variant preview image'),naturalHeight:null!==(a=n.height)&&void 0!==a?a:1,naturalWidth:null!==(r=n.width)&&void 0!==r?r:1,src:null!==(o=n.url)&&void 0!==o?o:"",fit:"contain"})})})})})});return(0,G.jsx)(T.xu,{"data-test-id":`primary-variant-main-${i}`,display:"inlineBlock",height:18,rounding:1,width:18,children:d})}function iO(){let{logContextEvent:e}=(0,eu.v)(),i=(0,iL.Xx)(),t=i&&i.primaryVariants.filter(e=>e.image).length>0;if((0,k.useEffect)(()=>{e({event_type:120,component:14092})},[t,e]),!i)return null;let{primaryVariants:n,primaryDimName:l}=i,a=n.slice(0,6).map(e=>{let t=e.value,n=e.value===i.selectedMap[l],a=e.image;return a?(0,G.jsx)(iD,{dimension:l,color:t,isSelected:n,img:a,selectVariant:i.selectVariant},t):null}).filter(Boolean);if(n.length>6){let e=n.length-6;a.push((0,G.jsx)(T.xu,{"data-test-id":"plus-number",display:"flex",height:18,rounding:1,width:18,justifyContent:"center",children:(0,G.jsxs)(T.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onTap:({event:e})=>{e.stopPropagation()},children:["+",e]})},6))}return(0,G.jsx)(T.kC,{justifyContent:"start",alignItems:"center",gap:3,children:a})}var iN=t(139488),iz=t(28630);function iM(){let e=(0,C.ZP)();return(0,G.jsx)(T.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}function iK(){let e=(0,C.ZP)();return(0,G.jsx)(T.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}let iZ=void 0!==y?y:y=t(18736),iB=e=>({isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,link:e.link,richSummary:e.rich_summary&&{url:e.rich_summary.url}});function iU({contentType:e,hasTextContent:i,pinKey:t,pinTitle:n,productCurrentPrice:l,productOriginalPrice:a,productRating:r,productShipping:o,showSource:s,showVisitSiteButton:d,surface:u,titleLines:c,trackingParamsMap:p}){var m;let{logContextEvent:_}=(0,eu.v)(),h=(0,C.ZP)(),{checkExperiment:g}=(0,Z.F)(),{data:y,childDataKey__DEPRECATED:v}=(0,M.u)(iZ,t,{useLegacyAdapter:iB}),f=(null===(m=y.richSummary)||void 0===m?void 0:m.url)||y.link,x=null,b=(0,iL.Xx)();if(b){let{anyEnabled:e}=g("storefront_variant_pins");e&&(x=(0,G.jsx)(iO,{}))}let S=(0,iz.Z)({url:f});return(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:iS.productContainer},height:"100%",children:(0,G.jsx)(T.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:i&&(0,G.jsxs)(k.Fragment,{children:[(0,G.jsx)(ef,{pinKey:v,surface:u,trackingParamsMap:p,children:(0,G.jsxs)(T.kC,{direction:"column",gap:1,children:[(a||l)&&(0,G.jsx)(eW.Z,{currentPrice:l,originalPrice:a,onlyShowCurrentPrice:"ShoppingGridSmallCarousel"===u}),y.isOosProduct&&(0,G.jsx)(iM,{}),y.isStaleProduct&&(0,G.jsx)(iK,{}),(0,G.jsxs)(T.kC,{direction:"column",children:[c>0&&(0,G.jsx)(e4,{disableLink:!0,numberOfLines:c,pinKey:v,pinTitle:n,surface:u,trackingParamsMap:p}),s&&(0,G.jsx)(eQ,{disableLink:!0,pinKey:v,trackingParamsMap:p,surface:u})]}),"shopping"===e&&"ShoppingGridSmallCarousel"!==u&&(r||Number.isFinite(null==o?void 0:o.freeShippingValue))&&(0,G.jsx)(iN.Z,{count:null==r?void 0:r.count,countFormat:"number",isGridView:!0,ratingValue:null==r?void 0:r.rating,shippingInfo:o}),x]})}),d&&f?(0,G.jsx)(T.xu,{marginTop:2,children:(0,G.jsx)(T.ZP,{fullWidth:!0,href:f,rel:S?"nofollow":"none",onClick:()=>{_({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:h._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}let iH=void 0!==v?v:v=t(860092),iV=(0,k.memo)(function({attributionType:e,blockClickEvents:i,board:t,contentType:n,feedbackData:l,feedbackType:a,hoverTransitionState:r,pinKey:o,pinNoteText:s,pinTitle:d,productCurrentPrice:u,productOriginalPrice:c,productRating:p,productShipping:m,setForcePrimary:_,showCarouselEllipsis:h,showFavoriteButton:g,showGroupBoardAvatar:y,showNativeReactions:v,showOverflowMenu:f,showPinStats:x,showSource:b,showTextContent:S,showVisitSiteButton:P,showAttribution:k=!0,surface:w,titleLines:I,trackingParamsMap:j}){let A=d||b,{childDataKey__DEPRECATED:E}=(0,M.u)(iH,o,{useLegacyAdapter:()=>({})}),C=(0,Z.F)(),{checkExperiment:R}=C,L="shopping"===n&&R("web_product_pin_rep_redesign").anyEnabled,D=L||"shopping"!==n?(0,G.jsx)(iR,{attributionType:e,board:t,contentType:n,feedbackData:l,feedbackType:a,hasTextContent:!!A,hasTitleOrSource:!!A,hoverTransitionState:r,pinKey:E,pinNoteText:s,pinTitle:d,productCurrentPrice:u,productOriginalPrice:c,setForcePrimary:_,showCarouselEllipsis:h,showFavoriteButton:g,showGroupBoardAvatar:y,showNativeReactions:v,showOverflowMenu:f,showPinStats:x,showSource:b,showTextContent:S,showAttribution:k,surface:w,titleLines:I,trackingParamsMap:j}):(0,G.jsx)(iU,{contentType:n,hasTextContent:!!A,pinKey:E,pinTitle:d,productCurrentPrice:u,productOriginalPrice:c,productRating:p,productShipping:m,showSource:b,showVisitSiteButton:P,surface:w,titleLines:I,trackingParamsMap:j});return i?(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:D}):(0,G.jsx)(T.kC,{flex:"grow",children:(0,G.jsx)(F.Z,{fullWidth:!0,children:D})})});var iG=t(819079),i$=t(87663),iW=t(449879);let iq=(0,k.lazy)(()=>t.e(34979).then(t.bind(t,447522))),iY=(0,k.lazy)(()=>Promise.all([t.e(97270),t.e(23071),t.e(14734),t.e(30982),t.e(43473)]).then(t.bind(t,563171))),iX=(0,k.lazy)(()=>Promise.all([t.e(97270),t.e(19849),t.e(23071),t.e(14734),t.e(22347)]).then(t.bind(t,81203))),iJ=(0,k.lazy)(()=>Promise.all([t.e(97270),t.e(22538)]).then(t.bind(t,587540))),iQ=(0,k.lazy)(()=>t.e(1593).then(t.bind(t,266744)));function i0({derivedSaveButtonOptions:e,forcePrimaryContent:i,showEnabledSaveBehavior:t,onToggleFlyout:n,onToggleModal:l,pin:a,surface:r}){let o=(0,iL.Xx)(),s=null==o?void 0:o.variantUrl,d=(0,iG.Z)(s?{name:"PinResource",options:{id:s}}:null),u=d&&d.data?d.data:a,{id:c,savedInfo:p}=u,m=(0,k.useRef)(!!p),_=(0,w.useSelector)(({experiences:e})=>{let i=e[1000294];return(null==i?void 0:i.experience_id)===502450?i:null}),{saveBehaviorType:h}=(0,iW.tY)(t);void 0!==h&&["classic","controlled","inline"].includes(e.type)&&(e=h);let{viewParameter:g}=(0,H.E)(),y=(0,U.Z)(101,{element:0,object_id_str:c}),v=null;if(!e.hidePinBetterSaveDropdown&&(_||t&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){let{renderPinSaveTooltip:n}=e;v=(0,G.jsx)(E.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,G.jsx)(L.Z,{children:(0,G.jsx)(F.Z,{children:(0,G.jsx)(iJ,{experience:_||void 0,forcePrimaryContent:i,pin:u,renderPinSaveTooltip:n,showEnabledSaveBehavior:t,viewParameter:g})})})})}else if("classic"===e.type||"controlled"===e.type){let{renderPinSaveTooltip:i}=e;v=(0,G.jsx)(E.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,G.jsx)(L.Z,{children:(0,G.jsx)(T.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,G.jsx)(F.Z,{children:(0,G.jsx)(iY,{onClickCallback:y,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:u,renderPinSaveTooltip:i,renderSavedStatus:()=>!!p&&(0,G.jsx)(F.Z,{children:(0,G.jsx)(i$.Z,{isNewlySaved:!m.current,name:p.title,type:p.type,url:p.url})}),variant:"lego",viewParameter:g})})})})})}else if("inline"===e.type){let{initialSelection:i,onSave:t,renderPinSaveTooltip:a,hidePinBetterSaveDropdown:r}=e;v=(0,G.jsx)(E.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,G.jsx)(L.Z,{children:(0,G.jsx)(T.xu,{"data-test-id":"better-save",children:(0,G.jsx)(F.Z,{children:(0,G.jsx)(iX,{initialSelection:i,onSave:t,onToggleFlyout:n,onToggleModal:l,pin:u,renderPinSaveTooltip:a,renderSavedStatus:({savedInfo:e})=>e&&(0,G.jsx)(F.Z,{children:(0,G.jsx)(i$.Z,{isNewlySaved:!m.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:g,hideDropdown:r})})})})})}else"persistentOneClickSave"===e.type?v=(0,G.jsx)(E.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,G.jsx)(L.Z,{children:(0,G.jsx)(T.xu,{"data-test-id":"persistent-one-click-save",children:(0,G.jsx)(F.Z,{children:(0,G.jsx)(iq,{saveOptions:e})})})})}):"promote"===e.type&&(v=(0,G.jsx)(T.kC,{alignItems:"stretch",justifyContent:"end",children:(0,G.jsx)(E.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,G.jsx)(L.Z,{children:(0,G.jsx)(T.xu,{"data-test-id":"pin-promote-button",children:(0,G.jsx)(F.Z,{children:(0,G.jsx)(iQ,{pin:u})})})})})}));return(0,G.jsx)(E.Z,{name:"PinRepPrimaryContent",children:(0,G.jsx)(T.xu,{display:"flex",margin:"ShoppingGridSmallCarousel"===r?1:3,children:v&&(0,G.jsx)(T.xu,{marginStart:"auto",flex:"grow",children:v})})})}let i1={marginTop:"1px"};function i2({cta:e}){let i=(0,C.ZP)();return(0,G.jsx)(T.iP,{children:(0,G.jsx)(T.xu,{"data-test-id":"pinrep-chin",minHeight:32,color:"secondary",dangerouslySetInlineStyle:{__style:i1},children:(0,G.jsxs)(T.xu,{padding:2,display:"flex",justifyContent:"between",children:[(0,G.jsx)(T.xv,{size:"200",weight:"bold",children:e||i._('Learn more', '[m10n] pinRep.chin.learnMore', 'Closeup for learn more chin')}),(0,G.jsx)(T.JO,{icon:"arrow-forward",size:12,accessibilityLabel:i._('Go to lead ad', '[m10n] pinRep.chin.arrowForwardIcon', 'Arrow forward icon for chin'),color:"default"})]})})})}var i6=t(424271),i3=t(335700),i4=t(479958),i8=t(740089);let i7={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function i5({isSelected:e}){let i=(0,C.ZP)();return(0,G.jsx)(T.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?i7:{},children:(0,G.jsx)(T.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,G.jsx)(T.xu,{alignItems:"center",color:e?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,G.jsx)(T.JO,{accessibilityLabel:i._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var i9=t(40660);let te={},ti=e=>{i9.Z.increment("web_prefetch_via_xhr.attempt",1);let i=(0,V.Z)(e);return new Promise((t,n)=>{if(window.navigator&&window.navigator.connection){let{connection:e}=window.navigator;e.saveData&&(i9.Z.increment("web_prefetch_via_xhr.saveDataOn",1),t()),/2g/.test(e.effectiveType)&&(i9.Z.increment("web_prefetch_via_xhr.poorConnection",1),t())}let l=new XMLHttpRequest;l.open("GET",e),l.onload=()=>{200===l.status?(te[e]&&(te[e].loaded=!0),i9.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:i.hostname||"unknown"}),t(l.response)):(i9.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:i.hostname||"unknown"}),n())},te[e]||(l.send(),te[e]={added:!0,xhr:l},i9.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:i.hostname||"unknown"}))})},tt=e=>{te[e]&&te[e].xhr&&!te[e].loaded&&(i9.Z.increment("web_prefetch_abort_xhr",1),te[e].xhr.abort(),te[e].aborted=!0)};var tn=t(634923),tl=t(714557);let ta=void 0!==f?f:f=t(135325),tr={},to=e=>{var i;return{entityId:e.id,videos:e.videos&&{entityId:null!==(i=e.videos.id)&&void 0!==i?i:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{url:e.videos.video_list.V_720P.url},vEXP3:e.videos.video_list.V_EXP3&&{url:e.videos.video_list.V_EXP3.url},vEXP4:e.videos.video_list.V_EXP4&&{url:e.videos.video_list.V_EXP4.url},vEXP5:e.videos.video_list.V_EXP5&&{url:e.videos.video_list.V_EXP5.url},vEXP6:e.videos.video_list.V_EXP6&&{url:e.videos.video_list.V_EXP6.url},vEXP7:e.videos.video_list.V_EXP7&&{url:e.videos.video_list.V_EXP7.url},vHLSV4:e.videos.video_list.V_HLSV4&&{height:e.videos.video_list.V_HLSV4.height,thumbnail:e.videos.video_list.V_HLSV4.thumbnail,url:e.videos.video_list.V_HLSV4.url,width:e.videos.video_list.V_HLSV4.width},vHLSV3MOBILE:e.videos.video_list.V_HLSV3_MOBILE&&{height:e.videos.video_list.V_HLSV3_MOBILE.height,thumbnail:e.videos.video_list.V_HLSV3_MOBILE.thumbnail,url:e.videos.video_list.V_HLSV3_MOBILE.url,width:e.videos.video_list.V_HLSV3_MOBILE.width}}}}},ts=(e,i)=>i&&e?e.replace("v1.pinimg.com","control"===i?"v3.pinimg.com":"v2.pinimg.com"):e;function td(e,i){let t=ts("https://v1.pinimg.com/videos/mc/hls/",i)||"",n=t+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`;return n}let tu={},tc=void 0!==x?x:x=t(776753),tp=e=>{var i,t;return{storyPinData:e.story_pin_data&&{entityId:null!==(i=e.story_pin_data.id)&&void 0!==i?i:"",pages:e.story_pin_data.pages&&e.story_pin_data.pages.map(e=>({blocks:e.blocks&&e.blocks.map(e=>({blockType:e.block_type,video:e.video&&{videoList:e.video.video_list&&{v720P:e.video.video_list.V_720P&&{url:e.video.video_list.V_720P.url},vEXP3:e.video.video_list.V_EXP3&&{url:e.video.video_list.V_EXP3.url},vEXP4:e.video.video_list.V_EXP4&&{url:e.video.video_list.V_EXP4.url},vEXP5:e.video.video_list.V_EXP5&&{url:e.video.video_list.V_EXP5.url},vEXP6:e.video.video_list.V_EXP6&&{url:e.video.video_list.V_EXP6.url},vEXP7:e.video.video_list.V_EXP7&&{url:e.video.video_list.V_EXP7.url},vHLSV3MOBILE:e.video.video_list.V_HLSV3_MOBILE&&{url:e.video.video_list.V_HLSV3_MOBILE.url}}}}))})),pagesPreview:(null===(t=e.story_pin_data)||void 0===t?void 0:t.pages_preview)&&e.story_pin_data.pages_preview.map(e=>({blocks:e.blocks&&e.blocks.map(e=>({blockType:e.block_type,video:e.video&&{videoList:e.video.video_list&&{v720P:e.video.video_list.V_720P&&{url:e.video.video_list.V_720P.url},vEXP3:e.video.video_list.V_EXP3&&{url:e.video.video_list.V_EXP3.url},vEXP4:e.video.video_list.V_EXP4&&{url:e.video.video_list.V_EXP4.url},vEXP5:e.video.video_list.V_EXP5&&{url:e.video.video_list.V_EXP5.url},vEXP6:e.video.video_list.V_EXP6&&{url:e.video.video_list.V_EXP6.url},vEXP7:e.video.video_list.V_EXP7&&{url:e.video.video_list.V_EXP7.url},vHLSV3MOBILE:e.video.video_list.V_HLSV3_MOBILE&&{url:e.video.video_list.V_HLSV3_MOBILE.url}}}}))}))}}};var tm=t(568998);let t_=void 0!==b?b:b=t(770913),th=e=>{var i,t;return{aggregatedPinData:e.aggregated_pin_data&&{pinTagsChips:e.aggregated_pin_data.pin_tags_chips&&e.aggregated_pin_data.pin_tags_chips.map(()=>({__typename:"PinTagChipImagesPerSpec"}))},autoAltText:e.auto_alt_text,callToActionText:e.call_to_action_text,entityId:e.id,imageCrop:e.image_crop&&{maxY:e.image_crop.max_y,minY:e.image_crop.min_y},imageSignature:e.image_signature,imageSpec_236x:(null===(i=e.images)||void 0===i?void 0:i["236x"])&&{height:e.images["236x"].height},isDownstreamPromotion:e.is_downstream_promotion,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isThirdPartyAd:e.is_third_party_ad,promoter:e.promoter&&{__typename:"User"},storyPinData:e.story_pin_data&&{entityId:null!==(t=e.story_pin_data.id)&&void 0!==t?t:"",pages:e.story_pin_data.pages&&e.story_pin_data.pages.map(e=>({blocks:e.blocks&&e.blocks.map(e=>({blockType:e.block_type,video:e.video&&{entityId:e.video.id,videoList:e.video.video_list&&{vHLSV3MOBILE:e.video.video_list.V_HLSV3_MOBILE&&{height:e.video.video_list.V_HLSV3_MOBILE.height,thumbnail:e.video.video_list.V_HLSV3_MOBILE.thumbnail,url:e.video.video_list.V_HLSV3_MOBILE.url,width:e.video.video_list.V_HLSV3_MOBILE.width}}}}))}))},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}},tg=e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width};function ty({autoplaySettingOff:e,blockClickEvents:i,fallbackColor:t,imageFit:n,imageHeightModifier:l,isDenseView:a,isHovering:r,onError:o,onLoad:s,pinKey:d,pinImageCrop:u,resolution:c="default",rootMargin:p,selectionState:m,showCarousel:_,showPromotedVideos:h,showLeadPinStdBeta:g,showUnavailablePin:y,surface:v,trackingParamsMap:f}){var x;let{contextLogData:b,slotIndex:S,viewParameter:P,viewType:w}=(0,H.E)(),{checkExperiment:I}=(0,Z.F)(),{group:j}=I("web_prefetch_video_in_feed"),{data:A}=(0,M.u)(t_,d,{useLegacyAdapter:th}),E=function(e){var i,t,n,l,a,r,o,s,d,u,c,p,m,_,h,g,y,v,f,x,b,S,P;let{data:{storyPinData:w}}=(0,M.u)(tc,e,{useLegacyAdapter:tp}),{entityId:I}=null!=w?w:{},T=null!=w&&w.pagesPreview?w.pagesPreview[0]:null==w?void 0:null===(i=w.pages)||void 0===i?void 0:i[0],j=null==T?void 0:null===(t=T.blocks)||void 0===t?void 0:t.find(e=>3===e.blockType),A=!!(null!=w&&w.pagesPreview)||!!(null!=w&&w.pages),E=!!j&&!!j.video,C=(0,k.useCallback)(e=>{if(A&&E){var i,t,n,l,a,r,o,s,d,u,c,p,m,_,h,g,y,v,f,x,b,S,P,k,w,T,C,F,R;let{hlsv3:A,mp4:E}=(0,tn.Z)({vEXP3:{url:null!==(i=null==j?void 0:null===(t=j.video)||void 0===t?void 0:null===(n=t.videoList)||void 0===n?void 0:null===(l=n.vEXP3)||void 0===l?void 0:l.url)&&void 0!==i?i:void 0},vEXP4:{url:null!==(a=null==j?void 0:null===(r=j.video)||void 0===r?void 0:null===(o=r.videoList)||void 0===o?void 0:null===(s=o.vEXP4)||void 0===s?void 0:s.url)&&void 0!==a?a:void 0},vEXP5:{url:null!==(d=null==j?void 0:null===(u=j.video)||void 0===u?void 0:null===(c=u.videoList)||void 0===c?void 0:null===(p=c.vEXP5)||void 0===p?void 0:p.url)&&void 0!==d?d:void 0},vEXP6:{url:null!==(m=null==j?void 0:null===(_=j.video)||void 0===_?void 0:null===(h=_.videoList)||void 0===h?void 0:null===(g=h.vEXP6)||void 0===g?void 0:g.url)&&void 0!==m?m:void 0},vEXP7:{url:null!==(y=null==j?void 0:null===(v=j.video)||void 0===v?void 0:null===(f=v.videoList)||void 0===f?void 0:null===(x=f.vEXP7)||void 0===x?void 0:x.url)&&void 0!==y?y:void 0},v720P:{url:null!==(b=null==j?void 0:null===(S=j.video)||void 0===S?void 0:null===(P=S.videoList)||void 0===P?void 0:null===(k=P.v720P)||void 0===k?void 0:k.url)&&void 0!==b?b:void 0},vHLSV3MOBILE:{url:null!==(w=null==j?void 0:null===(T=j.video)||void 0===T?void 0:null===(C=T.videoList)||void 0===C?void 0:null===(F=C.vHLSV3MOBILE)||void 0===F?void 0:F.url)&&void 0!==w?w:void 0}})||{},L=E||A;if(L&&I){let i=null!==(R=ts(L.url,e))&&void 0!==R?R:"";tu[I]=tu[I]?tu[I].concat(i):[i],ti(i)}}},[I,A,E,null==j?void 0:null===(n=j.video)||void 0===n?void 0:null===(l=n.videoList)||void 0===l?void 0:null===(a=l.vEXP3)||void 0===a?void 0:a.url,null==j?void 0:null===(r=j.video)||void 0===r?void 0:null===(o=r.videoList)||void 0===o?void 0:null===(s=o.vEXP4)||void 0===s?void 0:s.url,null==j?void 0:null===(d=j.video)||void 0===d?void 0:null===(u=d.videoList)||void 0===u?void 0:null===(c=u.vEXP5)||void 0===c?void 0:c.url,null==j?void 0:null===(p=j.video)||void 0===p?void 0:null===(m=p.videoList)||void 0===m?void 0:null===(_=m.vEXP6)||void 0===_?void 0:_.url,null==j?void 0:null===(h=j.video)||void 0===h?void 0:null===(g=h.videoList)||void 0===g?void 0:null===(y=g.vEXP7)||void 0===y?void 0:y.url,null==j?void 0:null===(v=j.video)||void 0===v?void 0:null===(f=v.videoList)||void 0===f?void 0:null===(x=f.v720P)||void 0===x?void 0:x.url,null==j?void 0:null===(b=j.video)||void 0===b?void 0:null===(S=b.videoList)||void 0===S?void 0:null===(P=S.vHLSV3MOBILE)||void 0===P?void 0:P.url]);return C}(A),C=function(e){var i,t,n,l,a,r,o;let{data:s}=(0,M.u)(ta,e,{useLegacyAdapter:to}),{entityId:d,videos:u}=s,{entityId:c}=null!=u?u:{},p=null==u?void 0:u.videoList,m=d&&c&&(null===(i=[null==p?void 0:p.vHLSV3MOBILE,null==p?void 0:p.vHLSV4].find(e=>e&&e.thumbnail&&e.url&&!!e.width&&!!e.height))||void 0===i?void 0:i.url),_=(0,k.useCallback)(e=>{var i,t,n,l,a,r,o,s,u,c,_,h,g,y;if(m){let i=null!==(g=ts(m,e))&&void 0!==g?g:"";tr[d]=tr[d]?tr[d].concat(i):[i],ti(i).then(i=>{let t=[];if("string"==typeof i&&(t=i.split("\n").filter(e=>e.endsWith(".m3u8"))),t&&t[tl.V]){let i=td(t[tl.V],e);return tr[d]=tr[d].concat(i),ti(null!=i?i:"")}return null}).then(i=>{let t=[];if("string"==typeof i&&(t=i.split("\n").filter(e=>e.endsWith(".ts"))),t&&t[0]){let i=td(t[0],e);return tr[d]=tr[d].concat(i),ti(null!=i?i:"")}return null});return}let v=(0,tn.t)({vEXP3:{url:null!==(i=null==p?void 0:null===(t=p.vEXP3)||void 0===t?void 0:t.url)&&void 0!==i?i:void 0},vEXP4:{url:null!==(n=null==p?void 0:null===(l=p.vEXP4)||void 0===l?void 0:l.url)&&void 0!==n?n:void 0},vEXP5:{url:null!==(a=null==p?void 0:null===(r=p.vEXP5)||void 0===r?void 0:r.url)&&void 0!==a?a:void 0},vEXP6:{url:null!==(o=null==p?void 0:null===(s=p.vEXP6)||void 0===s?void 0:s.url)&&void 0!==o?o:void 0},vEXP7:{url:null!==(u=null==p?void 0:null===(c=p.vEXP7)||void 0===c?void 0:c.url)&&void 0!==u?u:void 0},v720P:{url:null!==(_=null==p?void 0:null===(h=p.v720P)||void 0===h?void 0:h.url)&&void 0!==_?_:void 0}});if(null!=v&&v.url){let i=null!==(y=ts(v.url,e))&&void 0!==y?y:"";ti(i),tr[d]=tr[d]?tr[d].concat(i):[i]}},[d,m,null==p?void 0:null===(t=p.vEXP3)||void 0===t?void 0:t.url,null==p?void 0:null===(n=p.vEXP4)||void 0===n?void 0:n.url,null==p?void 0:null===(l=p.vEXP5)||void 0===l?void 0:l.url,null==p?void 0:null===(a=p.vEXP6)||void 0===a?void 0:a.url,null==p?void 0:null===(r=p.vEXP7)||void 0===r?void 0:r.url,null==p?void 0:null===(o=p.v720P)||void 0===o?void 0:o.url]);return _}(A),{entityId:F="",aggregatedPinData:R,autoAltText:L,imageSignature:D,storyPinData:O}=A,{pinTagsChips:N}=R||{},K=!!A.isEligibleForWebCloseup,B=!!(null!==(x=A.videos)&&void 0!==x&&x.videoList),U=!!A.promoter&&!A.isDownstreamPromotion,V=U?(()=>{if(O){if(!I("ads_iad_dweb").anyEnabled)return null;let l=O.pages;if(l&&l.length>0){let a=l&&l[0].blocks;if(a&&a.length>0){let l=a[0];if(3===l.blockType&&l.video&&l.video.videoList&&l.video.videoList.vHLSV3MOBILE){var e,i,t,n;return{entityId:l.video.entityId,height:null!==(e=l.video.videoList.vHLSV3MOBILE.height)&&void 0!==e?e:void 0,thumbnail:null!==(i=l.video.videoList.vHLSV3MOBILE.thumbnail)&&void 0!==i?i:void 0,width:null!==(t=l.video.videoList.vHLSV3MOBILE.width)&&void 0!==t?t:void 0,url:null!==(n=l.video.videoList.vHLSV3MOBILE.url)&&void 0!==n?n:void 0}}}}}return null})():null,{cropHeight:$,cropWidth:W}=tg(u),q=!1,Y=null;if(y)Y=(0,G.jsx)(i4.Z,{isDenseView:a,height:a?250:420,rounding:0,width:a?164:236});else if(!e&&(B||V)&&(h||!U)&&"BoardCoverSelectablePin"!==v){let e={cropHeight:$,cropWidth:W,highResOnly:"high-res"===c,imageHeightModifier:l,inAdsDesktopVideoExperiment:B&&h,isExperimentalPinRep:!0,lowResOnly:"low-res"===c,onError:o,onLoad:s,pinKey:A,rootMargin:p,surface:v,viewParameter:P,viewType:w,...V?{video:V}:{}};Y=(0,G.jsxs)(T.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:$||void 0,justifyContent:"center",children:[(0,G.jsx)(i3.Z,{...e}),g&&(0,G.jsx)(i2,{cta:A.callToActionText})]})}else if(_)q=!0,Y=(0,G.jsx)(T.xu,{"data-test-id":"pinrep-carousel",children:(0,G.jsx)(tm.Z,{cropHeight:$,cropWidth:W,onError:o,onLoad:s,highResOnly:"high-res"===c,lowResOnly:"low-res"===c,pinId:F,showCarouselBadge:!1,pinKey:A,isThirdPartyAd:A.isThirdPartyAd})});else{let e="backend"===u?function({image236x:e,imageCrop:i}){let t=null==e?void 0:e.height;if(i&&(0!==i.minY||1!==i.maxY)){var n,l;let e=null!==(n=i.minY)&&void 0!==n?n:0,a=null!==(l=i.maxY)&&void 0!==l?l:0;return{marginTop:`${e>0?-1*e*(null!=t?t:0):0}px`,marginBottom:`${a<1?Math.round(-((1-a)*1)*(null!=t?t:0)):0}px`}}return{}}({image236x:A.imageSpec_236x,imageCrop:A.imageCrop}):{};q=!!L&&I("web_mk_alt_text",{dangerouslySkipActivation:!0}).anyEnabled,Y=(0,G.jsxs)(T.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:[(0,G.jsx)(i6.Z,{cropHeight:$,cropWidth:W,fallbackColor:t,imageFit:n,highResOnly:"high-res"===c,lowResOnly:"low-res"===c,mediumResOnly:"medium-res"===c,onLoad:s,onError:o,pinKey:A,surface:v}),g&&(0,G.jsx)(i2,{cta:A.callToActionText})]})}let X=(0,G.jsx)(T.zd,{wash:!0,children:(0,G.jsx)(z.Z,{hovered:r,pinKey:A,slotIndex:S,trackingParamsMap:f,viewType:1,children:Y})}),J=["selected-image-only","deselected-image-only"].includes(m),Q="selected-image-only"===m,ee=(0,k.useRef)(!0),ei=(0,k.useRef)(!1),et=(0,k.useRef)(!1),en=I("web_video_quic").group;if((0,k.useEffect)(()=>{var e,t;ee.current||!r||K||i||ei.current?r||!ei.current||et.current||((e=(null==O?void 0:O.entityId)||A.entityId)&&tr[e]&&tr[e].length>0&&tr[e].forEach(e=>{tt(e)}),et.current=!0):(O?E(en):null!==(t=A.videos)&&void 0!==t&&t.videoList&&C(en),ei.current=!0),ee.current=!1},[i,r,K,O,A,j,en,E,C]),i)return(0,G.jsxs)(k.Fragment,{children:[X,J&&(0,G.jsx)(i5,{isSelected:Q}),N&&(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,G.jsx)(i8.Z,{pinKey:A,trackingParamsMap:f,enableCloseupLink:!0})})]});let{commerce_data:el,story_type:ea,board_id:er,board_pin_count:eo}=b||{};return(0,G.jsxs)(ef,{contextLogData:{commerce_data:el,grid_index:S,image_signature:D,story_type:ea,board_id:er,board_pin_count:eo},disableA11yLabel:q,elementType:O?12372:35,pinKey:A,surface:v,trackingParamsMap:f,children:[X,N&&(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,G.jsx)(i8.Z,{pinKey:A,trackingParamsMap:f,enableCloseupLink:!1})})]})}var tv=t(194480),tf=t(324509),tx=t(55193),tb=t(533451);function tS({direction:e,swipeHandler:i}){let t=(0,C.ZP)(),n={left:t._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:t._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,G.jsx)(T.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,G.jsx)(T.iP,{fullHeight:!0,fullWidth:!0,onTap:i,children:(0,G.jsx)(T.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,G.jsx)(T.JO,{accessibilityLabel:n[e],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}let tP=void 0!==S?S:S=t(45128);function tk({pinKey:e}){var i;let{data:t,childDataKey__DEPRECATED:n}=(0,M.u)(tP,e,{useLegacyAdapter:e=>({entityId:e.id})}),{entityId:l}=t,a=(0,tx.Z)(n,"AuthDesktopPinRep.CarouselSliders"),{componentType:r,viewParameter:o,viewType:s}=(0,H.E)(),d=(0,w.useDispatch)(),u=(e,i)=>d((0,tb.yR)(e,i)),c=(0,tf.Z)(n);if(!c)return null;let{carouselSlots:p}=c,m=null!==(i=c.index)&&void 0!==i?i:0;function _(e){return()=>{var i;let t="left"===e?m-1:m+1;u(l,t),a({pinId:l,currentIndex:null!=m?m:0,nextIndex:t,carouselData:{carouselSlots:p.map(({slotId:e})=>({id:e})),entityId:null!==(i=null==c?void 0:c.carouselId)&&void 0!==i?i:""},viewParameter:o,viewType:s,componentType:r})}}return(0,G.jsxs)(T.xu,{height:"100%",position:"relative",width:"100%",children:[m>0&&(0,G.jsx)(F.Z,{children:(0,G.jsx)(tS,{direction:"left",swipeHandler:_("left")})}),m<p.length-1&&(0,G.jsx)(F.Z,{children:(0,G.jsx)(tS,{direction:"right",swipeHandler:_("right")})})]})}function tw(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function tI(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}var tT=t(911386);let tj={impressed:{backgroundColor:"#adebad"}},tA=()=>void 0!==(0,tT.Z)().debug_impression_log;function tE({debugImpressionState:e="paused",slotIndex:i}){return"paused"===e?null:(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:tj.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,G.jsx)(T.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,G.jsx)(T.xv,{color:"inverse",children:(0,G.jsx)("span",{className:"deprecatedTextSizeXL",children:i})})})})}var tC=t(368420),tF=t(126645);let tR=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],tL={allPins:{component:210,view_type:4,view_parameter:3106},board:{view_type:5,view_parameter:3069},created:{component:13668,view_type:4,view_parameter:3106}};function tD({pinId:e,surface:i}){let{logContextEvent:t}=(0,eu.v)(),n=(0,C.ZP)(),l=()=>{let e=tR.includes(i)?tL.created:"BaseBoardPinGrid"===i?tL.board:"UserProfilePinGrid"===i?tL.allPins:{};t({event_type:101,element:10573,...e})},a=n._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,G.jsx)(T.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:tR.includes(i)?(0,G.jsx)(T.ZP,{accessibilityLabel:n._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:l,size:"sm",text:a.length>14?`${a.substring(0,12).trim()}...`:a}):(0,G.jsx)(T.I_,{accessibilityLabel:n._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:l,size:"sm"})})}var tO=t(272270),tN=t(176172),tz=t(946543),tM=t(299402);let tK={SELECTED:"#000000",NOT_SELECTED:"#ffffff"};function tZ({selected:e=!1}){let i=(0,C.ZP)(),{isRTL:t}=(0,R.B)();return(0,G.jsx)(T.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new T.Ry(1),"data-test-id":"pinRepSelectionBorder",dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?tK.SELECTED:tK.NOT_SELECTED,borderRadius:tN.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,G.jsx)(T.xu,{position:"absolute",bottom:!0,right:!t,left:t,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"dark",children:(0,G.jsx)(T.JO,{accessibilityLabel:i._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"inverse",size:12})}):(0,G.jsx)(T.xu,{right:!t,left:t,position:"absolute",top:!0,margin:3,children:(0,G.jsx)(T.JO,{accessibilityLabel:i._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"light",size:24})})})}let tB={wrapper:{borderRadius:tN.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:tN.Dv.VISUAL},savedOverlay:{backgroundColor:tN.Dv.SAVED},legoWashOverlay:{backgroundColor:tN.Dv.LEGO_WASH}};function tU({children:e,savedOverlayVisibility:i="none",visualOverlayVisibility:t="none",handleMouseOverPinContent:n,handleMouseLeavePinContent:l,primaryContent:a,primaryContentVisibility:r="none",secondaryContent:o,secondaryContentVisibility:s="none",accessoryContent:d,accessoryContentVisibility:u="none",actionBar:c,actionBarVisibility:p="none",seeStatsButton:m,footer:_,selectionState:h="no-selection",debugContent:g,signalDebuggerContent:y,signalDebuggerV2Content:v,signalDebuggerV2ContentVisibility:f="none",obscuredPinOverlay:x,showNoPinBorderRadius:b,showPromotedPinBorderTreatment:S,showLeadPinStdBeta:P,shouldUseLegoWash:k}){return(0,G.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:S?tB.promotedPinBorderTreatment:{}},height:"100%","data-test-id":"pinRepPresentation",children:(0,G.jsxs)(T.xu,{dangerouslySetInlineStyle:{__style:b?{}:tB.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(h)&&(0,G.jsx)(tZ,{selected:"selected"===h}),(0,G.jsxs)(T.xu,{"aria-hidden":!!x,children:[(0,G.jsxs)(T.xu,{dangerouslySetInlineStyle:{__style:b?{}:tB.wrapper},overflow:"hidden",position:"relative",onFocus:n,onBlur:l,onMouseEnter:n,onMouseLeave:l,children:[e,(0,G.jsx)(tM.Z,{visibility:t,children:(0,G.jsx)(tz.Z,{additionalStyles:k?tB.legoWashOverlay:tB.visualOverlay})}),(0,G.jsx)(tM.Z,{visibility:i,children:(0,G.jsx)(tz.Z,{additionalStyles:k?tB.legoWashOverlay:tB.savedOverlay})}),d&&(0,G.jsx)(tM.Z,{visibility:u,children:(0,G.jsx)(tz.Z,{children:d})}),o&&(0,G.jsx)(tM.Z,{visibility:s,children:(0,G.jsx)(tz.Z,{children:o})}),a&&(0,G.jsx)(tM.Z,{visibility:r,children:(0,G.jsx)(tz.Z,{children:a})}),v&&(0,G.jsx)(tM.Z,{visibility:f,children:(0,G.jsx)(tz.Z,{children:(0,G.jsx)(T.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:v})})}),c&&(0,G.jsx)(tM.Z,{visibility:p,children:(0,G.jsx)(tz.Z,{children:(0,G.jsx)(T.xu,{position:"absolute",left:!0,right:!0,bottom:!0,marginBottom:P?8:0,children:c})})}),m&&(0,G.jsx)(tz.Z,{children:(0,G.jsx)(T.xu,{position:"absolute",bottom:!0,children:m})}),g&&(0,G.jsx)(tz.Z,{children:g}),y]}),_]}),x&&(0,G.jsx)(T.xu,{children:x})]})})}function tH(e){return e<160?"header-only":"none"}var tV=t(795142);let tG=(0,k.memo)(function({actionBarProps:e,blockClickEvents:i,borderStyle:t,currentlyPlayingVideo:n,disableHover:l=!1,footerProps:a,impressionsDebuggerProps:r,obscuredPinOverlayProps:o,onError:s,onLoad:d,pin:u,pinVisualProps:c,presentationProps:p,primaryContentProps:m,rounding:_,secondaryContentProps:h,authDesktopSelectionState:g,showFooter:y,showImpressionsDebugger:v,showObscuredPinOverlay:f,showSeeStatsButton:x,showSignalDebugger:b,showUnavailablePin:S,surface:P,visibilityOverrides:w,imageHeightModifier:I}){var j,A,C,L;let{savedInfo:D}=u,{showEnabledSaveBehavior:O}=(0,iW.Yh)(tV.ZF.includes(P)||(0,tO.Z)(P)),[N,z]=(0,k.useState)(!1),M=(0,ib.Z)(N),{isHovering:K,hoverTransitionState:Z,handleMouseOver:B,handleMouseLeave:U}=function(){let[e,i]=(0,k.useState)(!1),t=(0,ib.Z)(e,0,ib.X),n=(0,k.useCallback)(()=>i(!0),[i]),l=(0,k.useCallback)(()=>i(!1),[i]);return{isHovering:e,hoverTransitionState:t,handleMouseOver:n,handleMouseLeave:l}}();l&&(K=!1,Z="inactive");let H=(0,ib.Z)(!!D),V=tw(H),$=tw(Z),W=tw(Z),q=tw(M),Y=tw(H),X=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(P),J={primaryContentVisibility:null!==(j=w.primaryContent)&&void 0!==j?j:tI(W,q,"visible"===Y?"none":Y),secondaryContentVisibility:"none"===(L=tI(W,q,Y))?"visible":"visible"===L?"none":"hidden",actionBarVisibility:tI(W,q),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"},Q=e=>z(e),ee=null;"none"!==J.primaryContentVisibility&&(ee=(0,G.jsx)(i0,{forcePrimaryContent:e=>z(e),showEnabledSaveBehavior:O,onToggleFlyout:Q,onToggleModal:e=>{z(e),e||U()},pin:u,surface:P,...m}));let ei=null,et=(0,k.useRef)(!0),el=et.current;et.current=!1;let ea=function(e,i,t){let[n,l]=(0,k.useState)(!e||t),a=(0,k.useRef)(i),r=(0,k.useRef)(null);if(e){let e=a.current;a.current=i,(i!==e||t)&&(r.current&&clearTimeout(r.current),l(!0),r.current=setTimeout(()=>{l(!1),r.current=null},4e3))}return(0,k.useEffect)(()=>()=>{r.current&&clearTimeout(r.current)},[]),n}(!!u.carousel_data,null===(A=u.carousel_data)||void 0===A?void 0:A.index,el),er=(0,ib.Z)(ea),eo=tw(er);J.secondaryContentVisibility=null!==(C=w.secondaryContent)&&void 0!==C?C:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(J.secondaryContentVisibility,eo),ei=(h.allowShoppingPriceIndicator||h.shoppingLabelColor||"none"!==J.secondaryContentVisibility)&&!n&&(0,G.jsx)(T.xu,{margin:2,children:(0,G.jsx)(tv.Z,{pin:u,...h})});let es=null;"visible"===w.accessoryContent&&(es=(0,G.jsx)(tk,{pinKey:{type:"deprecated",data:u}}),J.accessoryContentVisibility=tw(Z));let ed={...e},eu=null;x&&(ed={...ed,showSourceLinkButton:!1},eu=(0,G.jsx)(F.Z,{children:(0,G.jsx)(tD,{pinId:u.id,surface:P})})),c.showLeadPinStdBeta&&(ed={...ed,showSourceLinkButton:!1});let ec="visible"===w.actionBar?(0,G.jsx)(en,{onToggleFlyout:Q,pin:u,setForcePrimary:z,surface:P,...ed}):null,{experimentsClient:ep}=(0,R.B)(),em=null;(y||(0,tO.Z)(P)&&!(ep.checkExperiment("dweb_image_only_product_pin_grid").anyEnabled||ep.checkExperiment("dweb_image_only_product_pin_grid_new_user").anyEnabled))&&(em=(0,G.jsx)(iV,{blockClickEvents:i,hoverTransitionState:"image-only-credit"===a.attributionType?Z:null,pinKey:{type:"deprecated",data:u},setForcePrimary:z,surface:P,trackingParamsMap:u.tracking_params_map,...a}));let e_=v&&(0,G.jsx)(tE,{...r}),eh=b&&u.debug_info_html&&(0,G.jsx)(T.xu,{paddingY:1,children:(0,G.jsx)("pre",{children:u.debug_info_html})}),eg=(0,G.jsx)(tC.Z,{pinKey:{type:"deprecated",data:u}}),ey=(0,k.useRef)(),ev=function(e){let[i,t]=(0,k.useState)(e.current?tH(e.current.clientHeight||0):"none");return!function(e,i){let t=(0,k.useRef)();(0,k.useEffect)(()=>{let n=e.current;if(!n)return;let l=t.current;(!l||l.width!==n.offsetWidth||l.height!==n.offsetHeight)&&(t.current={width:n.offsetWidth||0,height:n.offsetHeight||0},i&&i(t.current))}),t.current}(e,({height:e})=>{let n=tH(e);n!==i&&t(n)}),i}(ey);"header-only"===ev&&(J.actionBarVisibility="none",J.accessoryContentVisibility="none");let ef=f?(0,G.jsx)(tF.ZP,{pin:u,...o}):null,ex="ShoppingGridShippedMetadataWithVisitButton"===P?{height:"100%"}:{},eb=y&&"default"===a.attributionType&&tV.ZF.includes(P),eS=!u.is_promoted&&!l&&eb;return(0,G.jsx)(E.Z,{name:"PinRepContainer",children:(0,G.jsx)(T.xu,{"data-test-id":"pin","data-test-pin-id":u.id,onFocus:B,onBlur:U,onMouseEnter:B,onMouseLeave:U,dangerouslySetInlineStyle:{__style:ex},rounding:"ConversationView"===P?_:void 0,borderStyle:"ConversationView"===P?t:"none",overflow:"ConversationView"===P?"hidden":"visible",children:(0,G.jsx)(tU,{visualOverlayVisibility:$,savedOverlayVisibility:"visible"!==V||X?V:"none",handleMouseOverPinContent:eS?B:()=>{},handleMouseLeavePinContent:eS?U:()=>{},primaryContent:ee,primaryContentVisibility:J.primaryContentVisibility,secondaryContent:ei,secondaryContentVisibility:J.secondaryContentVisibility,accessoryContent:es,accessoryContentVisibility:J.accessoryContentVisibility,actionBar:ec,actionBarVisibility:J.actionBarVisibility,seeStatsButton:eu,footer:em,selectionState:g,debugContent:e_,signalDebuggerV2Content:eg,signalDebuggerV2ContentVisibility:J.signalDebuggerV2ContentVisibility,signalDebuggerContent:eh,obscuredPinOverlay:ef,...p,children:(0,G.jsx)(T.xu,{height:"100%",ref:ey,children:(0,G.jsx)(ty,{blockClickEvents:i,showUnavailablePin:S,isHovering:K,onError:s,onLoad:d,pinKey:{type:"deprecated",data:u},surface:P,selectionState:g,imageHeightModifier:I,trackingParamsMap:u.tracking_params_map,...c})})})})})});var t$=t(650414),tW=t(525571),tq=t(5342),tY=t(988014),tX=t(427370),tJ=t(997394),tQ=t(329689),t0=t(384722),t1=t(886365),t2=t(55350);function t6({isGroupBoard:e,surface:i,gridTitle:t,hasRichSummary:n,hasCarouselData:l,richSummaryTypeName:a,richSummaryDisplayName:r,title:o,hasPromoter:s,isDownstreamPromotion:d,pinAccess:u,carouselSlotsTitle:c}){let p=!!(null!=u&&u.includes("write"));return l&&c?c.trim():!s||d?t||"":tV.ZF.includes(i)?t||"":(!p||e||l||"UserProfilePinGrid"===i)&&(o||n&&"mobile application"!==a&&r||t)||""}let t3=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"],t4=({surface:e,isORBACProfileManager:i,isORBACGA:t,isRemovable:n})=>"CloseupRelatedProducts"!==e&&!n&&(!i||null==t||t);var t8=t(963375),t7=t(860438),t5=t(736567),t9=t(619277);let ne=["ShoppingCatalogsProductsMetadata"],ni=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],nt=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var nn=t(341027);let nl=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"],na=void 0!==P?P:P=t(403494),nr=e=>{var i,t;return{access:e.access&&e.access.map(e=>e),aggregatedPinData:e.aggregated_pin_data&&{creatorAnalytics:e.aggregated_pin_data.creator_analytics&&{_30dRealtime:e.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:e.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:e.board&&{privacy:e.board.privacy},carouselData:e.carousel_data&&{carouselSlots:e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.map(e=>({title:e.title})),index:null===(i=e.carousel_data)||void 0===i?void 0:i.index},creatorAnalytics:e.creator_analytics&&{_30dRealtime:e.creator_analytics["30d_realtime"]&&{carId:e.creator_analytics["30d_realtime"].id}},domain:e.domain,gridTitle:e.grid_title,isDownstreamPromotion:e.is_downstream_promotion,isEligibleForPdp:e.is_eligible_for_pdp,isRepin:e.is_repin,nativeCreator:e.native_creator&&{__typename:"User"},pinNote:e.pin_note&&{text:e.pin_note.text},pinner:e.pinner&&{entityId:e.pinner.id},promoter:e.promoter&&{__typename:"User"},richMetadata:e.rich_metadata&&{products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>({shippingInfo:e.shipping_info&&{freeShippingPrice:e.shipping_info.free_shipping_price,freeShippingValue:e.shipping_info.free_shipping_value,shipsToUserCountry:e.shipping_info.ships_to_user_country}}))},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{ratingCount:e.rich_summary.aggregate_rating.rating_count,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,products:e.rich_summary.products&&e.rich_summary.products.map(e=>({brand:e.brand&&{name:e.brand.name},offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})),typeName:null===(t=e.rich_summary)||void 0===t?void 0:t.type_name},sponsorship:e.sponsorship&&{__typename:"Sponsorship"},storyPinDataId:e.story_pin_data_id,title:e.title,unifiedUserNote:e.unified_user_note,videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}},no=({attributionOption:e,board:i,contentType:t,experimentsClient:n,feedbackData:l,feedbackType:a,hasCarouselData:r,isGroupBoard:o,isORBACProfileManager:s,isOwnBoard:d,showImageOnly:u,showNativeReactions:c,showPromotedShoppingPrice:p,surface:m,viewer:_,variantData:h,pinKey:g})=>{var y,v,f,x,b,S,P,w,I,T,j,A,E,C,F,R,L,D,O,N,z,K;let Z,B,U,H;let{data:V,childDataKey__DEPRECATED:G}=(0,M.u)(na,g,{useLegacyAdapter:nr}),$=eX(G,m),W=!!V.promoter&&!V.isDownstreamPromotion,q=!!V.sponsorship,{pinNote:Y,isEligibleForPdp:X}=V,J=function({attributionOption:e,feedbackType:i,isEligibleForPdp:t,isGroupBoard:n,showImageOnly:l,surface:a,isDownstreamPromotion:r,hasNativeCreator:o,hasPromoter:s,hasSponsorship:d,storyPinDataId:u}){if("promoted"===i||s&&!r||d)return"default";if("ConversationView"!==a&&nl.includes(a)||n||t)return"none";let c="default";return"SearchItem"===a&&u?c:(e&&("image-only"===e?c="image-only-credit":"hide"===e&&(c="none")),"followed"!==i||l)?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(a)&&"hide"===e?c:"TodayArticleFeed"===a&&"show"===e?"show-for-claimed-content":o?"default":"none":c}({attributionOption:e,feedbackType:a,isEligibleForPdp:!!X,isGroupBoard:o,showImageOnly:u,surface:m,isDownstreamPromotion:V.isDownstreamPromotion,hasNativeCreator:!!V.nativeCreator,hasPromoter:!!V.promoter,hasSponsorship:!!V.sponsorship,storyPinDataId:V.storyPinDataId}),Q=(null===(y=V.carouselData)||void 0===y?void 0:y.index)||0,ee=null!=h&&h.title?h.title:t6({isGroupBoard:o,surface:m,gridTitle:V.gridTitle,hasRichSummary:!!V.richSummary,hasCarouselData:!!V.carouselData,richSummaryTypeName:null===(v=V.richSummary)||void 0===v?void 0:v.typeName,richSummaryDisplayName:null===(f=V.richSummary)||void 0===f?void 0:f.displayName,title:V.title,hasPromoter:!!V.promoter,isDownstreamPromotion:V.isDownstreamPromotion,pinAccess:V.access,carouselSlotsTitle:null===(x=V.carouselData)||void 0===x?void 0:null===(b=x.carouselSlots)||void 0===b?void 0:b[Q].title}),ei=u?"":ee,et=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(m)&&!W&&!u&&!!$,en=["ShoppingGridShippedMetadataWithVisitButton"].includes(m),el="BaseBoardPinGrid"===m&&Y?null===(S=Y.text)||void 0===S?void 0:S.trim():null;!el&&V.unifiedUserNote&&(el=V.unifiedUserNote.trim());let ea="shopping"===t,er=!0;"AuthHomefeed"!==m||W||(c=!1,er=!(null!==(w=((null===(I=V.richSummary)||void 0===I?void 0:null===(T=I.products)||void 0===T?void 0:T[0])||{}).brand)&&void 0!==w&&w.name));let eo=function({attributionType:e,isPromoted:i,isShopping:t,showSource:n,surface:l}){return i?3:(n||"none"!==e)&&(!t||["ShoppingGridSmall","ShoppingGridSmallCarousel"].includes(l)||ny.includes(l))?1:2}({isPromoted:W,showSource:et,attributionType:J,isShopping:ea,surface:m});if(ea||p){let e=null===(j=V.richSummary)||void 0===j?void 0:null===(A=j.products)||void 0===A?void 0:A[0],{offerSummary:i}=e||{};Z=i?i.standardPrice:void 0,B=i?(0,nn.Z)({maxPrice:i.maxPrice,minPrice:i.minPrice,price:i.price}):void 0}if(h){let{offerSummary:e}=h;Z=e?e.standard_price:void 0,B=e?e.price||e.max_price:void 0}if(ea&&!W){let{ratingCount:e,ratingValue:i,reviewCount:t}=(null===(E=V.richSummary)||void 0===E?void 0:E.aggregateRating)||{};(e||t)&&parseFloat(i)&&(U={count:e||t,rating:i}),H={freeShippingPrice:null===(C=V.richMetadata)||void 0===C?void 0:null===(F=C.products)||void 0===F?void 0:null===(R=F[0].shippingInfo)||void 0===R?void 0:R.freeShippingPrice,freeShippingValue:null===(L=V.richMetadata)||void 0===L?void 0:null===(D=L.products)||void 0===D?void 0:null===(O=D[0].shippingInfo)||void 0===O?void 0:O.freeShippingValue,shipsToUserCountry:null===(N=V.richMetadata)||void 0===N?void 0:null===(z=N.products)||void 0===z?void 0:null===(K=z[0].shippingInfo)||void 0===K?void 0:K.shipsToUserCountry}}let es=(0,tX.rh)(V&&{aggregatedPinData:V.aggregatedPinData&&{creatorAnalytics:V.aggregatedPinData.creatorAnalytics&&{_30dRealtime:V.aggregatedPinData.creatorAnalytics._30dRealtime&&{carId:V.aggregatedPinData.creatorAnalytics._30dRealtime.carId}}},board:V.board&&{privacy:V.board.privacy},creatorAnalytics:V.creatorAnalytics&&{_30dRealtime:V.creatorAnalytics._30dRealtime&&{carId:V.creatorAnalytics._30dRealtime.carId}},isRepin:V.isRepin,pinner:V.pinner&&{entityId:V.pinner.entityId},storyPinDataId:V.storyPinDataId,videos:V.videos&&{videoList:V.videos.videoList&&{__typename:"VideoList"}}},_,n),ed="CreatorProfileStoryPinGrid"===m||"CreatorProfileActivityPinGrid"===m,eu=!ed,ec=o&&!q,ep=!s&&("BaseBoardPinGrid"===m&&d||!!((null==i?void 0:i.is_collaborative)&&(0,ic.Z)(i.collaborated_by_me,null===(P=i.owner)||void 0===P?void 0:P.id,_)))&&!ed,em=(0,k.useMemo)(()=>({attributionType:J,board:i,contentType:t,feedbackData:l,feedbackType:a,pinNoteText:el,pinTitle:ei,productCurrentPrice:B,productOriginalPrice:Z,productRating:U,productShipping:H,showCarouselEllipsis:r,showFavoriteButton:ep,showGroupBoardAvatar:ec,showNativeReactions:c,showOverflowMenu:W,showPinStats:es,showSource:et,showTextContent:eu,showVisitSiteButton:en,showAttribution:er,titleLines:eo}),[J,i,t,l,a,el,ei,B,Z,U,H,r,ep,ec,c,W,es,et,eu,en,er,eo]);return em};var ns=t(336331),nd=t(733533),nu=t(838419),nc=t(548802),np=t(107877),nm=t(712968);let n_=(0,k.lazy)(()=>Promise.all([t.e(97270),t.e(92982)]).then(t.bind(t,336020))),nh=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],ng=["BaseBoardPinGrid","UserProfilePinGrid",...tR],ny=["AuthHomefeed","SearchItem","DynamicShoppingGrid","RelatedPinGrid"];function nv({attributionOption:e,blockClickEvents:i,debugImpressionState:t,disableReaction:n,feedback:l,imageOnlyOption:a="default",pin:r,pinId:o,pinImageCrop:s,pinImageFit:d,resolution:u="default",saveButtonOptions:c,authDesktopSurface:p,trackingParameters:m,..._}){var h,g,y,v,f,x,b,S,P,T,C,F;let R;let D=(0,er.S6)()(o),O=D||r,N=null!==(h=null===(g=O.board)||void 0===g?void 0:g.id)&&void 0!==h?h:"",z=(0,np.gC)()(N),M=z||O.board;O.grid_title=O.grid_title||r.grid_title;let K=(0,Z.F)(),{checkExperiment:B}=K,{collaborated_by_me:U,collaborator_count:V,is_collaborative:$}=M||{},{is_quick_promotable:W,pinner:q,showFeedback:Y,sponsorship:X}=O,J=!!O.promoter&&!O.is_downstream_promotion,Q=!!O.promoted_is_removable,ee=(0,eP.Z)(),ei=(0,tQ.Z)(),{anyEnabled:et}=B("web_m10n_business_access_orbac_www"),{anyEnabled:en}=B("web_m10n_business_access_orbac_ga"),el=en?(0,t0.lJ)(ee,ei):"",ea=(0,I.useLocation)(),{slotIndex:eo,viewParameter:es}=m,ed=["AuthHomefeed","BaseBoardPinGrid"].includes(p)&&B("web_repin_flow").anyEnabled,eu=(0,nc.x)(),ec=(0,t$.P)()||ee.isEligibleForImageOnlyGrid,{appUI:{videosAutoplaying:ep}}=(0,t1.I)(),em=(0,tJ.Z)(O.id,ep),e_=(0,w.useSelector)(({changeBoardFromToast:e})=>e)||{},eh=((((null===(y=O.rich_metadata)||void 0===y?void 0:y.products)||[])[0]||{}).additional_images||[]).length>0,eg=!!(null!==(v=O.carousel_data)&&void 0!==v&&v.id),ey=ee.isAuth&&ee.isEmployee,ev=ee.isAuth&&((0,tW.Z)(ee.createdAt)||(0,tq.Z)(null,ee))&&!ee.isPartner,ef=ev;"TodayArticleFeed"===p&&(ef=!1),"default"!==a&&(ef="image-only"===a),(0,tO.Z)(p)&&(ef=!1),"ShoppingSquareGridDomainNoMetadata"===p&&(ef=!0);let ex=e;(ev&&!ex||ec)&&(ex="image-only");let eS=(0,nd.Z)({feedbackType:null==l?void 0:l.type,viewParameter:es,pinKey:{type:"deprecated",data:O}}),{data:ek}=l||{},ew="number"==typeof V&&V>0||$,eI=!1;["OtherProfilePinGrid","ShoppingGridSmall"].includes(p)?eI=!0:"BaseBoardPinGrid"===p?eI=(null==eu?void 0:eu.boardPinDensity)==="dense":"UserProfilePinGrid"===p&&(eI=(null==eu?void 0:eu.profilePinDensity)==="dense");let eT=!!(ew&&"BaseBoardPinGrid"===p),ej=(0,nu.Z)(),eA=(0,nm.kW)(),eE=eA&&eA[null!==(f=null===(x=ej.data)||void 0===x?void 0:x.id)&&void 0!==f?f:""]?eA[null!==(b=null===(S=ej.data)||void 0===S?void 0:S.id)&&void 0!==b?b:""]:ej.data,eC=(0,eb.Z)(ee,null==M?void 0:null===(P=M.owner)||void 0===P?void 0:P.id),eF=!1,eR=!!(0,I.matchPath)(ea.pathname,{path:"/:username/_created/",exact:!0});if(eR)eF=(0,t0.q6)(ee,null==eE?void 0:eE.id,ei);else if((0,tY.am)(ea)||(0,tY.OJ)(ea)){let e=M&&M.owner&&M.owner.id||"";eF=(0,t0.q6)(ee,e,ei)}else if((0,tY.uM)(ea)){let e=(null===(F=O.pinner)||void 0===F?void 0:F.id)||"";eF=(0,t0.q6)(ee,e,ei)}let eL=!!(ee.isAuth&&q&&q.id===ee.id),eD=!!(U||ew&&eC),eO=ee.isAuth&&ee.isPartner,eN=!!(null!==(T=O.story_pin_data)&&void 0!==T&&T.is_deleted),ez=(0,k.useMemo)(()=>(function({hasCarouselData:e,isDeletedStoryPin:i,surface:t}){let n=nt.includes(t)||i,l={primaryContent:null,secondaryContent:null,actionBar:n?"none":"visible",accessoryContent:e?"visible":"none"};return i||ni.includes(t)?(l.primaryContent="none",l.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(t)&&(l.primaryContent="visible"),l})({hasCarouselData:eg,isDeletedStoryPin:eN,surface:p}),[eg,eN,p]),eM=(0,k.useMemo)(()=>(function({board:e,isDenseView:i,isGroupBoard:t,isInlineBetterSave:n,isOwnBoard:l,isORBACProfileManager:a,isQuickPromotable:r,isRemovable:o,saveButtonOptions:s,surface:d,viewer:u,viewerIsCollaborator:c}){let p=u.isAuth?u.boardCount:void 0,m=s||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(p);if(r)m={type:"promote"};else if((c||l||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d))m={type:"classic"};else if((c||l)&&["BaseBoardPinGrid"].includes(d)&&null!=e&&e.name&&e.url&&e.id){let i={title:e.name,boardId:e.id,url:e.url};m={type:"inline",initialSelection:i}}n&&(m={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(o||ne.includes(d)||a)&&(m={type:"none"});let _=c&&t&&tV.UP.includes(d);return{board:e,derivedSaveButtonOptions:m,showLikeButton:_,supportsReactionBar:!i}})({board:M,isInlineBetterSave:ed,isDenseView:eI,isGroupBoard:eT,isOwnBoard:eC,isOwnPin:eL,isORBACProfileManager:eF,isQuickPromotable:W,isRemovable:Q,saveButtonOptions:c,surface:p,viewer:ee,viewerIsCollaborator:eD}),[M,ed,eI,eT,eC,eL,eF,W,Q,c,p,ee,eD]);["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"].includes(p)&&!J&&(R="white");let eK=(0,k.useMemo)(()=>(function({allowProductCarousel:e=!1,shoppingLabelColor:i,surface:t}){let n=tV.Wv.includes(t);return{allowProductCarousel:e,allowShoppingPriceIndicator:n,shoppingLabelColor:i}})({allowProductCarousel:eh,shoppingLabelColor:R,surface:p}),[eh,R,p]),eZ=(0,k.useMemo)(()=>(function({board:e,feedbackData:i,feedbackType:t,isDenseView:n,isGroupBoard:l,isOwnBoard:a,isORBACProfileManager:r,isORBACBeta:o,isORBACGA:s,pin:d,isRemovable:u,surface:c,viewer:p}){var m,_,h,g,y,v,f;let x=!!(null!==(m=d.access)&&void 0!==m&&m.includes("write")),b=!!d.promoter&&!d.is_downstream_promotion,S=(null===(_=d.carousel_data)||void 0===_?void 0:_.index)||0,P=t6({isGroupBoard:l,surface:c,gridTitle:d.grid_title,hasRichSummary:!!d.rich_summary,hasCarouselData:!!d.carousel_data,richSummaryTypeName:null===(h=d.rich_summary)||void 0===h?void 0:h.type_name,richSummaryDisplayName:null===(g=d.rich_summary)||void 0===g?void 0:g.display_name,title:d.title,hasPromoter:!!d.promoter,isDownstreamPromotion:d.is_downstream_promotion,pinAccess:d.access,carouselSlotsTitle:null===(y=d.carousel_data)||void 0===y?void 0:null===(v=y.carousel_slots)||void 0===v?void 0:v[S].title}),k=e&&(0,t2.Z)({action:4,board:e,viewer:p})||x,w=d.savedInfo&&d.savedInfo.localPinId,I=a&&!l,T=!!(I||"UserProfilePinGrid"===c&&k||w),j=!!(l&&k||T||r&&(!d.story_pin_data_id||o)),A=!!((null==e?void 0:e.is_collaborative)||T),E=!(b||a||l||t3.includes(c)||r),C=t4({surface:c,isORBACProfileManager:r,isORBACGA:s,isRemovable:u}),{tracked_link:F,link:R}=d,L=null!==(f=null!=F?F:R)&&void 0!==f?f:"",D=l&&n?"equally-spaced":"default",O="default";return n&&(O=l?"icon-only":"truncated-text"),n&&["ShoppingGridSmall","UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(c)&&(O="icon-only",D="equally-spaced"),{actionBarEditBeforeShare:A,feedbackData:i,feedbackType:t,layout:D,pinTitle:P,showEditButton:j,showOverflowMenu:E,showShareButton:C,showSourceLinkButton:!!L,sourceLinkStyle:O}})({board:M,feedbackData:ek,feedbackType:eS,isDenseView:eI,isGroupBoard:eT,isOwnBoard:eC,isORBACProfileManager:eF,isORBACBeta:et,isORBACGA:en,isRemovable:Q,pin:O,surface:p,viewer:ee}),[M,ek,eS,eI,eT,eC,eF,et,en,Q,O,p,ee]),eB=!1;O.story_pin_data&&!ee.isPartner&&(eB=B("web_auth_remove_pinner_pinstats").anyEnabled);let eU=!eB&&(0,tX.rh)(O&&{aggregatedPinData:O.aggregated_pin_data&&{creatorAnalytics:O.aggregated_pin_data.creator_analytics&&{_30dRealtime:O.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:O.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:O.board&&{privacy:O.board.privacy},creatorAnalytics:O.creator_analytics&&{_30dRealtime:O.creator_analytics["30d_realtime"]&&{carId:O.creator_analytics["30d_realtime"].id}},isRepin:O.is_repin,pinner:O.pinner&&{entityId:O.pinner.id},storyPinDataId:O.story_pin_data_id,videos:O.videos&&{videoList:O.videos.video_list&&{__typename:"VideoList"}}},ee,K,el)&&ng.includes(p)&&(eL||en&&eF),eH=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridSmall","ShoppingGridSmallCarousel"],eV=O.is_eligible_for_pdp&&!J&&(eH.includes(p)||ny.includes(p)),eG=eV?B("web_product_pin_rep_redesign").group:"",e$=eG.startsWith("enabled"),eW=e$||eH.includes(p),eq=!J&&eW?"shopping":"standard",eY=(n||"CreatorProfileStoryPinGrid"!==p||eL)&&(0,il.J6)({board:O.board&&{isCollaborative:O.board.is_collaborative,collaboratedByMe:O.board.collaborated_by_me},videos:O.videos&&O.videos.id?{entityId:O.videos.id}:null,isDownstreamPromotion:O.is_downstream_promotion,isPromoted:O.is_promoted,storyPinDataId:O.story_pin_data_id},eN),eX=(0,iL.Xx)();eY=!ec&&eY;let eJ=no({attributionOption:ex,board:M,contentType:eq,experimentsClient:K,feedbackData:ek,feedbackType:eS,hasCarouselData:eg,isGroupBoard:eT,isORBACProfileManager:eF,isOwnBoard:eC,showImageOnly:ef,showNativeReactions:eY,showPromotedShoppingPrice:J&&eW,surface:p,viewer:ee,variantData:eX,pinKey:{type:"deprecated",data:O}}),eQ=!!O.story_pin_data_id,e0=O.created_at?new Date(O.created_at):null,e1=(0,A.pN)({isOwnPin:eL,isStoryPin:eQ,pinCreationDate:e0,surface:p});eB&&(eJ.showPinStats=!1);let e2=!!(eJ.pinTitle||eJ.contentType||eJ.userNote||eJ.showSource||"none"!==eJ.attributionType||eJ.showNativeReactions||eJ.productCurrentPrice||eJ.productOriginalPrice||eJ.showPinStats),e6=e2||eT;"BaseBoardPinGrid"===p&&eC&&eO||X?e6=!0:nh.includes(p)||eI&&(eC||U)?e6=!1:eL||"CreatorProfileStoryPinGrid"!==p&&"CreatorProfileActivityPinGrid"!==p||(e6=!1),!ec||J||X||(e6=!1);let{showLeadPinStdBeta:e3}=(0,j.Z)({promotedIsLeadAd:!!O.promoted_is_lead_ad}),{anyEnabled:e4}=B("ads_desktop_video_ads",{dangerouslySkipActivation:!0}),e8=(0,k.useMemo)(()=>(function({hasCarouselData:e,isDenseView:i,pinImageCrop:t,pinImageFit:n,resolution:l,showPromotedVideos:a,showLeadPinStdBeta:r,surface:o}){let s=tV.zl.includes(o),d="backend";"CloseupRelatedProducts"===o?d={height:t8.GZ,width:t8.OE}:"TopicBestPinWide"===o?d={height:424,width:278}:"TopicBestPinNarrow"===o?d={height:640,width:508}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(o)||s?d={height:t8.zX,width:t8.zX}:t&&(d=t);let u="none",c=null!=l?l:"default";"string"!=typeof d&&(u="cover",(s||"ShoppingDynamicHeightGrid"===o&&!n||["ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingSquareGridDomainNoMetadata"].includes(o))&&(u="contain",c="high-res"));let p=s||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(o)?"transparent":"dominant",m=(0,t5.e)(o),_="undefined"!=typeof window&&0===t7.Z.getItem(t9._e);return{autoplaySettingOff:_,fallbackColor:p,imageFit:u,isDenseView:i,resolution:c,rootMargin:m,pinImageCrop:d,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(o),showPromotedVideos:a,showLeadPinStdBeta:r}})({hasCarouselData:eg,isDenseView:eI,isPromoted:J,pinImageCrop:s,pinImageFit:d,resolution:u,showPromotedVideos:e4,showLeadPinStdBeta:e3,surface:p}),[eg,eI,J,s,d,u,e4,e3,p]),e7=ey&&tA(),e5=(0,k.useMemo)(()=>({debugImpressionState:t,slotIndex:eo}),[t,eo]),e9=(0,k.useMemo)(()=>({surface:p}),[p]);return(0,G.jsx)(E.Z,{name:"PinRepConfiguration",children:(0,G.jsx)(H.B,{value:m,children:(0,G.jsxs)(ns.B,{value:e9,children:[(0,G.jsx)(tG,{actionBarProps:eZ,blockClickEvents:i,currentlyPlayingVideo:em,footerProps:eJ,impressionsDebuggerProps:e5,obscuredPinOverlayProps:{feedbackType:eS},pin:O,pinVisualProps:e8,presentationProps:{showNoPinBorderRadius:"TopicBestPinNarrow"===p||"TopicBestPinWide"===p||"ConversationView"===p,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===p&&J,shouldUseLegoWash:!0,showLeadPinStdBeta:e3},primaryContentProps:eM,secondaryContentProps:eK,showFooter:e6||e1,showImpressionsDebugger:e7,showObscuredPinOverlay:!!Y,showSeeStatsButton:eU,showSignalDebugger:ey,showUnavailablePin:eN,surface:p,visibilityOverrides:ez,..._}),e_.shouldOpenModal&&e_.newPin&&(null===(C=e_.originalPin)||void 0===C?void 0:C.id)===O.id&&(0,G.jsx)(E.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,G.jsx)(L.Z,{children:(0,G.jsx)(n_,{experience:e_.experience,newPin:e_.newPin})})})]})})})}},394214:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>b});var n=t(667294),l=t(616550),a=t(412912),r=t(521262),o=t(946618),s=t(183929),d=t(898252),u=t(245410),c=t(950695),p=t(282802),m=t(473183),_=t(684913),h=t(525104),g=t(883119),y=t(709512),v=t(785893);let f={overlay:{__style:{backgroundColor:"#000"}}};function x({image:e,pinId:i,title:t,videoDuration:l,videoStatusMessage:a}){var r,o,s;return(0,v.jsx)(n.Fragment,{children:(0,v.jsx)(g.st,{children:(0,v.jsxs)(g.Tg,{href:`/pin/${i}`,rounding:2,children:[(0,v.jsxs)(g.xu,{overflow:"hidden",position:"relative",rounding:2,children:[e&&(0,v.jsx)(g.Ee,{alt:t||"",color:"lightGray",naturalHeight:null!==(r=e.height)&&void 0!==r?r:1,naturalWidth:null!==(o=e.width)&&void 0!==o?o:1,src:null!==(s=e.url)&&void 0!==s?s:""}),!!l&&(0,v.jsx)(g.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,v.jsx)(y.Z,{duration:l})}),(0,v.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:f.overlay}),(0,v.jsxs)(g.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,v.jsx)(g.X6,{color:"light",overflow:"normal",size:"400",children:null==a?void 0:a.title}),(0,v.jsx)(g.xu,{marginTop:4,children:(0,v.jsx)(g.xv,{color:"light",size:"200",overflow:"normal",children:null==a?void 0:a.subtitle})})]})]}),(0,v.jsx)(g.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,v.jsx)(g.xu,{flex:"grow",children:t&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.xv,{inline:!0,size:"200",weight:"bold",children:t})})})})]})})})}function b({trackingParams:e,objectIdStr:i,impressionData:t,auxData:g,componentType:y,slotIndex:f,viewData:b,viewParameter:S,viewType:P,pin:k,pinId:w,...I}){var T,j,A,E,C,F,R,L,D,O,N,z,M,K,Z,B,U,H,V,G,$;let W=(0,l.useLocation)(),q=(0,h.S6)(),Y=w?q(w):null,X=Y||k,J=!!(null!==(T=X.story_pin_data)&&void 0!==T&&T.is_deleted),Q=(0,m.Z)({type:"deprecated",data:X}),ee=e||(0,o.Z)({boardUrl:null===(j=X.board)||void 0===j?void 0:j.url,location:W,pinId:X.id,pinnerUserName:null===(A=X.pinner)||void 0===A?void 0:A.username,storyPinDataId:X.story_pin_data_id,trackingParams:X.tracking_params,trackingParamsMap:X.tracking_params_map}),ei=(null===(E=X.videos)||void 0===E?void 0:null===(C=E.video_list)||void 0===C?void 0:C.V_HLSV3_MOBILE)||(null===(F=X.videos)||void 0===F?void 0:null===(R=F.video_list)||void 0===R?void 0:R.V_HLSV4)||(null===(L=X.videos)||void 0===L?void 0:null===(D=L.video_list)||void 0===D?void 0:D.V_720P),et=!!ei&&!!ei.url&&!!ei.height&&!!ei.width||void 0,en=ei&&X.videos?X.videos.id:void 0,[el,ea]=(0,n.useState)(!1),er=(0,n.useCallback)(()=>ea(!J),[J]),eo=(0,n.useCallback)(()=>ea(!1),[]),es=(0,c.yz)(),ed=!!X.promoted_is_lead_ad;ed&&(g={lead_form_id:null===($=X.promoted_lead_form)||void 0===$?void 0:$.lead_form_id,is_lead_ad:1});let{anyEnabled:eu}=(0,u.F)().checkExperiment("m10n_view_event_conversion_measurement_chrome"),ec=(0,p.B)();return(0,v.jsx)(s.Z,{componentType:y,contextLogData:{pwa_type:es,...g,...Q({default:null==g?void 0:g.commerce_data})},impressionAuxFields:{...t||{},isNativeVideoAndWatchable:et,chromeAraViewExp:eu,araAuxData:{appType:ec.appTypeDetailed,osType:(0,r.eF)(null!==(O=ec.userAgent.osName)&&void 0!==O?O:"Unknown")},videoIdStr:en,clientTrackingParams:ee||`${X.tracking_params||""}-0`,imageURL:null!==(N=null===(z=X.images)||void 0===z?void 0:null===(M=z["236x"])||void 0===M?void 0:M.url)&&void 0!==N?N:"",richTypes:(X.shopping_flags||[]).concat(((null===(K=X.product_pin_data)||void 0===K?void 0:null===(Z=K.items)||void 0===Z?void 0:Z[0])||{}).additional_images&&!(null!==(B=X.shopping_flags)&&void 0!==B&&B.includes(10))?[10]:[])},impressionType:"Pin",isPaused:!el,loggingId:X.id,slotIndex:f,objectIdStr:i,viewData:b,viewParameter:S,viewType:P,children:(0,d._J)(X.video_status)?(0,v.jsx)(x,{image:(null===(U=X.images)||void 0===U?void 0:U["236x"])&&{width:X.images["236x"].width,height:X.images["236x"].height,url:X.images["236x"].url},pinId:X.id,title:X.title,videoDuration:null===(H=X.videos)||void 0===H?void 0:null===(V=H.video_list)||void 0===V?void 0:null===(G=V[_.Z.V_HLSV4])||void 0===G?void 0:G.duration,videoStatusMessage:X.video_status_message&&{title:X.video_status_message.title,subtitle:X.video_status_message.subtitle}}):(0,v.jsx)(a.Z,{...I,debugImpressionState:el?"started":"paused",onError:eo,onLoad:er,pin:X,pinId:w,trackingParameters:{componentType:y,contextLogData:g,slotIndex:f,viewParameter:S,viewType:P}})})}},496085:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o}),t(167912);var n,l=t(450600);let a=void 0!==n?n:n=t(831614),r=e=>({reactionCounts:e.reaction_counts&&{_0:e.reaction_counts["0"],_1:e.reaction_counts["1"],_10:e.reaction_counts["10"],_11:e.reaction_counts["11"],_12:e.reaction_counts["12"],_13:e.reaction_counts["13"],_14:e.reaction_counts["14"],_2:e.reaction_counts["2"],_3:e.reaction_counts["3"],_4:e.reaction_counts["4"],_5:e.reaction_counts["5"],_6:e.reaction_counts["6"],_7:e.reaction_counts["7"],_8:e.reaction_counts["8"],_9:e.reaction_counts["9"]}}),o=e=>{let{data:i}=(0,l.u)(a,e,{useLegacyAdapter:r});if(!(null!=i&&i.reactionCounts))return null;let t=[i.reactionCounts._0?["_0",i.reactionCounts._0]:null,i.reactionCounts._1?["_1",i.reactionCounts._1]:null,i.reactionCounts._10?["_10",i.reactionCounts._10]:null,i.reactionCounts._11?["_11",i.reactionCounts._11]:null,i.reactionCounts._12?["_12",i.reactionCounts._12]:null,i.reactionCounts._13?["_13",i.reactionCounts._13]:null,i.reactionCounts._14?["_14",i.reactionCounts._14]:null,i.reactionCounts._2?["_2",i.reactionCounts._2]:null,i.reactionCounts._3?["_3",i.reactionCounts._3]:null,i.reactionCounts._4?["_4",i.reactionCounts._4]:null,i.reactionCounts._5?["_5",i.reactionCounts._5]:null,i.reactionCounts._6?["_6",i.reactionCounts._6]:null,i.reactionCounts._7?["_7",i.reactionCounts._7]:null,i.reactionCounts._8?["_8",i.reactionCounts._8]:null,i.reactionCounts._9?["_9",i.reactionCounts._9]:null];return t.reduce((e,i)=>{if(i){let[t,n]=i;return{...e,[t]:n}}return e},{})}},561574:(e,i,t)=>{"use strict";t.d(i,{Z:()=>d});var n=t(667294),l=t(883119),a=t(536042),r=t(245410),o=t(282802),s=t(785893);function d({collapsed:e,displayViewState:i,forceTappableHeader:t,headerPaddingRight:d,headerPreview:u,heading:c,onClick:p,showArrow:m}){let _=(0,a.ZP)(),{checkExperiment:h}=(0,r.F)(),{isAuthenticated:g}=(0,o.B)(),y=g?h("auth_closeup_redesign").anyEnabled:h("unauth_closeup_redesign").anyEnabled;return(0,s.jsx)(n.Fragment,{children:t||null!==i?(0,s.jsx)(l.iP,{onTap:p,children:(0,s.jsxs)(l.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",justifyContent:"between",children:[(0,s.jsx)(l.X6,{align:"start",size:y?"300":"400",accessibilityLevel:2,id:"comments-heading",children:c}),(0,s.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:d}},direction:"row",display:"flex",children:[e&&u,m&&(0,s.jsx)(l.xu,{"data-test-id":"collapse-button",display:"flex",marginStart:u?4:0,width:48,alignItems:"center",justifyContent:"center",children:(0,s.jsx)(l.JO,{accessibilityLabel:_._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:e?"arrow-down":"arrow-up"})})]})]})}):(0,s.jsx)(l.X6,{align:"start",size:"400",accessibilityLevel:2,id:"comments-heading",children:c})})}},661900:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(245410);let l=({promotedIsLeadAd:e})=>{let{checkExperiment:i}=(0,n.F)();return{showLeadPinStdBeta:!!e&&i("web_lead_ads_std_beta").anyEnabled,showLeadPinStdAlpha:!!e&&i("web_lead_gen_ads").anyEnabled}}},101789:(e,i,t)=>{"use strict";t.d(i,{Z:()=>u});var n=t(667294),l=t(883119),a=t(561574),r=t(245410),o=t(282802),s=t(549201),d=t(785893);function u({children:e,displayViewState:i,forceTappableHeader:t,headerPaddingRight:u,headerPreview:c,heading:p}){let m=(0,s.ml)(),{checkExperiment:_}=(0,r.F)(),{isAuthenticated:h,isBot:g}=(0,o.B)(),y=m&&_(h?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group||"",v=["no_collapse_by_default","collapse_by_default"].includes(y),f="collapse_by_default"===y,[x,b]=(0,n.useState)(v&&!g&&f||[1,2].includes(i));return(0,d.jsxs)(l.kC,{direction:"column",dataTestId:"collapsible-layout",gap:4,children:[(0,d.jsx)(a.Z,{collapsed:x,displayViewState:i,forceTappableHeader:t,headerPaddingRight:u,headerPreview:c,heading:p,onClick:()=>{b(!x)},showArrow:!0}),!x&&(0,d.jsx)(l.xu,{children:e})]})}},342693:(e,i,t)=>{"use strict";t.d(i,{n:()=>n});let n="300"},44081:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s});var n=t(667294),l=t(883119),a=t(342693),r=t(536042),o=t(785893);function s({children:e,maxLines:i=10}){let t=(0,n.useRef)(null),[s,d]=(0,n.useState)({isFirstLoad:!0,isTruncated:!1}),u=(0,r.ZP)(),{isFirstLoad:c,isTruncated:p}=s;return(0,n.useEffect)(()=>{var e;c&&t.current&&((e=t.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&d({isFirstLoad:!1,isTruncated:!0})},[c,p]),(0,o.jsxs)(l.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,o.jsx)(l.xv,{ref:t,lineClamp:c||p?i:0,inline:!0,children:e}),p&&(0,o.jsx)(l.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,o.jsxs)(l.kC,{flex:"grow",children:[(0,o.jsx)(l.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,o.jsx)(l.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,o.jsx)(l.iP,{fullWidth:!1,onTap:()=>d({...s,isTruncated:!1}),children:(0,o.jsx)(l.xv,{inline:!0,size:a.n,weight:"bold",children:u._(' \u2026 more', 'closeup.TruncatedTextContent.moreLabel', 'Expand content label')})})}),(0,o.jsx)(l.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},340906:(e,i,t)=>{"use strict";t.d(i,{Z:()=>d});var n=t(245410),l=t(549201),a=t(802071),r=t(329689),o=t(384722);let s=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function d(e){let i=(0,l.HG)(),{checkExperiment:t}=(0,n.F)(),d=(0,r.Z)(),u=(0,a.Z)(),c=(0,o.lJ)(u,d),p=s[i?"dweb":"mweb"];return e&&!c&&(t("sce_lightswitch_organic"),t("sce_lightswitch_monetized")),!c&&(t(p.organic).anyEnabled||t(p.monetized).anyEnabled)}},976641:(e,i,t)=>{"use strict";t.d(i,{Z:()=>d});var n=t(616550),l=t(883119),a=t(388011),r=t(310561),o=t(536042),s=t(785893);function d({arrowType:e,pinId:i,viewParameter:t,viewType:d}){let u=(0,o.ZP)(),c=(0,n.useHistory)(),{previous:p}=(0,r.Hv)(),{logContextEvent:m}=(0,a.v)();return(0,s.jsx)(l.xu,{"data-test-id":"go-back-button",children:(0,s.jsx)(l.hU,{accessibilityLabel:u._('Go back', 'Accessible icon for close button', 'Accessible icon for close button'),icon:null!=e?e:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{if(m({event_type:101,view_type:d,element:34,view_parameter:t}),0===p.length){c.replace(`/pin/${i}/`);return}c.goBack()}})})}},29152:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(739425);function l(e){let i=(0,n.mB)(e.search),t=parseInt(i.x,10),l=parseInt(i.y,10),a=parseInt(i.w,10),r=parseInt(i.h,10),o=!function(...e){return e.every(Number.isInteger)}(t,l,a,r)?null:{x:t,y:l,w:a,h:r};return o}},403689:(e,i,t)=>{"use strict";t.d(i,{Z:()=>c});var n,l=t(667294);t(167912);var a=t(128681),r=t(450600),o=t(852247),s=t(477288);let d=void 0!==n?n:n=t(69645),u=e=>({});function c({pinKey:e}){let{data:i}=(0,r.u)(d,e,{useLegacyAdapter:u}),{getNormalizedPinImage:t}=(0,o.Z)({pinKey:i,maxWidth:s.RZ}),{width:n,height:c}=t(),p=(0,l.useCallback)(({initialCropArea:e})=>e||{x:a.S,y:a.S,w:n-2*a.S,h:c-2*a.S},[c,n]);return{getInitialCropArea:p}}},303318:(e,i,t)=>{"use strict";t.d(i,{Z:()=>u});var n=t(883119),l=t(394214),a=t(388011),r=t(24286),o=t(769340),s=t(666331),d=t(785893);function u({action:e,component:i,dangerouslySetActionUrl:t,element:u,contextLogData:c,id:p,objects:m,viewType:_,viewParameter:h}){let{logContextEvent:g}=(0,a.v)(),y=null!=e&&e.url&&e.text?n=>(0,d.jsx)(s.Z,{coverImages:n.images,height:r.yF,onClick:()=>g({event_type:101,view_type:_,view_parameter:h,component:i,element:u,aux_data:{story_id:p,...c}}),text:e.text,url:null!=t?t:e.url,width:r.yF},"actionBubble"):null,{containerRef:v,itemsToRender:f,actionItem:x}=(0,o.n)({items:m,itemWidth:r.yF,itemGap:r.oX,actionItemType:y?"one":void 0});return(0,d.jsxs)(o.Z,{itemGap:r.oX,containerRef:v,children:[f.map((e,t)=>(0,d.jsx)(n.xu,{flex:"none",width:r.yF,"data-grid-item":"true",children:(0,d.jsx)(l.default,{pin:e,pinId:e.id,authDesktopSurface:"ShoppingDynamicHeightGrid",auxData:c,componentType:i,slotIndex:t,viewParameter:h,viewType:_,pinImageCrop:{height:r.yF,width:r.yF}})},e.id)),x&&(null==y?void 0:y(x))]})}},840166:(e,i,t)=>{"use strict";t.d(i,{wH:()=>v,wA:()=>g,Xx:()=>f});var n=t(667294),l=t(150456),a=t(393272);let r=({defaultStatus:e="available",dimensionMetadataNameValues:i,primaryDimName:t,primaryDimensionThumbnailImages:n})=>i.reduce((i,{values:l,name:r})=>r&&l?{...i,[r]:l.map((i,l)=>{let o={status:e,value:i};if(r===t){let e=null==n?void 0:n[l.toString()];if(e)return{...o,image:(0,a.Z)({images:e.canonical_images})}}return o})}:i,{}),o=({status:e,variantMap:i})=>{let t={};for(let l in i){var n;t[l]=null===(n=i[l])||void 0===n?void 0:n.map(i=>({...i,status:e}))}return t},s=({dimensionName:e,variants:i,selectedTuple:t,variantStatuses:n})=>{let l=t.filter(([i])=>i!==e);for(let{dimensions:t={},offer_summary:a={}}of i){let i=l.every(([e,i])=>t[e]===i);if(!i)continue;let r=n.find(({value:i})=>i===t[e]);r&&(r.status=a.in_stock||"available"===r.status?"available":"outOfStock")}},d=({variants:e,selectedMap:i={},variantMap:t})=>{let n=Object.entries(i);for(let i in t){let l=t[i];l&&s({dimensionName:i,variants:e,selectedTuple:n,variantStatuses:l})}},u=e=>{let i,t,n,l;let a=!1,{percentage_off:r,standard_price:o}=1===e.length&&e[0].offer_summary||{};for(let r of e){let{max_price:e,max_price_val:o,min_price:s,min_price_val:d,price:u,price_val:c,price_in_micro_currency:p,in_stock:m}=r.offer_summary||{},_=c||Number(p);"number"==typeof d&&Number.isFinite(d)&&"number"==typeof o&&Number.isFinite(o)&&((void 0===t||d<t)&&(t=d,i=s),(void 0===l||o>l)&&(l=o,n=e),a=a||!!m),Number.isFinite(_)&&((null==t||_<t)&&(t=_,i=u),(null==l||_>l)&&(l=_,n=u),a=a||!!m)}return n&&i?i===n?{in_stock:a,percentage_off:r,price:i,standard_price:o}:{in_stock:a,max_price:n,min_price:i,percentage_off:r,price:i,standard_price:o}:void 0},c=e=>{var i;let t={...(null===(i=e.find(e=>!!e.is_preselected))||void 0===i?void 0:i.dimensions)||{}};for(let e in t)t[e]||delete t[e];return t},p=({selectedMap:e,variants:i})=>i.filter(({dimensions:i={}})=>{for(let t in e){let n=e[t];if(i[t]!==n)return!1}return!0});var m=t(388011),_=t(785893);let h=(0,n.createContext)(void 0),g=e=>{var i;if(!e.variants)return!1;let t=null===(i=e.dimension_metadata)||void 0===i?void 0:i.find(e=>{var i;return(null===(i=e.name)||void 0===i?void 0:i.toLowerCase())==="color"});return!!(t&&t.name&&t.values&&1!==t.values.length)},y=({pinId:e,children:i,dimensionMetadata:t,primaryDimName:s,variants:g,primaryDimensionThumbnailImages:y})=>{let v=(0,n.useCallback)(({selectedMap:e})=>{let i=r({dimensionMetadataNameValues:t.map(({name:e,values:i})=>({name:e,values:i})),primaryDimName:s,primaryDimensionThumbnailImages:y,defaultStatus:"invalid"});return d({variantMap:i,selectedMap:e,variants:g}),i},[t,s,y,g]),{logContextEvent:f}=(0,m.v)(),x=g.find(e=>e.is_preselected),b=(0,l.a)(),{pinsState:S,setPinState:P}=b||{},k=S&&S[e],w=k?k.selectedMap:c(g),I=k?k.selectedVariants:p({selectedMap:w,variants:g}),T=k?k.variantMap:v({selectedMap:w}),j=!!k&&k.isSelectedByUser,A=k?k.variantUrl:(null==x?void 0:x.pin_id)||e,E=(0,n.useCallback)((i,t=!1)=>{let n=p({selectedMap:i,variants:g}),l=v({selectedMap:i}),a={selectedMap:i,selectedVariants:n,variantMap:l,isSelectedByUser:t,variantUrl:""},r=n[0].pin_id;r&&(a.variantUrl=r),P&&P(e,a)},[v,e,P,g]),C=(0,n.useCallback)(()=>{let e=c(g);E(e)},[E,g]),F=(0,n.useCallback)(({dimensionName:e,variant:i,isAutoSelection:t=!1})=>{var n;let l=null===(n=T[e])||void 0===n?void 0:n.find(({value:e})=>e===i);try{if(!l)throw Error(`Unable to find the selected variant ${e}: ${i}`);if(w[e]===i)return;let n="invalid"!==l.status?w:{},a={...n,[e]:i},r=o({variantMap:T,status:"invalid"});d({variantMap:r,selectedMap:a,variants:g}),E(a,!t),f({event_type:10240,component:14092})}catch(e){throw C(),e}},[T,w,g,E,C,f]),{title:R}=I[0],L=(0,a.Z)({images:(I[0].additional_images||[])[0].canonical_images}),D=u(I),O=(0,n.useMemo)(()=>{let e=((null==x?void 0:x.dimensions)||{})[s],i=T[s]||[],n=i;if(e&&i){let t=i.find(i=>i.value===e);t&&(n=[t,...i.filter(i=>i.value!==e)])}return{dimensionMetadataNameValues:t.map(({name:e,values:i})=>({name:e,values:i})),offerSummary:D,primaryVariants:n,primaryDimName:s,selectedMap:w,isSelectedByUser:j,selectVariant:F,title:R,variants:g,image:L,variantUrl:A}},[x,s,T,t,D,w,j,F,R,g,L,A]);return(0,_.jsx)(h.Provider,{"data-test-id":"safe-product-pins-feed-context-provider",value:O,children:i})},v=({children:e,variantSet:i,pinId:t,isEligible:n})=>{if(!n)return(0,_.jsx)(h.Provider,{"data-test-id":"undefined-context-provider",value:void 0,children:e});let{dimension_metadata:l,primary_dimension_thumbnail_images:a,variants:r}=i||{},o=null==l?void 0:l.find(e=>{var i;return(null===(i=e.name)||void 0===i?void 0:i.toLowerCase())==="color"});return(0,_.jsx)(y,{pinId:t,dimensionMetadata:l||[],primaryDimName:(null==o?void 0:o.name)||"",primaryDimensionThumbnailImages:a,variants:r||[],children:e})},f=()=>{let e=(0,n.useContext)(h);return e}},150456:(e,i,t)=>{"use strict";t.d(i,{A:()=>r,a:()=>o});var n=t(667294),l=t(785893);let a=(0,n.createContext)(void 0),r=({children:e})=>{let[i,t]=(0,n.useState)({}),r=(0,n.useMemo)(()=>({setPinState:(e,n)=>{t({...i,[e]:{...i[e]||{},...n}})},pinsState:i}),[i]);return(0,l.jsx)(a.Provider,{value:r,children:e})},o=()=>(0,n.useContext)(a)},139488:(e,i,t)=>{"use strict";t.d(i,{Z:()=>w});var n=t(883119),l=t(667294),a=t(536042),r=t(630089),o=t(993926),s=t(549201),d=t(196039),u=t(785893);function c(){let e=(0,a.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function p({freeShippingPrice:e}){let i=(0,a.ZP)();return(0,r.nk)(i._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function m(){let e=(0,a.ZP)();return e._('Shipping info', 'closeup.product.shipping', 'product shipping info')}function _({clickthroughFn:e}){let i=(0,a.ZP)(),[t,r]=(0,l.useState)(!1),o=(0,s.HG)(),c=(0,l.useRef)(null),p=()=>{r(!t)},m=i._('Check the merchant\'s site for shipping to your region', 'closeup.product.shipping', 'Text on how the user can get more shipping information for the product'),_=i._('Visit site', 'closeup.product.shipping', 'Button to visit the merchant site'),h=o?(0,u.jsx)(n.J2,{anchor:c.current,onDismiss:p,idealDirection:"right",children:(0,u.jsx)(n.xu,{padding:5,rounding:4,children:(0,u.jsx)(n.xv,{children:m})})}):(0,u.jsx)(n.Io,{onDismiss:p,zIndex:d.lp,size:"auto",heading:"",children:(0,u.jsxs)(n.xu,{alignItems:"center",direction:"column",marginStart:10,marginEnd:10,display:"flex",children:[(0,u.jsx)(n.xu,{marginBottom:5,children:(0,u.jsx)(n.xv,{size:"400",weight:"bold",align:"center",children:m})}),(0,u.jsx)(n.zx,{text:_,accessibilityLabel:_,size:"lg",onClick:e})]})});return(0,u.jsxs)(n.xu,{display:"flex",alignItems:"center",marginStart:1,children:[(0,u.jsx)(n.iP,{ref:c,onTap:p,children:(0,u.jsx)(n.JO,{accessibilityLabel:i._('Show shipping information', 'closeup.product.shipping', 'Accessibility label for showing more shipping information'),color:"default",icon:"info-circle",size:14})}),t&&h]})}function h({clickthroughFn:e,customStyles:i,showPrevDot:t,freeShippingPrice:l,freeShippingValue:a,showShippingCountryDisclaimer:r}){let s;let d=t?[""]:[],{color:h="subtle",size:g="200"}=i||{};return Number.isFinite(a)||r?(0===a?s=(0,u.jsx)(c,{}):l?s=(0,u.jsx)(p,{freeShippingPrice:l}):r&&(s=(0,u.jsx)(m,{})),s&&d.push((0,u.jsxs)(n.kC,{direction:"row",children:[s,r&&(0,u.jsx)(_,{clickthroughFn:e})]})),0===d.length)?null:(0,u.jsx)(n.xv,{color:h,size:g,children:(0,u.jsx)(o.Z,{color:h,items:d})}):null}var g=t(734417),y=t(31407),v=t(282802);function f({count:e,rating:i}){return!!(i&&"None"!==i&&Number.isFinite(e))}let x=({rating:e,textSize:i,type:t})=>{if("single"===t){let t=parseFloat(e);return Number.isNaN(t)?null:(0,u.jsxs)(n.kC,{alignItems:"center",children:[(0,u.jsx)(y.A,{fill:"full",width:12}),(0,u.jsx)(n.xv,{size:i,children:t.toFixed(1)})]})}return(0,u.jsx)(y.Z,{rating:e,width:12})},b=({bracket:e,count:i,countFormat:t,countType:l,marginStart:o,textSize:s,underline:d})=>{let{locale:c}=(0,v.B)(),p=(0,a.ZP)(),m=(0,g.Z)();if(null==i)return null;let _=m(c,i,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===t){let e="review"===l?p.ngettext('{{ count }} review', '{{ count }} reviews', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):p.ngettext('{{ count }} rating', '{{ count }} ratings', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');_=(0,r.nk)(e,{count:i}).join("")}return e&&(_=`(${_})`),(0,u.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:d?"1px solid gray":"none"}},marginStart:o,children:(0,u.jsx)(n.xv,{color:d?"subtle":"default",size:s,underline:d,children:(0,u.jsx)(n.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:_})})})};function S({bracket:e,count:i,countFormat:t,countType:l,rating:a,textSize:r,underline:o}){let s=f({count:i,rating:a});return s?(0,u.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(x,{rating:a,textSize:r,type:"multiple"}),(0,u.jsx)(b,{bracket:e,count:i,countFormat:t,countType:l,textSize:r,underline:o})]}):null}let P=({count:e,countFormat:i,ratingValue:t,shippingInfo:l})=>(0,u.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,u.jsx)(S,{count:e,countFormat:i,rating:t,textSize:"200"}),(0,u.jsx)(n.xu,{marginTop:f({count:e,rating:t})?1:0,children:(0,u.jsx)(h,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==l?void 0:l.freeShippingPrice,freeShippingValue:null==l?void 0:l.freeShippingValue})})]}),k=({clickthroughFn:e,count:i,countType:t,countFormat:l,hideSeparationDot:a,bracket:r,ratingValue:o,shippingInfo:s,shipsToUserCountry:d})=>(0,u.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,u.jsx)(S,{bracket:r,count:i,countFormat:l,countType:t,rating:o,textSize:"300"}),(0,u.jsx)(n.xu,{marginStart:f({count:i,rating:o})&&a?2:0,children:(0,u.jsx)(h,{clickthroughFn:e,customStyles:{color:"default",size:"300"},showPrevDot:f({count:i,rating:o})&&!a,freeShippingPrice:null==s?void 0:s.freeShippingPrice,freeShippingValue:null==s?void 0:s.freeShippingValue,showShippingCountryDisclaimer:!1===d})})]});function w(e){return e.isGridView?(0,u.jsx)(P,{...e}):(0,u.jsx)(k,{...e})}},212490:(e,i,t)=>{"use strict";t.d(i,{M:()=>y,Z:()=>v});var n=t(667294),l=t(883119),a=t(976641),r=t(536042),o=t(630089),s=t(245410),d=t(818577),u=t(785893);function c({title:e,variant:i}){var t;let a=(0,r.ZP)(),{checkExperiment:c}=(0,s.F)(),{anyEnabled:p}=c("web_unified_visual_feed"),m={default:(0,o.nk)(a._('Shop {{ category }}', 'relatedProducts.stela.header', 'header for related products stela feed'),{category:(e||"").toLowerCase()}).join("").trim(),"unified-feed":(0,o.nk)(a._('{{ category }}', 'unifiedHeader.stela.header', 'header for related products stela feed'),{category:(t=e||"").toLowerCase().charAt(0).toUpperCase()+t.toLowerCase().slice(1)}).join("").trim(),"closeup-shop":"","unified-feed-no-label":"","closeup-shop-idea-pin":a._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),"related-products":"",flashlight:e,"shop-module":""},_={"closeup-shop":a._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),"unified-feed":"","unified-feed-no-label":"","related-products":a._('More to shop', 'relatedProducts.header', 'header for related products feed'),"closeup-shop-idea-pin":a._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),flashlight:"","shop-module":a._('Shop the look', 'shopTheLook.header', 'header for related products shop the look feed')},h=e?m[["flashlight","unified-feed","closeup-shop-idea-pin","shop-module"].includes(i)?i:"default"]:_[i];return(0,u.jsx)(n.Fragment,{children:h?(0,u.jsx)(l.X6,{size:p&&"flashlight"!==i?"500":"400",accessibilityLevel:1,children:h}):(0,u.jsx)(d.Z,{text:a._('Related products page', 'relatedProducts.unifiedFeed.accessibilityhiddenheading', 'accessibility label for related products page')})})}var p=t(388011),m=t(906215),_=t(282802),h=t(870601);function g({buttonText:e,handleDrawerClose:i,isDrawerOpen:t,onClick:n,largeSize:a=!1,reversed:o=!1,invertWhenDrawerIsOpen:s=!1,hasProductFiltersApplied:d=!1}){let c=(0,r.ZP)(),p=s&&t,m=(0,u.jsx)(l.JO,{accessibilityLabel:"",icon:"filter",color:p?"light":"dark"},"filterIcon"),_=e&&(0,u.jsx)(l.xv,{align:"center",color:p?"inverse":"default",weight:"bold",children:e},e);return(0,u.jsx)(l.iP,{onTap:()=>{t?i():n()},rounding:"pill",accessibilityLabel:c._('Filter', 'productsFilterButton', 'Button to filter products results'),children:(0,u.jsxs)(l.xu,{position:"relative",children:[(0,u.jsx)(l.xu,{display:"flex",justifyContent:"center",alignContent:"center",color:p?"dark":"secondary",rounding:"pill",minHeight:40,paddingX:4,dangerouslySetInlineStyle:a?{__style:{padding:"18px"}}:void 0,children:(0,u.jsx)(l.kC,{gap:{row:2,column:0},alignItems:"center",children:o?[_,m]:[m,_]})}),d&&(0,u.jsx)(l.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",rounding:"pill",top:!0,right:!0})]})})}let y=60;function v({filtersText:e,handleDrawerClose:i,handleDrawerOpen:t,isDrawerOpen:r,isProductOnlyFeed:o,pinId:s,showFilter:d,title:v,variant:f,viewParameter:x,viewType:b}){let{logContextEvent:S}=(0,p.v)(),{isRTL:P}=(0,_.B)(),k=(0,n.useRef)(null);(0,n.useEffect)(()=>(d&&S({event_type:120,view_type:b,component:13467,element:11735,view_parameter:x}),k.current&&m.Z.addObstruction("top",k.current),()=>{k.current&&m.Z.removeObstruction("top",k.current)}),[d]);let w=()=>{S({event_type:101,view_type:b,component:13467,element:11735,view_parameter:x}),t&&t()};return(0,u.jsx)(h.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,u.jsxs)(l.xu,{alignItems:"center",color:"default",display:"flex",height:y,justifyContent:"center",paddingY:4,position:"absolute",top:!0,width:"100%","data-test-id":"related-products-header",ref:k,children:[(0,u.jsx)(l.xu,{marginStart:5,position:"absolute",left:!P,right:P,children:(0,u.jsx)(a.Z,{pinId:s,arrowType:o?"directional-arrow-left":"cancel",viewType:b,viewParameter:x})}),(0,u.jsx)(c,{title:v,variant:f}),d&&"boolean"==typeof r&&w&&e&&i&&(0,u.jsx)(l.xu,{marginEnd:12,position:"absolute",left:P,right:!P,"data-test-id":"filter-button",children:(0,u.jsx)(g,{isDrawerOpen:r,onClick:w,buttonText:e,handleDrawerClose:i})})]})})}},512025:(e,i,t)=>{"use strict";t.d(i,{Z:()=>P});var n,l=t(667294);t(167912);var a=t(616550),r=t(883119),o=t(303318),s=t(785893);function d({title:e}){return(0,s.jsx)(r.xu,{"data-test-id":"unified-feed-subheader",display:"flex",justifyContent:"center",dangerouslySetInlineStyle:{__style:{marginLeft:55}},children:(0,s.jsx)(r.X6,{size:"400",accessibilityLevel:2,children:e})})}var u=t(328939);let c={flashlight:72,shop:427,stela:427};function p({pinId:e,variant:i,visualSearchFlashlightUnifiedResource:t}){let n=(0,a.useLocation)(),{data:p}=t,m=(null==p?void 0:p.results)||[],_=["flashlight","stela","shop"].includes(i),h=`/pin/${e}/related-products/all/${n.search}${_?`&entry=${i}`:""}`;return(0,s.jsx)(l.Fragment,{children:m.filter(e=>"story"===e.type).map((e,t)=>{if("story"===e.type){let{action:n,id:l,objects:a,story_type:p,title:m}=e;switch(p){case"unified_visual_feed_product_upsell":let _=m.format||"";return(0,s.jsx)(u.qS,{auxData:{story_type:p},component:14339,loggingId:l,objectIdStr:l,slotIndex:t,viewParameter:3462,viewType:c[i],children:({impressionTrackerRef:e})=>(0,s.jsxs)(r.xu,{ref:e,children:[_&&(0,s.jsx)(d,{title:_}),(0,s.jsx)(r.xu,{marginTop:4,marginBottom:12,"data-test-id":"unified-feed-stela-story",children:(0,s.jsx)(o.Z,{action:n,component:14339,contextLogData:{story_type:p},dangerouslySetActionUrl:h,element:179,id:l,objects:a,viewType:c[i],viewParameter:3462})})]})},l);case"unified_visual_feed_organic_header":return(0,s.jsx)(u.qS,{auxData:{story_type:p},component:14339,loggingId:l,objectIdStr:l,slotIndex:t,viewParameter:3462,viewType:c[i],children:({impressionTrackerRef:i})=>(0,s.jsx)(r.xu,{ref:i,marginBottom:4,children:(0,s.jsx)(d,{title:e.title.format||""})})},l)}}return null})})}var m=t(394214),_=t(388011),h=t(536042),g=t(552369);function y({commerceData:e,isFilterOpened:i,isProductFeed:t,searchId:n,viewParameter:a,viewType:o,visualSearchFlashlightUnifiedResource:d}){let u=(0,h.ZP)(),{logContextEvent:c}=(0,_.v)(),[p,y]=(0,l.useState)(),[v,f]=(0,l.useState)(!1),x=(0,l.useRef)(null),b=(0,l.useRef)(null),S=(0,g.Z)(()=>{x.current&&y(x.current.getBoundingClientRect().y)},100);(0,l.useEffect)(()=>{var e;null===(e=b.current)||void 0===e||e.handleResize()},[i]),(0,l.useEffect)(()=>{if(!v)return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)}),(0,l.useEffect)(()=>{var e,i;let t=(null===(e=window)||void 0===e?void 0:e.innerHeight)||(null===(i=document.body)||void 0===i?void 0:i.clientHeight);!v&&p<t&&(f(!0),c({event_type:110,view_type:o,view_parameter:a}))},[p,c,v,f,o,a]);let{data:P,isFetching:k,fetchMore:w}=d,I=((null==P?void 0:P.results)||[]).filter(e=>"pin"===e.type);return(0,s.jsxs)(r.xu,{"data-test-id":"visual-search-feed",children:[(0,s.jsx)(r.xu,{marginTop:2,ref:x,children:(0,s.jsx)(r.Rk,{renderItem:({data:i,itemIdx:l})=>"pin"===i.type?(0,s.jsx)(m.default,{auxData:{commerce_data:e},pin:i,pinId:i.id,authDesktopSurface:t?"ShoppingDynamicHeightGrid":"SearchItem",componentType:0,slotIndex:l,viewData:{search_identifier:n},viewParameter:a,viewType:o}):null,items:I||[],loadItems:w,ref:b,scrollContainer:()=>window})}),(0,s.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,s.jsx)(r.$j,{accessibilityLabel:u._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:k})})]})}var v=t(450600),f=t(272109),x=t(473183);let b=void 0!==n?n:n=t(553191),S=e=>({entityId:e.id});function P({isFilterOpened:e,isProductOnlyFeed:i,pinKey:t,variant:n,viewParameter:a,viewType:r,visualSearchFlashlightUnifiedResource:o}){let{data:d,childDataKey__DEPRECATED:u}=(0,v.u)(b,t,{useLegacyAdapter:S}),{logContextEvent:c}=(0,_.v)(),m="shop"===n,h=m||i,{data:g}=o,P=null==g?void 0:g.search_identifier,k={is_product_only_feed:h},w=(0,x.Z)(u);(0,f.Z)(()=>{c({event_type:13,view_type:r,view_parameter:a,aux_data:w({default:k})})});let{entityId:I}=d;return(0,s.jsxs)(l.Fragment,{children:[!m&&(0,s.jsx)(p,{pinId:I,variant:n,visualSearchFlashlightUnifiedResource:o}),(0,s.jsx)(y,{commerceData:k,isFilterOpened:e,isProductFeed:h,searchId:P,viewParameter:a,viewType:r,visualSearchFlashlightUnifiedResource:o})]})}},678546:(e,i,t)=>{"use strict";function n(e){let{category_filters:i,domain_filters:t,price_filters:n}=e||{};return!!i||!!t||!!n}t.d(i,{Z:()=>n})},636125:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(667294),l=t(678546),a=t(819079);function r({resourceOptions:e,setFlashlightSearchId:i}){let[t,r]=(0,n.useState)(),[o,s]=(0,n.useState)(""),[d,u]=(0,n.useState)(),c=(0,a.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null);return(0,n.useEffect)(()=>{let{data:e}=c,t=null==e?void 0:e.search_identifier;t&&(i?i(t):s(t)),r(e)},[i,c]),(0,n.useEffect)(()=>{let{data:e}=c,i=null==e?void 0:e.search_identifier,n=null==t?void 0:t.search_identifier;!e||i&&n&&i===n||(0,l.Z)(t)||!(0,l.Z)(e)||u({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters})},[d,t,c]),{visualSearchFlashlightUnifiedResource:c,filters:d,searchId:o,setSearchId:s}}},705882:(e,i,t)=>{"use strict";t.d(i,{Z:()=>g});var n=t(667294),l=t(883119),a=t(785893);function r({isTopRow:e,image:i}){var t,n,r;return(0,a.jsxs)(l.zd,{wash:!0,height:e?217:168,width:e?236:117,children:[(0,a.jsx)(l.Ee,{alt:i.alt||"",fit:"cover",naturalHeight:null!==(t=i.height)&&void 0!==t?t:1,naturalWidth:null!==(n=i.width)&&void 0!==n?n:1,src:null!==(r=i.url)&&void 0!==r?r:""}),!!i.price&&(0,a.jsx)(l.xu,{"data-test-id":"shopping-upsell-price",height:24,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"06px"}},left:!0,margin:1,paddingX:2,paddingY:1,position:"absolute",top:!0,children:i.price})]})}var o=t(388011),s=t(870243),d=t(183929),u=t(176172),c=t(28630),p=t(946543),m=t(299402);let _={container:{borderRadius:`${u.Oc}px ${u.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}},h=({images:e,firstImageIndex:i})=>{let t=i+1,n=i+2;return(0,a.jsxs)(l.xu,{overflow:"hidden",rounding:4,children:[(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:_.content},children:e.at(i)?(0,a.jsx)(r,{image:e[i],isTopRow:!0}):null}),e.length>n?(0,a.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,a.jsx)(r,{image:e[t]}),(0,a.jsx)(r,{image:e[n]})]}):null]})};function g({dangerouslySetActionUrl:e,query:i,story:t,slotIndex:r}){let u,g,y,v;let{logContextEvent:f}=(0,o.v)(),{action:x,id:b,objects:S,story_type:P,subtitle:k}=t,{text:w,url:I}=x||{},[T,j]=(0,n.useState)(!1),A=(0,n.useCallback)(()=>j(!0),[j]),E=(0,n.useCallback)(()=>j(!1),[j]),C=(S||[]).reduce((e,i)=>{var t,n,l,a,r,o,s,d,u;return"pin"!==i.type?e:[...e,{domain:i.domain,image:{alt:i.title||i.description,height:null===(t=i.images)||void 0===t?void 0:null===(n=t["474x"])||void 0===n?void 0:n.height,url:null===(l=i.images)||void 0===l?void 0:null===(a=l["474x"])||void 0===a?void 0:a.url,width:null===(r=i.images)||void 0===r?void 0:null===(o=r["474x"])||void 0===o?void 0:o.width,price:null===(s=((null===(d=i.rich_summary)||void 0===d?void 0:null===(u=d.products)||void 0===u?void 0:u[0])||{}).offer_summary)||void 0===s?void 0:s.price}}]},[]),F=(C[0]||{}).domain||void 0,R={story_type:P};if(["search_product_collage_story","shop_article_story"].includes(P)?(u=2,g=43,R={...R,story_id:b,entered_query:i}):"shop_brand_story"===P||"shop_brand_affinity_story"===P?(u=1,g=92,F&&(R={...R,commerce_data:JSON.stringify({domain:F})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(P)?(u=72,g=3050):"related_domain_collage"===P?(u=72,g=3455):"related_products_collage"===P&&(u=1,g=3177),["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(P)&&x){let e=x.user;y=e&&(e.image_medium_url||e.image_large_url),v=e&&e.full_name}let L=e||I;if(!L)return null;let D=(0,c.Z)({url:L})?"nofollow":"none";return(0,a.jsx)(d.Z,{componentType:200,contextLogData:R||{},impressionType:"Story",loggingId:P,slotIndex:r,viewParameter:g,viewType:u,children:(0,a.jsx)(l.Tg,{rel:D,href:L,onTap:()=>f({event_type:101,element:372,component:200,view_type:u,view_parameter:g,aux_data:{story_type:P}}),children:(0,a.jsxs)(l.xu,{overflow:"hidden",position:"relative",onMouseEnter:A,onMouseLeave:E,dangerouslySetInlineStyle:{__style:_.container},children:[(0,a.jsx)(h,{images:C.map(({image:e})=>e),firstImageIndex:["related_domain_collage","related_products_collage"].includes(P)?1:0}),(0,a.jsx)(l.xu,{color:"secondary",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",marginTop:2,paddingY:k?4:2,rounding:"pill",children:(0,a.jsxs)(l.xu,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[k?(0,a.jsx)(l.xu,{marginBottom:1,children:(0,a.jsx)(l.xv,{align:"start",color:"subtle",children:k.format})}):null,(0,a.jsx)(l.xv,{align:"start",weight:"bold",children:w})]})}),v&&y&&(0,a.jsx)(l.xu,{position:"absolute",right:!0,top:!0,margin:2,children:(0,a.jsx)(s.qE,{name:v,size:"md",src:y,outline:!0})}),(0,a.jsx)(m.Z,{visibility:T?"visible":"none",children:(0,a.jsx)(p.Z,{additionalStyles:_.visualOverlay})})]})})})}},293926:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(667294),l=t(883119),a=t(785893);function r({color:e="red",duration:i,finalProgress:t,shape:r="pill"}){let[o,s]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=setTimeout(()=>{s(!0)},0);return()=>{clearTimeout(e)}},[]);let d="pill"===r;return(0,a.jsx)(l.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${t}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${o?"-5px":"-100%"})`:`scaleX(${o?1:0})`,transformOrigin:"left",transitionDuration:`${i}ms`,transitionTimingFunction:"ease-in"}}})}},589845:(e,i,t)=>{"use strict";t.d(i,{Z:()=>y});var n,l=t(667294);t(167912);var a=t(616550),r=t(946618),o=t(310561),s=t(388011),d=t(970588),u=t(450600),c=t(898252),p=t(385075),m=t(473183),_=t(785893);let h=void 0!==n?n:n=t(823706),g=e=>{var i;return{board:e.board&&{url:e.board.url},entityId:e.id,link:e.link,pinner:e.pinner&&{username:e.pinner.username},richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},products:e.rich_metadata.products&&e.rich_metadata.products.map(()=>({__typename:"RichPinProductMetadata"})),recipe:(null===(i=e.rich_metadata)||void 0===i?void 0:i.recipe)&&{__typename:"RecipeMetadata"}},storyPinData:e.story_pin_data&&{__typename:"StoryPinData"},storyPinDataId:e.story_pin_data_id,trackedLink:e.tracked_link,trackingParams:e.tracking_params}};function y({children:e,hovered:i,pinKey:t,slotIndex:n,trafficSource:y,trackingParamsMap:v,viewType:f}){var x,b,S,P,k;let{logContextEvent:w}=(0,s.v)(),[I,T]=(0,l.useState)(),[j,A]=(0,l.useState)(),{data:E,childDataKey__DEPRECATED:C}=(0,u.u)(h,t,{useLegacyAdapter:g}),{entityId:F,trackedLink:R,link:L}=E,D=R||L||"",O=()=>{T(!0)},N=function(e){let i=(0,a.useLocation)(),{previous:t}=(0,o.Hv)();return(0,r.Z)({...e,location:i,previousHistory:t})}({boardUrl:null===(x=E.board)||void 0===x?void 0:x.url,pinId:F,pinnerUserName:null===(b=E.pinner)||void 0===b?void 0:b.username,storyPinDataId:E.storyPinDataId,trackingParams:E.trackingParams,trackingParamsMap:v}),z=(0,p.Z)({hasPin:!!E,hasPinRichMetadata:!!E.richMetadata,hasPinRichMetadataProducts:!!(null!==(S=E.richMetadata)&&void 0!==S&&S.products),hasPinRichMetadataArticle:!!(null!==(P=E.richMetadata)&&void 0!==P&&P.article),hasPinRichMetadataRecipe:!!(null!==(k=E.richMetadata)&&void 0!==k&&k.recipe),hasPinStoryPinData:!!E.storyPinData}),M=(0,m.Z)(C),K=(0,l.useCallback)(()=>{let e=M();(0,d.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:F,url:D,client_tracking_params:N,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:F,...n||{},...e})}}).then(i=>{i&&(w({event_type:12,object_id_str:F,view_type:f,view_parameter:z,aux_data:{clickthrough_type:"rightClick",...n||{},...e}}),w({event_type:8948,view_type:f,object_id_str:F,view_parameter:z,aux_data:{click_type:"clickthrough",closeup_navigation_type:y&&(0,c.sV)(y)?"deeplink":"click",clickthrough_type:"rightClick",...n||{},...e}}))})}),Z=e=>{if(I){var i;/^\/pin/.test(null===(i=e.target.activeElement.attributes.href)||void 0===i?void 0:i.value)||(K(),T(!1)),window.removeEventListener(j,Z,!1)}};return(0,l.useEffect)(()=>{var e,i,t,n,l,a;void 0!==(null===(e=window)||void 0===e?void 0:null===(i=e.document)||void 0===i?void 0:i.hidden)?A("visibilitychange"):void 0!==(null===(t=window)||void 0===t?void 0:null===(n=t.document)||void 0===n?void 0:n.msHidden)?A("msvisibilitychange"):void 0!==(null===(l=window)||void 0===l?void 0:null===(a=l.document)||void 0===a?void 0:a.webkitHidden)&&A("webkitvisibilitychange")},[]),(0,l.useEffect)(()=>(I&&window&&window.addEventListener(j,Z,!1),()=>window.removeEventListener(j,Z)),[I,j]),(0,l.useEffect)(()=>(i&&window.addEventListener("contextmenu",O),()=>{window.removeEventListener("contextmenu",O)}),[i]),(0,_.jsx)(l.Fragment,{children:e})}},128681:(e,i,t)=>{"use strict";t.d(i,{S:()=>v,Z:()=>b});var n=t(667294),l=t(615071),a=t(883119),r=t(563962),o=t(785893);let s={nw:0,ne:90,se:180,sw:270},d={ne:[7,-7],se:[7,7],sw:[-7,7],nw:[-7,-7]},u={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},c=(e,i,t,n)=>{if("rounded"!==n)return`translate(${i}, ${t}), rotate(${s[e]})`;{let[n,l]=d[e];return`translate(${i+n}, ${t+l}), rotate(${s[e]})`}};function p({corner:e,x:i,y:t,size:n,cornerStyle:l}){return(0,o.jsxs)("g",{transform:c(e,i,t,l),style:{cursor:u[e]},children:[(0,o.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:0,y:0,width:n,height:n,className:`v2cropperHandle ${e}`}),"rounded"===l?(0,o.jsx)("path",{d:"M16 0H24V8H16C11.5817 8 8 11.5817 8 16V24H0V16C0 7.16343 7.16345 0 16 0Z",fill:"#fff",className:`v2cropperHandle ${e}`}):(0,o.jsx)("path",{d:`M ${n} 0 L 0 0 L 0 ${n}`,fill:"none",stroke:"#fff",strokeWidth:6,className:`v2cropperHandle ${e}`})]})}let m={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function _({edge:e,x:i,y:t,w:n,h:l}){return(0,o.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:i,y:t,width:n,height:l,className:`v2cropperHandle ${e}`,style:{cursor:m[e]}})}function h({x:e,y:i,w:t,h:l}){let a="rounded";return(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(p,{corner:"nw",x:e,y:i,size:20,cornerStyle:a}),(0,o.jsx)(p,{corner:"ne",x:e+t,y:i,size:20,cornerStyle:a}),(0,o.jsx)(p,{corner:"sw",x:e,y:i+l,size:20,cornerStyle:a}),(0,o.jsx)(p,{corner:"se",x:e+t,y:i+l,size:20,cornerStyle:a}),(0,o.jsx)(_,{edge:"n",x:e+20,y:i-10,w:t-40,h:30}),(0,o.jsx)(_,{edge:"e",x:e+t-20,y:i+20,w:30,h:l-40}),(0,o.jsx)(_,{edge:"s",x:e+20,y:i+l-10,w:t-40,h:30}),(0,o.jsx)(_,{edge:"w",x:e-20,y:i+20,w:30,h:l-40})]})}var g=t(874261);function y(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let v=16,f=`
.preview-crop-area-enter {
  opacity: 0;
}

.preview-crop-area-enter-active {
  opacity: 1;
  transition: opacity 300ms;
}

.preview-crop-area-exit {
  opacity: 1;
}

.preview-crop-area-exit-active {
  opacity: 0;
  transition: opacity 300ms;
}

.preview-crop-area-exit-done {
  opacity: 0;
}
`;class x extends n.Component{constructor(...e){super(...e),y(this,"state",{cropArea:!!this.props.initialCropArea&&function({initialCropArea:e,imageSize:i}){let{x:t,y:n,w:l,h:a}=e,{h:r,w:o}=i;if(!r||!o)return e;let s=t,d=n,u=l,c=a;return s<v&&(s=v,u-=v-t),s+u>o-v&&(u-=s+u-o+v),d<v&&(d=v,c-=v-n),d+c>r-v&&(c-=d+c-r+v),{x:s,y:d,w:u,h:c}}({initialCropArea:this.props.initialCropArea,imageSize:this.props.imageSize})||{h:0,w:0,x:0,y:0},cropChangeType:null}),y(this,"cropResizeDirection",null),y(this,"_cropperOverlay",(0,n.createRef)()),y(this,"_checkCropHandleValid",(e,i)=>{let{cropArea:{h:t,w:n,x:l,y:a}}=this.state;switch(this.cropResizeDirection){case"ne":e<l&&i>a+t?this.cropResizeDirection="sw":e<l?this.cropResizeDirection="nw":i>a+t&&(this.cropResizeDirection="se");break;case"nw":e>l+n&&i>a+t?this.cropResizeDirection="se":e>l+n?this.cropResizeDirection="ne":i>a+t&&(this.cropResizeDirection="sw");break;case"se":e<l&&i<a?this.cropResizeDirection="nw":e<l?this.cropResizeDirection="sw":i<a&&(this.cropResizeDirection="ne");break;case"sw":e>l+n&&i<a?this.cropResizeDirection="ne":e>l+n?this.cropResizeDirection="se":i<a&&(this.cropResizeDirection="nw");break;case"n":i>a+t&&(this.cropResizeDirection="s");break;case"s":i<a&&(this.cropResizeDirection="n");break;case"e":e<l&&(this.cropResizeDirection="w");break;case"w":e>l+n&&(this.cropResizeDirection="e")}}),y(this,"handleOnMouseDown",e=>{var i;e.preventDefault(),e.stopPropagation();let{clientX:t,clientY:n}=e,{target:l}=e,a=t-this._cropperOverlayCoor.x,r=n-this._cropperOverlayCoor.y,o=l.classList?Array.from(l.classList):l instanceof Element&&(null===(i=l.getAttribute("class"))||void 0===i?void 0:i.split(" "))||[];o.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),o.includes("ne")&&(this.cropResizeDirection="ne"),o.includes("nw")&&(this.cropResizeDirection="nw"),o.includes("se")&&(this.cropResizeDirection="se"),o.includes("sw")&&(this.cropResizeDirection="sw"),o.includes("n")&&(this.cropResizeDirection="n"),o.includes("s")&&(this.cropResizeDirection="s"),o.includes("e")&&(this.cropResizeDirection="e"),o.includes("w")&&(this.cropResizeDirection="w")):o.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:a,y:r}):o.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:a,y:r},this.setState({cropArea:{h:0,w:0,x:a,y:r},cropChangeType:"select"}))}),y(this,"handleOnMouseMove",e=>{var i,t,n,l,a,r;let{cropArea:{h:o,w:s,x:d,y:u},cropChangeType:c}=this.state,{imageSize:p}=this.props,{clientX:m,clientY:_}=e,h=m-this._cropperOverlayCoor.x,g=_-this._cropperOverlayCoor.y;if("resize"===c){let e=Math.max(Math.min(h,(null!==(i=p.w)&&void 0!==i?i:1)-v),v),n=Math.max(Math.min(g,(null!==(t=p.h)&&void 0!==t?t:1)-v),v);switch(this._checkCropHandleValid(e,n),this.cropResizeDirection){case"ne":{let i=Math.max(o+(u-n),48),t=Math.max(e-d,48);this.setState({cropArea:{h:i,w:t,x:d,y:i<=48?u:n}});break}case"nw":{let i=Math.max(s+(d-e),48),t=Math.max(o+(u-n),48);this.setState({cropArea:{h:t,w:i,x:48===i?d:e,y:48===t?u:n}});break}case"se":{let i=Math.max(n-u,48),t=Math.max(e-d,48);this.setState({cropArea:{h:i,w:t,x:d,y:u}});break}case"sw":{let i=Math.max(n-u,48),t=Math.max(s+(d-e),48);this.setState({cropArea:{h:i,w:t,x:48===t?d:e,y:u}});break}case"n":{let e=Math.max(u-n+o,48);this.setState({cropArea:{h:e,w:s,x:d,y:48===e?u:n}});break}case"s":{let e=Math.max(n-u,48);this.setState({cropArea:{h:e,w:s,x:d,y:u}});break}case"e":{let i=Math.max(e-d,48);this.setState({cropArea:{h:o,w:i,x:d,y:u}});break}case"w":{let i=Math.max(s-e+d,48);this.setState({cropArea:{h:o,w:i,x:48===i?d:e,y:u}})}}}else if("move"===c){let e=h-this.cropChangeStartCoor.x,i=g-this.cropChangeStartCoor.y,t=Math.max(Math.min(d+e,(null!==(n=p.w)&&void 0!==n?n:1)-s-v),v),a=Math.max(Math.min(u+i,(null!==(l=p.h)&&void 0!==l?l:1)-o-v),v);this.cropChangeStartCoor={x:h,y:g},this.setState({cropArea:{h:o,w:s,x:t,y:a}})}else if("select"===c){let e=Math.max(Math.min(h,null!==(a=p.w)&&void 0!==a?a:1),0),i=Math.max(Math.min(g,null!==(r=p.h)&&void 0!==r?r:1),0),t=e-this.cropChangeStartCoor.x,n=i-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(n),w:Math.abs(t),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,i)}})}}),y(this,"handleOnMouseUp",()=>{let{cropChangeType:e}=this.state;("resize"===e||"move"===e||"select"===e)&&this.handleCrop(),this.cropResizeDirection=null})}componentDidMount(){let{body:e}=document,i=this._cropperOverlay.current;if(i&&e){if(i){let e=i.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}window.addEventListener("mouseup",this.handleOnMouseUp),e.addEventListener("mousemove",this.handleOnMouseMove),i.addEventListener("mousedown",this.handleOnMouseDown)}}componentWillUnmount(){let{body:e}=document,i=this._cropperOverlay.current;i&&e&&(window.removeEventListener("mouseup",this.handleOnMouseUp),e.removeEventListener("mousemove",this.handleOnMouseMove),i.removeEventListener("mousedown",this.handleOnMouseDown))}handleCrop(){var e,i,t,n,l,a,r,o;let{imageSize:s,onChange:d,viewParameter:u,logContextEvent:c}=this.props,{cropChangeType:p,cropArea:m}=this.state;if(0===m.w&&0===m.h)this.setState({cropChangeType:null}),d({origCrop:{h:(null!==(e=s.h)&&void 0!==e?e:1)-2*v,w:(null!==(i=s.w)&&void 0!==i?i:1)-2*v,x:v,y:v}});else{let e,i;this.setState({cropChangeType:null});let _=Math.max(Math.min(m.x,(null!==(t=s.w)&&void 0!==t?t:1)-48-v),v),h=Math.max(Math.min(m.y,(null!==(n=s.h)&&void 0!==n?n:1)-48-v),v);switch(e=m.h<48?48:h+m.h>(null!==(l=s.h)&&void 0!==l?l:1)-v?(null!==(r=s.h)&&void 0!==r?r:1)-h-v:m.h,i=m.w<48?48:_+m.w>(null!==(a=s.w)&&void 0!==a?a:1)-v?(null!==(o=s.w)&&void 0!==o?o:1)-_-v:m.w,p){case"move":c({event_type:7603,view_type:72,view_parameter:u});break;case"resize":c({event_type:7604,view_type:72,view_parameter:u})}d({origCrop:{h:e,w:i,x:_,y:h}})}}render(){let{children:e,previewCropArea:i,showPreviewArea:t}=this.props,{cropArea:{h:n,w:r,x:s,y:d},cropChangeType:u}=this.state;return(0,o.jsxs)(a.xu,{"data-test-id":"visual-search-cropper",ref:this._cropperOverlay,position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{cursor:"crosshair"}},children:[(0,o.jsx)(g.Z,{unsafeCSS:f}),(0,o.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,o.jsx)("defs",{children:(0,o.jsxs)("mask",{id:"Mask",children:[(0,o.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",rx:"0",ry:"0",fill:"#fff"}),(0,o.jsx)("rect",{x:s,y:d,width:r,height:n,id:"hole",rx:0,ry:0},`${s}${d}`),(0,o.jsx)(l.Z,{in:t&&!u,timeout:300,classNames:"preview-crop-area",mountOnEnter:!0,unmountOnExit:!0,children:(0,o.jsx)("rect",{x:i.x,y:i.y,width:i.w,height:i.h,id:"preview",rx:4,ry:4},`${i.x}${i.y}`)})]})}),(0,o.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",style:{fill:"rgba(0,0,0,0.5)"},mask:"url(#Mask)",className:"v2shadowMask"}),(0,o.jsx)("use",{href:"#hole",fill:"rgba(0,0,0,0)",stroke:"#fff",strokeWidth:"2",className:"v2cropSection",style:{cursor:"move"}}),"select"!==u&&(0,o.jsx)(h,{x:s,y:d,w:r,h:n})]}),e]})}}function b(e){let i=(0,r.Z)();return(0,o.jsx)(x,{logContextEvent:i,...e})}},389838:(e,i,t)=>{"use strict";t.d(i,{Z:()=>d});var n=t(667294),l=t(883119),a=t(536042),r=t(785893);function o(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class s extends n.Component{constructor(...e){super(...e),o(this,"state",{isHovering:!1}),o(this,"handleMouseEnter",e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)}),o(this,"handleMouseLeave",e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)})}render(){let{forwardedRef:e,icon:i,onClick:t,onMouseDown:n,onMouseUp:a,selected:o,style:s,text:d,x:u,y:c,zIndex:p,backdropDiameter:m=32,dotDiameter:_=16}=this.props,{isHovering:h}=this.state,g=h?m+4:m;return(0,r.jsx)("div",{"data-test-id":"flashlight-dot",onClick:t,onKeyPress:t,onMouseDown:n,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:a,ref:e,role:"button",style:{zIndex:p,position:"absolute",top:c-g/2,left:u-g/2,outline:"none"},tabIndex:"0","aria-label":this.props.i18n._('Search this item', 'flashlight.dot.a11ylabel', 'accessibility label for flashlight dot'),children:(0,r.jsxs)(l.xu,{"data-test-id":"flashlight-dot-style",alignItems:"center",borderStyle:"none",color:"default",display:"flex",height:_,justifyContent:"center",position:"absolute",padding:0,width:_,dangerouslySetInlineStyle:{__style:{boxShadow:o?"0 0 0 3px #e60023":"none",borderRadius:_,top:(g-_)/2,left:(g-_)/2,...s}},children:[!!d&&(0,r.jsx)(l.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:d}),i&&(0,r.jsx)(l.JO,{accessibilityLabel:this.props.i18n._('Tag anchor', 'accessibility label for an anchor for an object in a pin', 'accessibility label for an anchor for an object in a pin'),color:"error",icon:i,size:_/2,inline:!0})]})})}}let d=(0,n.forwardRef)((e,i)=>{let t=(0,a.ZP)();return(0,r.jsx)(s,{...e,forwardedRef:i,i18n:t})})},680644:(e,i,t)=>{"use strict";t.d(i,{Z:()=>w});var n,l,a=t(667294);t(167912);var r=t(616550),o=t(128681),s=t(563962),d=t(389838),u=t(272109),c=t(785893);function p({showAnimation:e,auxData:i,index:t,isStela:n,onClick:l,onHover:a,onUnhover:r,spotlightCenter:o,viewParameter:p,viewType:m}){let _=(0,s.Z)(),h=n?1221:1260;(0,u.Z)(()=>{_({event_type:120,element:h,aux_data:i,view_parameter:p,view_type:m})});let g=parseFloat((.1*(t+1)).toFixed(2)),y={animation:e?`spotlightDotPop 0.6s ease-out ${g}s both`:"none"};return(0,c.jsx)(d.Z,{x:o.x,y:o.y,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),_({aux_data:i,element:h,event_type:101,view_parameter:p,view_type:m}),l(t)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),a(t)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),r()},style:y})}var m=t(450600),_=t(874261),h=t(473183),g=t(525010);let y=`
@keyframes spotlightDotPop {
  0% {
    transform: scale(0);
  }

  100% {
    transform: scale(1);
  }
}`,v=void 0!==n?n:n=t(362400),f=e=>({entityId:e.id,visualObjects:e.visual_objects&&e.visual_objects.map(e=>({h:e.h,isStela:e.is_stela,w:e.w,x:e.x,y:e.y}))}),x=({showAnimation:e,pinKey:i,imageSignature:t,imageSize:n,currentSpotlightIdx:l,handleSpotlightClick:r,handleSpotlightHover:o,handleSpotlightUnhover:s,viewParameter:d,viewType:u})=>{var x;let{data:b,childDataKey__DEPRECATED:S}=(0,m.u)(v,i,{useLegacyAdapter:f}),P=(0,h.Z)(S),k=(null!==(x=b.visualObjects)&&void 0!==x?x:[]).filter(e=>e.isStela)||[];return(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)(_.Z,{unsafeCSS:y}),k.map((i,a)=>{var m,_;if(a===l)return null;let{x:h,y,w:v,h:f}=i,x=(0,g.Z)({cropArea:{x:h,y,w:v,h:f},scaledWidth:null!==(m=n.w)&&void 0!==m?m:0,scaledHeight:null!==(_=n.h)&&void 0!==_?_:0}),S={x:x.x+x.w/2,y:x.y+x.h/2},k={...P({override:{entrypoint:"flashlight"}}),pin_id:b.entityId,image_signature:t,visual_objects:JSON.stringify([{x:i.x,y:i.y,w:i.w,h:i.h}])},w=`${S.x}${S.y}`;return(0,c.jsx)(p,{showAnimation:e,auxData:k,index:a,isStela:!!i.isStela,onClick:r,onHover:o,onUnhover:s,spotlightCenter:S,viewParameter:d,viewType:u},w)})]})};var b=t(351116),S=t(732719);let P=void 0!==l?l:l=t(222969),k=e=>({entityId:e.id,visualObjects:e.visual_objects&&e.visual_objects.map(e=>({h:e.h,isStela:e.is_stela,title:e.title,w:e.w,x:e.x,y:e.y}))});function w({customCropper:e,imageSize:i,imageSignature:t,initialCropArea:n,pinKey:l,showAnimation:s,trafficSource:d,viewParameter:u,viewType:p}){let{data:_}=(0,m.u)(P,l,{useLegacyAdapter:k}),h=(0,r.useHistory)(),[y,v]=(0,a.useState)(!1),[f,w]=(0,a.useState)({w:0,h:0,x:0,y:0}),[I,T]=(0,a.useState)(0),j=(0,a.useMemo)(()=>{var e;return(null!==(e=_.visualObjects)&&void 0!==e?e:[]).filter(e=>e.isStela)||[]},[_.visualObjects]);(0,a.useEffect)(()=>{let e=j.findIndex(e=>{var t,l;let{x:a,y:r,w:o,h:s}=e;return function(e,i,t){let n=Object.keys(e).reduce((t,n)=>t+Math.abs(e[n]-i[n]),0);return n<=4}(n,(0,g.Z)({cropArea:{x:a,y:r,w:o,h:s},scaledWidth:null!==(t=i.w)&&void 0!==t?t:0,scaledHeight:null!==(l=i.h)&&void 0!==l?l:0}),0)});T(e)},[i,n,j]);let A=({origCrop:e,cropSource:i,trafficSource:t,title:n})=>{let{entityId:l}=_,a=window.location.pathname+window.location.search,r=(0,S.Z)({cropArea:e,cropSource:null!=i?i:6,isProductPage:!1,pinId:l,title:n,trafficSource:t,variant:"flashlight"});r!==a&&(h.replace(r),h.replace({pathname:`/pin/${l}/visual-search/`,search:(0,b.Z)({cropArea:e,cropSource:null!=i?i:6,title:n,trafficSource:t}),state:{internalNavigation:!0}}))},E=j&&!!j.length;return(0,c.jsx)(o.Z,{imageSize:i,initialCropArea:n,onChange:null!=e?e:A,previewCropArea:f,showPreviewArea:!1,viewParameter:u,children:E&&(0,c.jsx)(x,{handleSpotlightClick:t=>{var n,l;let a=j[t],{x:r,y:o,w:s,h:u}=a,c=(0,g.Z)({cropArea:{x:r,y:o,w:s,h:u},scaledWidth:null!==(n=i.w)&&void 0!==n?n:0,scaledHeight:null!==(l=i.h)&&void 0!==l?l:0}),p={origCrop:c,cropSource:a.isStela?4:1,trafficSource:d,title:a.title||""};e?e(p):A(p)},handleSpotlightHover:e=>{if(e!==I){var t,n;v(!0);let{x:l,y:a,w:r,h:o}=j[e];w((0,g.Z)({cropArea:{x:l,y:a,w:r,h:o},scaledWidth:null!==(t=i.w)&&void 0!==t?t:0,scaledHeight:null!==(n=i.h)&&void 0!==n?n:0}))}},handleSpotlightUnhover:()=>{v(!1)},imageSignature:t,imageSize:i,currentSpotlightIdx:I,pinKey:_,showAnimation:s,viewParameter:u,viewType:p})},JSON.stringify(n))}},310561:(e,i,t)=>{"use strict";t.d(i,{Hv:()=>s,aX:()=>c,nK:()=>p});var n=t(667294),l=t(616550),a=t(583592),r=t(785893);let{Provider:o,useHook:s}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,i){var t;let n={action:i.type,location:i.location,match:i.match};if(i.location===(null===(t=e.current)||void 0===t?void 0:t.location))return e;switch(i.type){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(n.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:i.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:i.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function c(){let{current:e,previous:i}=s(),t=(0,n.useMemo)(()=>e?i.concat(e):i,[e,i]);return t}function p({children:e}){let i=(0,l.useHistory)(),t=(0,l.useLocation)(),a=(0,l.useRouteMatch)(),s={forward:[],current:{action:i.action,location:t,match:a},previous:[]},[d,c]=(0,n.useReducer)(u,s);return(0,n.useEffect)(()=>{let{action:e}=i;c({type:e,location:t,match:a})},[t]),(0,r.jsx)(o,{value:d,children:e})}},869805:(e,i,t)=>{"use strict";t.d(i,{ZP:()=>g,vR:()=>_});var n=t(40660),l=t(457628),a=t(791045),r=t(469093),o=t(98736),s=t(782219);let d={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},u=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],c=/www\.pinterest\.[A-Za-z]{2}/,p=/[A-Za-z]{2}\.pinterest\.com/,m=()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}},_=e=>{let{userAgent:i}=e;if(!i.isMobile&&!i.isTablet)return"desktop";switch(i.platform){case s.RL:return"iphone";case s.GW:return i.isTablet?"android_tablet":"android";case s.s4:return"ipad";default:return"mobile_other"}},h=({moduleName:e,pageType:i,requestContext:t})=>{var s;let h;let g=_(t),y=t.isAuthenticated?"auth":"unauth",v=m(),f=(0,r.Z)(),x=(h=!1,l.U2(a.VL)||(l.t8(a.VL,"1",(0,l.kZ)(a.VL)),h=!0),h),b=document.domain||"unknown";x&&((0,o.My)(`traffic.${g}.${f}.${e}.${y}`),(0,o.My)(`traffic_subdomain.${b}.${f}.${e}.${y}`),(0,o.My)(`traffic_subdomain.${b}.${g}.${f}.${e}.${y}`),(0,o.My)(`traffic_subdomain.${b}.${g}.${y}`),(0,o.My)(`traffic_duplo.${g}.${f}.${e}.${y}`),v&&(0,o.My)(`traffic_bot.${v}.${e}`));let S={domain:function(e){let i=u.indexOf(e)>-1||c.test(e)||p.test(e);if(i)return e;for(let i in d)if(Object.prototype.hasOwnProperty.call(d,i)&&e.indexOf(i)>-1)return d[i];return"other"}(b),referrer:null!=f?f:"unknown",platform:null!=g?g:"unknown",browser:null!==(s=t.userAgent.browserName)&&void 0!==s?s:"unknown",bot_type:null!=v?v:"none",page_type:null!=i?i:"unknown",is_auth:null!=y?y:"unknown",module:null!=e?e:"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(null!=e?e:"unknown"),first_visit:null!=x?x:"unknown"};n.Z.increment("webapp.traffic",.1,S),("google"===f||"other"===f)&&n.Z.increment(`webapp.traffic.${g}.${f}`,.1,S)};function g({pageType:e,requestContext:i,route:t}){h({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[t]||"other",pageType:e,requestContext:i})}},633917:(e,i,t)=>{"use strict";t.d(i,{N:()=>r,Z:()=>a});var n=t(883119),l=t(785893);function a({children:e,fullWidth:i}){return(0,l.jsx)(n.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:i?"100%":void 0}},children:e})}function r({children:e,enabled:i}){return i?(0,l.jsx)(a,{children:e}):e}},477288:(e,i,t)=>{"use strict";t.d(i,{I6:()=>l,Nv:()=>n,RZ:()=>a,ZG:()=>s,b9:()=>o,s0:()=>r});let n=44,l=24,a=446,r=.05,o=36,s=20},159177:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>S});var n,l=t(167912),a=t(240684),r=t(883119),o=t(448709),s=t(833122),d=t(271465),u=t(785893);let c=(0,a.ZP)({resolved:{},chunkName:()=>"HeaderModule",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>Promise.all([t.e(97270),t.e(5938)]).then(t.bind(t,583798)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){let i=this.resolve(e);return t(i)},resolve:()=>583798}),p=(0,a.ZP)({resolved:{},chunkName:()=>"CarouselModule",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>Promise.all([t.e(97270),t.e(45640),t.e(73971)]).then(t.bind(t,45640)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){let i=this.resolve(e);return t(i)},resolve:()=>45640}),m=(0,a.ZP)({resolved:{},chunkName:()=>"FooterModule",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>t.e(66208).then(t.bind(t,478860)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){let i=this.resolve(e);return t(i)},resolve:()=>478860}),_=(0,a.ZP)({resolved:{},chunkName:()=>"FreeformModule",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>Promise.all([t.e(97270),t.e(1327),t.e(29467)]).then(t.bind(t,163707)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){let i=this.resolve(e);return t(i)},resolve:()=>163707}),h=(0,a.ZP)({resolved:{},chunkName:()=>"GridSectionModule",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>Promise.all([t.e(97270),t.e(1327),t.e(99762)]).then(t.bind(t,994323)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){let i=this.resolve(e);return t(i)},resolve:()=>994323}),g=(0,a.ZP)({resolved:{},chunkName:()=>"HeroModule",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>Promise.all([t.e(97270),t.e(19966)]).then(t.bind(t,992861)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){let i=this.resolve(e);return t(i)},resolve:()=>992861}),y=(0,a.ZP)({resolved:{},chunkName:()=>"SingleImageUpsellModule",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>t.e(96098).then(t.bind(t,388527)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){let i=this.resolve(e);return t(i)},resolve:()=>388527}),v="UNKNOWN_CONTAINER_TYPE",f=void 0!==n?n:n=t(359433);function x(e){var i,t;let{componentFallback:n,initialSlotIndex:l,view:a,viewParameter:o,width:f,story:{data:{action:x,containerType:b,contentIds:S,displayOptions:P,storyId:k,storyType:w,trackingParams:I},forward:{dataKeys:T,rawStoryData:j,storyGraphqlRef:A}}}=e,E=null!==(i=null==P?void 0:null===(t=P.contentDisplay)||void 0===t?void 0:t.componentType)&&void 0!==i?i:n,C=(0,s.Z)({clientTrackingParams:I,componentType:E,contextLogData:{story_id:k,story_type:w,content_ids:S},impressionType:"Story",loggingId:k,slotIndex:l||0,viewParameter:o,viewType:a}),F={...e,component:E},R=(()=>{switch(b){case 90:return(0,u.jsx)(p,{...F,story:j,storyGraphqlRef:A});case 88:let{story:e,...i}=F,t={...i,storyKey:T.HeaderModule_story};return(0,u.jsx)(c,{...t});case 89:let{location:n,text:l,url:a}=x||{};return(0,u.jsx)(m,{url:a,location:n,text:l});case 91:return!!j&&(0,u.jsx)(h,{...F,story:j});case 101:return!!j&&(0,u.jsx)(g,{...F,story:j});case 92:return!!j&&(0,u.jsx)(y,{...F,story:j});case 131:return!!j&&(0,u.jsx)(_,{...F,story:j});default:return v}})();return R===v?null:(0,u.jsxs)(r.xu,{ref:C,width:(0,d.Z)(b)?void 0:f,children:[R,(0,u.jsx)(r.xu,{})]})}let b=(0,o.Z)({useGraphQLAdapter:e=>{let i=(0,l.useFragment)(f,e);return{data:i,forward:{rawStoryData:null,storyGraphqlRef:i,dataKeys:{HeaderModule_story:{type:"graphqlRef",data:i}}}}},useLegacyAdapter:e=>{var i;return e&&{data:{action:e.action&&{location:e.action.location,text:e.action.text,url:e.action.url},containerType:"number"==typeof e.container_type?e.container_type:void 0,contentIds:e.content_ids,displayOptions:e.display_options&&{contentDisplay:e.display_options.content_display&&{componentType:e.display_options.content_display.component_type}},storyId:null!==(i=e.id)&&void 0!==i?i:"",storyType:e.story_type,trackingParams:e.tracking_params},forward:{rawStoryData:e,storyGraphqlRef:null,dataKeys:{HeaderModule_story:{type:"deprecated",data:e}}}}}});function S({storyGraphqlRef:e,...i}){return(0,u.jsx)(b,{input:e?{enabled:!0,data:e}:{enabled:!1,data:i.story},children:({data:e})=>e&&(0,u.jsx)(x,{...i,story:e})})}},271465:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});let n=new Set([101]);function l(e){return n.has(e)}},882973:(e,i,t)=>{"use strict";t.d(i,{Pw:()=>n,SB:()=>l,ZP:()=>r,x9:()=>a});let n=80,l=56,a=e=>"phone"===e?l:n;function r(e,i){return i?0:a(e)}},793085:(e,i,t)=>{"use strict";t.d(i,{Z:()=>u});var n=t(667294),l=t(883119),a=t(563962),r=t(536042),o=t(262600),s=t(785893);let d={sm:12,md:16,lg:20,xl:24};function u({isVerifiedMerchant:e,size:i,showText:t,showVerifiedIdentity:u,inspirationalBadges:c,inspirationalBadgesColor:p}){let m=(0,r.ZP)(),[_,h]=(0,n.useState)(!1),{dangerousInlineStyle:g,iconColor:y}=(0,o.W)(!!e),v=(0,a.Z)();return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(l.iP,{onTap:()=>{v({component:13534,element:11717,event_type:102}),h(!0)},rounding:"circle",children:(0,s.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:g,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(l.JO,{accessibilityLabel:e?m._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):m._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:y,inline:!0,size:d[i]}),t&&!u&&(0,s.jsx)(l.xu,{marginStart:2,children:(0,s.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:g,children:m._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||t&&!u)&&(0,s.jsx)(o.Z,{showModal:_,setShowModal:h,inspirationalBadges:c,inspirationalBadgesColor:p})]})}},262600:(e,i,t)=>{"use strict";t.d(i,{W:()=>c,Z:()=>p});var n=t(667294),l=t(883119),a=t(770130),r=t(563962),o=t(88622),s=t(536042),d=t(837792),u=t(785893);let c=e=>{let i=e?"shopping":"error";return{iconColor:i,dangerousInlineStyle:{__style:{color:i}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:i,showModal:t,setShowModal:p}){let m=(0,s.ZP)(),[_,h]=(0,n.useState)(!0),{dangerousInlineStyle:g,iconColor:y}=c(!0),v=(0,r.Z)();return(0,n.useEffect)(()=>{t&&_&&(h(!1),v({event_type:13,component:13534}))},[t]),(0,u.jsx)(o.ZP,{accessibilityModalLabel:m._('Verified merchant information', 'creator.verifiedMerchant.accessibilityModalLabel', 'Accessibility label for modal informing about a verified merchant'),isOpen:t,mobileAccessibilityCloseIconLabel:m._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{v({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,u.jsx)(l.xu,{padding:3,children:(0,u.jsxs)(l.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,u.jsx)(l.xu,{display:"flex",dangerouslySetInlineStyle:g,justifyContent:"center",children:(0,u.jsx)(l.JO,{accessibilityLabel:m._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:y,icon:"workflow-status-ok",size:24})}),(0,u.jsx)(l.xu,{marginTop:4,children:(0,u.jsx)(l.xv,{color:"shopping",weight:"bold",align:"center",children:(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:g,children:m._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,u.jsx)(l.xu,{marginTop:4,marginBottom:4,children:(0,u.jsx)(l.xv,{align:"center",overflow:"normal",children:m._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map(e=>(0,u.jsxs)(l.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,u.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",children:(0,u.jsx)(l.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,u.jsx)(l.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,a.ym)(i)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,u.jsx)(l.xu,{marginTop:2,children:(0,u.jsx)(l.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id)),(0,u.jsx)(l.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,u.jsx)(l.ZP,{accessibilityLabel:m._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:d.vBy,text:m._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},387977:(e,i,t)=>{"use strict";function n(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}t.d(i,{Z:()=>n})},798198:(e,i,t)=>{"use strict";t.d(i,{CC:()=>l,Ll:()=>r,XF:()=>a});let n=(e,i,t)=>({x:Math.floor(e*Math.cos(t)),y:Math.floor(i*Math.sin(t))}),l=(e,i)=>n(i/2,e/2,2*Math.random()*Math.PI),a=(e,i)=>Math.floor(Math.random()*(i-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map(i=>e.map(e=>i+" "+e).join("\n")).join("\n")},468e3:(e,i,t)=>{"use strict";function n(e){return[0,24,21,26].includes(e)}function l({articleType:e,id:i,title:t}){let n=t.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${i}/`:`/discover/article/${n}/${i}/`}t.d(i,{x:()=>l,y:()=>n})},55350:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(219224),l=t(906466);function a({action:e,board:i,viewer:t}){var a,r;return(0,n.Z)(t,null===(a=i.owner)||void 0===a?void 0:a.id)||(0,l.Z)(i.collaborated_by_me,t)&&!!(null!==(r=i.collaborator_permissions)&&void 0!==r&&r.includes(e))}},219224:(e,i,t)=>{"use strict";function n(e,i){return e.isAuth&&i===e.id}t.d(i,{Z:()=>n})},906466:(e,i,t)=>{"use strict";function n(e,i){return!!(i.isAuth&&e)}t.d(i,{Z:()=>n})},309926:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(219224),l=t(906466);function a(e,i,t){return(0,n.Z)(t,i)||(0,l.Z)(e,t)}},969327:(e,i,t)=>{"use strict";t.d(i,{G6:()=>a,i7:()=>r,oi:()=>n,u$:()=>l,un:()=>s,vU:()=>o});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),l=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function a(e){return l(e)===n.SAFARI}function r(e){return l(e)===n.CHROME}function o(e){return l(e)===n.FIREFOX}function s(e){return l(e)===n.EDGE}},865173:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l,v:()=>n});let n=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function l(){if(!n())return[];try{let e=await navigator.getInstalledRelatedApps();return e}catch(e){return[]}}},463310:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(965533),l=t(98736),a=t(799665);let r=(e,i)=>{null!=i&&i.disableOriginCheck||(0,a.Z)(e)||(e="/",(0,l.My)("url_reset")),(0,n.Z)(e)}},603801:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s});var n=t(667294);function l(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function a(){return window.innerWidth}function r(){return window.innerHeight}function o(){return null}function s(){let e=(0,n.useSyncExternalStore)(l,r,o),i=(0,n.useSyncExternalStore)(l,a,o);return null!==e&&null!==i?{height:e,width:i}:null}},519677:(e,i,t)=>{"use strict";t.d(i,{Z:()=>n});let n={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},980124:(e,i,t)=>{"use strict";function n(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}t.d(i,{Z:()=>a});class l{static reportGoogleConversion(e,i,t,n){if(!n){if(void 0===window.gtag_report_conversion){l.queuedGoogleConversions.push({id:e,label:i,url:t});return}window.gtag_report_conversion(e,i,t)}}static reportFacebookConversion(e,i,t){if(void 0===window.fbq){l.queuedFacebookConversions.push({id:e,event:i,data:t});return}t?window.fbq("track",i,t):window.fbq("track",i)}static reportCustomFacebookConversion(e,i,t){if(void 0===window.fbq){l.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:i,data:t});return}t?window.fbq("trackCustom",i,t):window.fbq("trackCustom",i)}static reportPinterestConversion(e,i,t){if(void 0===window.pintrk){l.queuedPinterestConversions.push({id:e,event:i,data:t});return}t?window.pintrk("track",i,t):window.pintrk("track",i)}static reportTheTradeDeskConversion(e,i){let t=document.createElement("img");t.setAttribute("height","1"),t.setAttribute("width","1"),t.setAttribute("role","presentation"),t.style.borderStyle="none",t.style.position="absolute",t.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${i}&fmt=3`),document.body.insertBefore(t,document.body.lastChild)}static reportLinkedInConversion(e,i){let t=document.createElement("img");t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("role","presentation"),t.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${i}&fmt=gif`),t.style.display="none",document.body.insertBefore(t,document.body.lastChild)}static reportDoubleClickConversion(e,i,t){let n=document.createElement("iframe");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("frameborder","0"),n.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};
    type=${i};cat=${t};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${1e13*Math.random()}?`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static insertGoogleAdWordsTag(e,i){let t=document.createElement("script");i||(t.setAttribute("async",""),t.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,i,t){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,i,t){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+i,event_callback:function(){void 0!==t&&window.location.assign(t)}}),!1};let t=l.queuedGoogleConversions;for(let n=0;n<t.length;n+=1){let a=t[n];a.id===e&&l.reportGoogleConversion(a.id,a.label,a.url,i)}}),document.body.insertBefore(t,document.body.firstChild)}static insertFacebookPixelTag(e){var i,t,n,a,r,o;i=window,t=document,n="script",i.fbq||(a=i.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},i._fbq||(i._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(r=t.createElement(n)).async=!0,r.src="//connect.facebook.net/en_US/fbevents.js",(o=t.getElementsByTagName(n)[0]).parentNode.insertBefore(r,o)),window.fbq("init",e),window.fbq("track","PageView");let s=l.queuedFacebookConversions;for(let i=0;i<s.length;i+=1){let t=s[i];t.id===e&&(t.isCustomEvent?l.reportCustomFacebookConversion(e,t.event,t.data):l.reportFacebookConversion(e,t.event,t.data))}}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};let i=window.pintrk;i.queue=[],i.version="3.0";let t=document.createElement("script");t.async=!0,t.src=e;let n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");let i=l.queuedPinterestConversions;for(let t=0;t<i.length;t+=1){let n=i[t];n.id===e&&l.reportPinterestConversion(e,n.event,n.data)}}}n(l,"queuedGoogleConversions",[]),n(l,"queuedFacebookConversions",[]),n(l,"queuedPinterestConversions",[]);let a=l},770130:(e,i,t)=>{"use strict";t.d(i,{Bu:()=>_,Dm:()=>o,I:()=>y,NG:()=>p,QP:()=>u,S4:()=>d,Xe:()=>c,_f:()=>m,eT:()=>h,hm:()=>g,yQ:()=>s,ym:()=>v});var n=t(9507);let l=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),a=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),o=[...Object.keys(l).map(e=>l[e]),...Object.keys(a).map(e=>a[e])],s=[...Object.keys(r).map(e=>r[e])],d=3,u=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],c={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:u[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",m="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function _({verifiedMerchant:e}){var i,t;let n=null==e?void 0:e.isVerifiedMerchant,l=null==e?void 0:null===(i=e.inspirational_signal)||void 0===i?void 0:i.is_inspirational,a=null==e?void 0:null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_eligible_for_storefront_badges;return!!(n&&l&&a)}function h(e){return e.badge_details?e.badge_details.map(e=>e.id):[]}function g(e){return(null==e?void 0:e.profile_badges)||[]}function y(e,i,t){return i&&t?i.map(e=>t.find(i=>i.id===e.trim())).filter(Boolean):[]}function v(e){let i=e||u[0];return{backgroundColor:i,color:function(e){let i=(0,n.oo)(e);if(!i)return"white";let[t,l,a]=i,r=(0,n.DW)(t,l,a);return r<=n.I?"white":"black"}(i)}}},38823:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});let n=["236x","474x","564x","736x"];function l(e,i,t,l,a){let r=[...e?[{images:e}]:[],...(null!=i?i:[]).map(({canonical_images:e,image_signature:i})=>({images:e||void 0,image_signature:i||void 0}))];return{carousel_slots:l?function(e){function i(e,{imageKey:i,height:t,width:n}){return e.images&&e.images[i]&&(e={...e,images:{...e.images,[i]:{...e.images[i],height:t,width:n}}}),e}let t=n.map(function(i){let t=Math.min(...e.map(e=>e.images&&e.images[i]&&e.images[i].height||1/0)),n=Math.min(...e.map(e=>e.images&&e.images[i]&&e.images[i].width||1/0));return{imageKey:i,height:t,width:n}});return e.map(e=>t.reduce(i,e))}(r):r,index:t||0,id:a}}},222443:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(616550),l=t(946618),a=t(525104);function r(){let e=(0,a.S6)(),i=(0,n.useLocation)();return(t,n)=>{let a;let r=e(t);if(null!=n&&n.shouldTrackForPrevLocation){let e=(null==r?void 0:r.tracking_params_map)||{},i=Object.keys(e),t=i.find(e=>"PinResource"!==e);r&&(a=t?e[t]:e.PinResource)}else if(r){var o,s;a=(0,l.Z)({boardUrl:null===(o=r.board)||void 0===o?void 0:o.url,location:i,pinId:r.id,pinnerUserName:null===(s=r.pinner)||void 0===s?void 0:s.username,storyPinDataId:r.story_pin_data_id,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map})}return a}}},9507:(e,i,t)=>{"use strict";t.d(i,{DW:()=>a,I:()=>l,oo:()=>n,zI:()=>r});let n=e=>{let i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i&&[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]},l=.18,a=(e,i,t)=>.2126*(e/255)**2.2+.7151*(i/255)**2.2+.0721*(t/255)**2.2,r=e=>{let i=e.replace("#",""),t=parseInt(i.substr(0,2),16),n=parseInt(i.substr(2,2),16),l=parseInt(i.substr(4,2),16);return(299*t+587*n+114*l)/1e3<155}},777610:(e,i,t)=>{"use strict";t.d(i,{Q:()=>d,Z:()=>u});var n=t(667294),l=t(682492),a=t.n(l),r=t(563962),o=t(788241),s=t(282802);function d(e,i){let{setViewContextData:t}=(0,o.sV)(),{requestIdentifier:l}=(0,s.B)(),d=(0,r.Z)(),{viewData:u}=(0,o.SU)();(0,n.useEffect)(()=>{if(e){var i;t({viewType:null!==(i=e.view_type)&&void 0!==i?i:1,viewParameter:e.view_parameter,viewData:e.view_data?a()(u,e.view_data):a()({},u),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:l})}},[i])}function u(e){let{children:i,log:t}=e;return d(t),i||null}},388011:(e,i,t)=>{"use strict";t.d(i,{B:()=>s,v:()=>o});var n=t(788241),l=t(583592),a=t(785893);let{Provider:r,useHook:o}=(0,l.Z)("ContextLogger");function s({children:e,value:i}){let{setViewContextData:t}=(0,n.sV)();return i.injectSetViewContextDataFromHook=t,(0,a.jsx)(r,{value:i,children:e})}},541842:(e,i,t)=>{"use strict";t.d(i,{Z:()=>n});let n=()=>1e6*Date.now()},788241:(e,i,t)=>{"use strict";let n;t.d(i,{BE:()=>d,Ih:()=>u,SU:()=>c,sV:()=>s});var l=t(667294),a=t(583592),r=t(785893);let{Provider:o,useHook:s}=(0,a.Z)("View");function d(){return n}function u({children:e,initialState:i={}}){let[t,a]=(0,l.useState)(i),s=(0,l.useCallback)(()=>{n={},a({})},[]),d=(0,l.useCallback)(e=>{n={...n,...e},a(i=>({...i,...e}))},[]),u=(0,l.useMemo)(()=>({viewContextData:t,clearViewContextData:s,setViewContextData:d}),[t,d,s]);return(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(o,{value:u,children:e})})}function c(){let{viewContextData:e}=s();return e}},583592:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(667294);function l(e,i){let t="consumer"===i?`${e}Consumer`:`use${e}`;return`
  ${t} must be used within a ${e}Provider.
  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.
  `}function a(e,i){let t=(0,n.createContext)(i),{messageDisplayName:a}=function(e,i){let t=e.slice(1);if(t=t.endsWith("Context")?t:`${t}Context`,i){let n=`with${e[0].toUpperCase()}${t}(${i})`;return{hocDisplayName:n}}let n=`${e[0].toLowerCase()}${t}`,l=`${e[0].toUpperCase()}${t}`;return{propsDisplayName:n,messageDisplayName:l}}(e);t.displayName=a;let{Provider:r}=t,o=({children:e})=>{let i=(0,n.useContext)(t);if(void 0===i)throw Error(l(a,"consumer"));return e(i)},s=()=>(0,n.useContext)(t);return r.displayName=`${a}Provider`,o.displayName=`${a}Consumer`,{Provider:r,Consumer:o,MaybeConsumer:({children:e})=>{let i=(0,n.useContext)(t);return e(i)},useMaybeHook:s,useHook:function(){let e=s();if(void 0===e)throw Error(l(a,"hook"));return e}}}},921270:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r,k:()=>n.k});var n=t(642447),l=t(282802),a=t(785893);let r=({dateFormatType:e,useUTC:i=!0,value:t})=>(0,a.jsx)(l.LC,{children:l=>(0,n.Z)(l.locale,t,e,i)})},642447:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a,k:()=>n});let n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit"},l=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};default:throw Error('invalid dateFormatType "'+e+'"')}};function a(e,i,t,n=!0){let a=l(t);n&&(a.timeZone="UTC");let r=new Intl.DateTimeFormat(e,a);return r.format(i)}},758360:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o});var n=t(667294),l=t(973935);function a(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class r extends n.Component{constructor(...e){super(...e),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,i)=>{this.props.onVisibilityChange(e,i)})}componentDidMount(){let e=l.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}let o=r},391670:(e,i,t)=>{"use strict";t.d(i,{Mi:()=>l,lO:()=>a});var n=t(583592);let{Provider:l,useMaybeHook:a}=(0,n.Z)("pageContext")},737311:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o});var n=t(667294),l=t(40660),a=t(391297);function r(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class o extends n.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,i){try{var t;let{name:i}=this.props,n=this.props.type||"secondary";(0,a.T)({extraData:null!==(t=e.extraData)&&void 0!==t?t:{},errorBoundary:i,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),l.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(e){l.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:i})}render(){let{renderErrorState:e}=this.props,{error:i,info:t}=this.state;return i&&t?e?e({error:i,info:t,resetError:this.resetError}):null:this.props.children}}},604094:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(737311);let l=n.Z},33476:(e,i,t)=>{"use strict";t.d(i,{Z:()=>c});var n=t(667294),l=t(702664),a=t(563962),r=t(527386),o=t(216702),s=t(785893);function d(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{hasCompleted:[],hasDismissed:[]}),d(this,"view",()=>{let{experience:e,isBackendExperience:i,targeting:t,viewExperience:n,viewExperienceObject:l}=this.props;e&&"viewed"!==e.status&&(i?(e.status="viewed",l(e)):t?n(e.placement_id,e.experience_id,t):n(e.placement_id,e.experience_id))}),d(this,"complete",e=>{let{completeExperience:i,completeExperienceObject:t,experience:n,isBackendExperience:l,preventRemoval:a,targeting:r}=this.props,o=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){let{placement_id:e,experience_id:s}=n||{},d=a||2===o;(1===o||d)&&e&&s&&(l?t(n,d):r?i(e,s,d,r):i(e,s,d),this.setState(e=>({hasCompleted:[...e.hasCompleted,s]})))}}),d(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:i,experience:t,isBackendExperience:n,preventRemoval:l,targeting:a}=this.props,{placement_id:r,experience_id:o}=t||{};t&&!this.state.hasDismissed.includes(o)&&(n?i(t):a?e(r,o,!!l,a):e(r,o,!!l),this.setState(e=>({hasDismissed:[...e.hasDismissed,o]})))}),d(this,"shouldRenderExperience",()=>{let{experience:e}=this.props;if(e){let{eligibleIds:i,eligibleTypes:t,predicate:n,transitionType:l}=this.props,{experience_id:a,type:r}=e;if(i&&i.includes(a)||!(null!=i&&i.length)&&(n&&n(e)||t&&t.includes(r)||l&&l===r))return!0}return!1})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let i=e.experience,t=this.props.experience;t&&this.shouldRenderExperience()&&(i&&i.experience_id===t.experience_id||this.view())}render(){let{children:e,experience:i,disableAutoView:t}=this.props;return i&&this.shouldRenderExperience()?"function"==typeof e?e({experience:i,complete:this.complete,dismiss:this.dismiss,...t?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}function c(e){let i=(0,l.useSelector)(({experiences:i})=>e.experience||(e.placementId?i[e.placementId]:void 0)),t=(0,l.useDispatch)(),n=(0,r.be)(),d=(0,r.Am)(),c=(0,r.Ig)(),p=(0,a.Z)();return(0,s.jsx)(u,{...e,experience:i,completeExperience:(e,i,l,a)=>t(n(e,i,l,!1,{},a)),completeExperienceObject:(e,i)=>t((0,o.Tl)(p)(e,i)),dismissExperience:(e,i,n,l)=>t(d(e,i,n,void 0,l)),dismissExperienceObject:e=>t((0,o.CF)(e)),viewExperience:(e,i,n)=>t(c(e,i,!1,!1,void 0,n)),viewExperienceObject:e=>t((0,o.dy)(p)(e))})}d(u,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},220590:(e,i,t)=>{"use strict";t.d(i,{F:()=>p,M:()=>c});var n=t(667294),l=t(702664),a=t(14890),r=t(583592),o=t(527386),s=t(256558),d=t(785893);let{Provider:u,useHook:c}=(0,r.Z)("ExperienceContext");function p({children:e}){let[i,t]=(0,n.useReducer)((e,i)=>{if("MOUNT_PLACEMENT"===i.type)return{...e,mountedPlacements:{...e.mountedPlacements,[i.payload]:!0}};if("UNMOUNT_PLACEMENT"===i.type){let t={...e};return delete t.mountedPlacements[i.payload],delete t.registerdAfterActionPlacements[i.payload],t}return"REGISTER_AFTER_ACTION_PLACEMENT"===i.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[i.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:r,registerdAfterActionPlacements:c}=i,p=(0,l.useDispatch)(),m=(0,l.useSelector)(e=>e.experiences),_=(0,o.be)(),h=(0,o.Am)(),g=(0,o.Ig)(),y=(0,n.useMemo)(()=>{let e=(0,a.bindActionCreators)({completeExperience:_,dismissExperience:h,fetchAllExperiences:o.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:o.pz,mountPlacement:o.N,triggerExperimentsForPlacement:o.kd,viewExperience:g},p);return{...e,mountPlacement:(i,...n)=>{e.mountPlacement(i,...n),t({type:"MOUNT_PLACEMENT",payload:i})},unmountPlacement:e=>{t({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{t({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[_,h,p,t,g]),v=(0,n.useMemo)(()=>({experiences:m,mountedPlacements:r,registerdAfterActionPlacements:c,...y}),[m,r,c,y]);return(0,d.jsx)(u,{value:v,children:e})}},297776:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>c});var n=t(667294),l=t(883119),a=t(33476),r=t(785893);function o(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class s extends n.PureComponent{constructor(...e){super(...e),o(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),o(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:i,thumbnails:t,idealDirection:n}=this.props,a=t.slice(-3);return(0,r.jsx)(l.J2,{anchor:e,color:"white",idealDirection:n,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,r.jsxs)(l.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,r.jsx)(l.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,r.jsx)(l.xv,{color:"default",weight:"bold",children:i})}),(0,r.jsx)(l.xu,{display:"flex",marginEnd:-2,paddingX:2,children:a.map(e=>(0,r.jsx)(l.xu,{height:60,width:50,paddingX:1,children:(0,r.jsx)(l.zd,{rounding:2,height:60,children:(0,r.jsx)(l.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var d=t(133149);function u(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class c extends n.Component{constructor(...e){super(...e),u(this,"dismissRef",(0,n.createRef)()),u(this,"state",{paused:!1}),u(this,"dismissCb",()=>{var e,i;null===(e=(i=this.dismissRef).current)||void 0===e||e.call(i)}),u(this,"handlePulsarClick",(e,i)=>{e?this.setState({paused:!0}):i()})}componentWillUnmount(){let{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,i,t){return(i&&e.text.replace("{boardName}",i),t)?t(e):e.text}render(){let{anchor:e,customWrapper:i,experienceIds:t,boardTextOverride:o,flyoutSize:u,fontSize:c,hasFullWidthButton:p=!0,idealDirection:m,useMasonryFlyout:_,noClickToDismiss:h,onClickComplete:g,onClickDismiss:y,placementId:v,positionRelativeToAnchor:f,shouldTimeoutDismiss:x,showCaret:b,textAlign:S,textOverflow:P,textOverrideFn:k,textWeight:w,customizedComplete:I,pulsarZIndex:T,advertiserId:j,dismissButtonLocation:A,dismissButtonColor:E,dismissButtonMarginTop:C}=this.props,F=i||(({children:e})=>_?(0,r.jsx)(l.mh,{children:e}):e);return(0,r.jsx)(a.Z,{eligibleIds:t,placementId:v,eligibleTypes:[8],targeting:j?{advertiserId:parseInt(j,10)}:null,children:({complete:i,dismiss:t,experience:a})=>{let{display_data:{scroll_to_dismiss:v,scroll_to_dismiss_delay_in_seconds:j=0,...R}}=a,L=v&&e,D=()=>{O(),setTimeout(t,1e3*j)},O=()=>{L&&(window.removeEventListener("scroll",D),window.removeEventListener("touchmove",D))},N=()=>{O(),i()};if(L&&(window.addEventListener("scroll",D),window.addEventListener("touchmove",D)),this.setDefaultPulsarTooltip(R),!R.has_pulsar&&!R.has_tooltip)return N(),null;x&&R.disappearTime&&R.disappearTime>0&&(this.timer=setTimeout(()=>(D(),null),R.disappearTime));let z=501041===a.experience_id||505086===a.experience_id;return R.has_tooltip&&!R.has_pulsar&&(this.dismissRef.current=D,null==e||e.addEventListener("click",this.dismissCb)),(0,r.jsxs)(n.Fragment,{children:[R.has_pulsar&&(0,r.jsx)(d.Z,{anchor:e,leftOverride:z?342:void 0,onTouch:()=>this.handlePulsarClick(R.has_tooltip,N),paused:this.state.paused,topOverride:z?-5:void 0,zIndex:T&&T.index()}),R.has_tooltip&&(!R.has_pulsar||this.state.paused)&&(R.thumbnail_urls?(0,r.jsx)(s,{anchor:e,dismiss:D,idealDirection:m||"down",text:R.text,thumbnails:R.thumbnail_urls}):(0,r.jsx)(F,{children:(0,r.jsx)(l.J2,{anchor:e,color:"deprecatedBlue",idealDirection:m||"down",onDismiss:h?()=>{}:D,positionRelativeToAnchor:!_&&f,shouldFocus:!1,_deprecatedShowCaret:b,size:u,children:(0,r.jsxs)(l.xu,{column:12,padding:3,children:[(0,r.jsxs)(l.xv,{align:"right"===S?"end":S,color:"inverse",overflow:P,size:c,weight:w||"bold",children:[this.getText(R,o,k),R.secondary_cta_link&&(0,r.jsx)(l.xu,{display:"inlineBlock",marginStart:1,children:(0,r.jsx)(l.xv,{size:c,weight:"bold",color:"inverse",children:(0,r.jsx)(l.rU,{display:"inlineBlock",target:"blank",href:R.secondary_cta_link.url,underline:"hover",children:R.secondary_cta_link.text})})})]}),R.sub_text&&(0,r.jsx)(l.xu,{paddingY:2,children:(0,r.jsx)(l.xv,{color:"inverse",size:c,children:R.sub_text})}),(R.dismiss_button_text||R.complete_button_text)&&(0,r.jsxs)(l.xu,{display:"flex",alignItems:"center",justifyContent:A||"start",marginTop:C||2,children:[R.dismiss_button_text&&(0,r.jsx)(l.xu,{marginEnd:1,column:6,children:(0,r.jsx)(l.zx,{fullWidth:p,color:E||"blue",onClick:()=>{y&&y(),D()},size:"md",text:R.dismiss_button_text})}),R.complete_button_text&&(0,r.jsx)(l.xu,{column:R.dismiss_button_text?6:12,children:I?(0,r.jsx)(l.iP,{fullHeight:!0,onTap:()=>{N(),g&&g()},rounding:2,children:(0,r.jsx)(l.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,r.jsx)(l.xv,{color:"shopping",weight:"bold",children:R.complete_button_text})})}):(0,r.jsxs)(l.kC,{justifyContent:"center",children:[R.complete_button_cta_url&&(0,r.jsx)(l.ZP,{fullWidth:p,color:"white",href:R.complete_button_cta_url,size:"md",target:R.complete_button_cta_url?"blank":null,text:R.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),N(),g&&g()}}),!R.complete_button_cta_url&&(0,r.jsx)(l.zx,{fullWidth:p,color:"white",size:"md",text:R.complete_button_text,onClick:()=>{N(),g&&g()}})]})})]})]})})}))]})}})}}u(c,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},216702:(e,i,t)=>{"use strict";t.d(i,{CF:()=>o,Tl:()=>r,dy:()=>s});var n=t(690108),l=t(527386);let a=(e,i,t,a)=>(r,o)=>s=>{if(r&&r.id){let d=n.Z.create(e,{placed_experience_id:r.id,extra_context:{}});switch(i){case"dismissed":d.callDelete().then(()=>{s((0,l.fO)()),t&&a&&t({event_type:a,object_id_str:r.id.toString()})});break;case"completed":d.callUpdate().then(()=>{o||s((0,l.fO)()),t&&a&&t({event_type:a,object_id_str:r.id.toString()})});break;case"viewed":d.callUpdate().then(()=>{t&&a&&t({event_type:a,object_id_str:r.id.toString()})})}}},r=e=>a("UserExperienceCompletedResource","completed",e,6567),o=a("UserExperienceResource","dismissed"),s=e=>a("UserExperienceViewedResource","viewed",e,4503)},187815:(e,i,t)=>{"use strict";t.d(i,{HI:()=>r,f8:()=>s,hm:()=>o,sH:()=>a});var n=t(883119),l=t(785893);let a=({children:e})=>(0,l.jsx)(n.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),r=({children:e})=>(0,l.jsx)(n.xu,{padding:2,children:e}),o=({children:e})=>(0,l.jsx)(n.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),s=({children:e})=>(0,l.jsx)(n.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},105095:(e,i,t)=>{"use strict";t.d(i,{Ec:()=>d,IA:()=>g,LX:()=>u,Mf:()=>h,SF:()=>o,_e:()=>s,l0:()=>r,ml:()=>a,q4:()=>l,zn:()=>n});let n=e=>["feed_card_default","feed_card_video"].includes(e),l=2/3,a=2/3,r=1/3,o="36px",s="28px",d=.4,u=.65,c={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},m={1:"italics",0:"normal"},_={1:"bold",0:"normal"},h=({color:e,font_style:i,font_weight:t,horizontal_alignment:n,size:l},a)=>({color:e,fontStyle:m[null!=i?i:0],fontWeight:_[null!=t?t:1],horizontalAlignment:c[null!=n?n:0],fontSize:p[a][null!=l?l:0]+"px"}),g=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?u:d},133149:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s});var n=t(883119),l=t(667294),a=t(785893);let r=(e,i,t,n)=>({horizontalOffset:-(n/2-i/2),verticalOffset:-(t/2-e/2)});function o({anchor:e,children:i,zIndex:t,leftOverride:o,topOverride:s}){let d=(0,l.useRef)(null),[u,c]=(0,l.useState)(0),[p,m]=(0,l.useState)(0),{height:_,width:h}=e.getBoundingClientRect();return(0,l.useEffect)(()=>{let{current:i}=d;if(e&&i){let{height:e,width:t}=i.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:l}=r(_,h,e,t);c(n),m(l)}}),(0,a.jsx)(n.xu,{position:"absolute",zIndex:t?new n.Ry(t):void 0,dangerouslySetInlineStyle:{__style:{left:o||u,top:s||p}},ref:d,children:i})}let s=function(e){let{anchor:i,leftOverride:t,onTouch:l,onMouseEnter:r,paused:s,size:d,topOverride:u,zIndex:c}=e;return i?(0,a.jsx)(o,{anchor:i,leftOverride:t,topOverride:u,zIndex:c,children:(0,a.jsx)(n.iP,{fullWidth:!1,onTap:({event:e})=>l(e),onMouseEnter:r,rounding:"circle",children:(0,a.jsx)(n.o3,{paused:s,size:d})})}):null}},765456:(e,i,t)=>{"use strict";t.d(i,{_:()=>d,a:()=>u});var n=t(667294),l=t(702664),a=t(618446),r=t.n(a),o=t(527386),s=t(282802);let d=({extraContext:e,id:i,shouldUsePlacedExperience:t=!0})=>{let a=(0,n.useRef)(),d=(0,l.useDispatch)(),{isBot:u}=(0,s.B)(),c=(0,l.useSelector)(e=>e.experiences[i]);return(0,n.useEffect)(()=>{d((0,o.kd)(i))},[d,c,i]),(0,n.useEffect)(()=>{t||r()(a.current,e)||(d((0,o.pz)([i],u,e)),a.current=e)},[d,e,u,i,t]),c},u=e=>(d(e),(0,l.useSelector)(i=>i.experiencesMulti[e.id]))},624799:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o});var n=t(667294);t(527386);var l=t(220590),a=t(703688);t(256558);var r=t(282802);function o(e){let{mountedPlacements:i,completeExperience:t,dismissExperience:o,experiences:s,fetchAllExperiences:d,fetchAllExperiencesMulti:u,fetchExperienceForPlacements:c,triggerExperimentsForPlacement:p,viewExperience:m}=(0,l.M)(),{isBot:_}=(0,r.B)(),h=e&&!_?(0,a.MQ)(s,i,e):null;return(0,n.useMemo)(()=>({completeExperience:t,dismissExperience:o,experienceForPlacement:h,fetchAllExperiences:d,fetchAllExperiencesMulti:u,fetchExperienceForPlacements:c,triggerExperimentsForPlacement:p,viewExperience:m}),[t,o,h,d,u,c,p,m])}},917027:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>S});var n,l,a,r=t(667294),o=t(604094),s=t(365434),d=t(883119),u=t(388011),c=t(51992),p=t(24286),m=t(874261),_=t(245410),h=t(282802),g=t(935340),y=t(785893);class v extends r.Component{getGutters(){let{gutterWidth:e,paddingStyle:i}=this.props,t="simplified"===i,n=t?p.oX:e;return{gutterWidth:null!=n?n:p.ZZ,paddingBottom:t?16:6}}render(){let e;let{_batchPaints:i,columnWidth:t,experimentalTwoColItems:n,flexible:l,isGridCentered:a,isInitialRender:r,isRTL:o,items:s,layout:u,loadItems:_,logContextEvent:h,masonryRef:v,measurementStore:f,minCols:x,positionStore:b,renderItem:S,scrollContainerRef:P,serverRender:k,virtualBufferFactor:w,virtualize:I}=this.props,{gutterWidth:T,paddingBottom:j}=this.getGutters();return a&&r&&(e="gridCentered"),(0,y.jsxs)("div",{className:e,children:[k&&r&&(0,y.jsx)(m.Z,{unsafeCSS:l?function({isRTL:e,maxItemWidth:i=300,maxColumns:t=16,minColumns:n=2}){let l=`
.gridCentered {
  margin-left: auto;
  margin-right: auto;
  max-width: ${t*i}
}

.gridCentered .static {
  position: absolute !important;
  visibility: hidden !important;
}

@media (min-width: ${t*i}px) {
  .gridCentered .static:nth-child(-n+${t}) {
    position: static !important;
    visibility: visible !important;
    float: ${e?"right":"left"};
    display: block;
  }

  .gridCentered .static:nth-child(-n+${t}) {
    position: static !important;
    visibility: visible !important;
    float: ${e?"right":"left"};
    display: block;
  }

  .gridCentered .static {
    width: ${i}px !important;
  }
}
`;for(let a=n;a<t+1;a+=1){let t=a===n?0:(a-1)*i+1;l+=`
@media (min-width: ${t}px) and (max-width: ${a*i}px) {
  .gridCentered .static:nth-child(-n+${a}) {
    position: static !important;
    visibility: visible !important;
    float: ${e?"right":"left"};
    display: block;
  }

  .gridCentered .static {
    width: calc(100% / ${a}) !important;
  }
}
`}return l}({isRTL:o,maxItemWidth:(t||p.yF)+T,maxColumns:s.length||p.g5,minColumns:x||p.yc}):(0,c.Z)({isRTL:o,itemWidth:(t||p.yF)+T,maxColumns:s.length||p.g5,minColumns:x||p.yc})}),(0,y.jsx)(d.Rk,{columnWidth:(null!=t?t:p.yF)+T,gutterWidth:0,items:s,layout:l?k?"serverRenderedFlexible":"flexible":null!=u?u:"basic",loadItems:_,measurementStore:f,minCols:x,_twoColItems:n,_logTwoColWhitespace:e=>{(0,g.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:t,minCols:x}}),h({event_type:14705,component:14468,aux_data:{whitespace_px:e}})},ref:e=>{v&&(v.current=e)},renderItem:e=>(0,y.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:j,paddingLeft:T/2,paddingRight:T/2}},children:S(e)}),positionStore:b,scrollContainer:()=>(null==P?void 0:P.current)||window,virtualize:I,virtualBufferFactor:w,_batchPaints:i})]})}}function f(e){var i;let{isRTL:t}=(0,h.B)(),{logContextEvent:n}=(0,u.v)(),{checkExperiment:l}=(0,_.F)(),a=l("web_masonry_virtual_buffer_factor").group,o=null!==(i=({enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"})[a])&&void 0!==i?i:.7,s=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{s.current&&(s.current=!1)},[]),(0,y.jsx)(v,{...e,isInitialRender:s.current,isRTL:t,virtualBufferFactor:o,logContextEvent:n})}l="defaultProps",a={gutterWidth:p.ZZ,isGridCentered:!0,minCols:p.yc,paddingStyle:"simplified",virtualize:!0},(l="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(l,"string"))?n:String(n))in v?Object.defineProperty(v,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):v[l]=a;var x=t(282442);class b extends r.Component{constructor(...e){var i,t,n;super(...e),i="loadItems",t=()=>{let{isFetching:e,loadItems:i}=this.props;!e&&i&&i()},(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in this?Object.defineProperty(this,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[i]=t}render(){let{cacheKey:e,columnWidth:i,experimentalTwoColItems:t,flexible:n,gutterWidth:l,isGridCentered:a,items:r,layout:d,masonryRef:u,minCols:c,paddingStyle:p,renderItem:m,scrollContainerRef:_,serverRender:h,virtualize:g,_batchPaints:v}=this.props;return(0,y.jsx)(f,{columnWidth:i,experimentalTwoColItems:null!=t&&t,flexible:n,gutterWidth:l,isGridCentered:a,renderItem:e=>(0,y.jsx)(o.Z,{name:"MasonryPerfTimingItem",children:m(e)}),items:r,layout:d,loadItems:this.loadItems,masonryRef:u,measurementStore:(0,s.z)(e),minCols:c,paddingStyle:p,positionStore:(0,s.Y)(e),scrollContainerRef:_,serverRender:h,virtualize:g,_batchPaints:v})}}function S({cacheKey:e,columnWidth:i,experimentalTwoColItems:t,flexible:n,gutterWidth:l,isAtEnd:a,isFetching:r,isGridCentered:o=!0,renderItem:s,items:d,pinData:u,layout:c,loadItems:p,masonryRef:m,minCols:h,paddingStyle:g,scrollContainerRef:v,serverRender:f=!0,virtualize:S=!0,includeBackgroundImages:P,includeVideos:k}){let{checkExperiment:w}=(0,_.F)(),I=w("web_masonry_batched_paints").anyEnabled;return(0,y.jsx)(x.Z,{isAtEndOfFeed:a,pinData:u,itemCount:d.length,includeBackgroundImages:P,includeVideos:k,children:(0,y.jsx)(b,{cacheKey:e,columnWidth:i,experimentalTwoColItems:t,flexible:n,gutterWidth:l,isFetching:r,isGridCentered:o,items:d,layout:c,loadItems:p,masonryRef:m,minCols:h,paddingStyle:g,renderItem:s,scrollContainerRef:v,serverRender:f,virtualize:S,_batchPaints:I})})}},604541:(e,i,t)=>{"use strict";t.d(i,{Z:()=>h});var n=t(667294),l=t(616550),a=t(883119),r=t(604094),o=t(365434),s=t(24286),d=t(874261),u=t(988014),c=t(245410),p=t(282802),m=t(549201),_=t(785893);function h({cacheKey:e,columnWidth:i,gutterWidth:t,id:h,renderItem:g,items:y,layout:v,loadItems:f,masonryRef:x,minCols:b,scrollContainerRef:S,serverRender:P,resetPositions:k,virtualize:w=!0}){var I;let{isRTL:T}=(0,p.B)(),j=(0,m.ZP)(),A=(0,l.useLocation)(),E=(0,u.Q0)(A),C="desktop"!==j,F=E&&"desktop"===j?s.OS:y.length||s.g5,R=(0,n.useCallback)(()=>(null==S?void 0:S.current)||window,[S]),L=h?h.replace(/\s/g,"-"):void 0,D=(0,o.Y)(e),[O,N]=(0,n.useState)(!1);(0,n.useEffect)(()=>{k&&!O&&(null==D||D.reset(),N(!0))},[D,k,O]);let{checkExperiment:z}=(0,c.F)(),M=z("duplo_masonry_virtual_buffer_factor").group,K=null!==(I=({enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"})[M])&&void 0!==I?I:.7,Z=z("web_masonry_batched_paints").anyEnabled;return(0,_.jsxs)("div",{id:L,className:"gridCentered","data-test-id":"masonry-container",children:[P&&L&&(0,_.jsx)(d.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:function({flexible:e,gutterWidth:i,id:t,isRTL:n,itemWidth:l,maxColumns:a,minColumns:r}){let o=t.replace(/\:/g,"\\:"),s=l+i,d=Array.from({length:a+1-r},(e,i)=>i+r),u=d.map(t=>{let d=t===r?0:t*s,u=t===a?null:(t+1)*s-1,c=e?`
      #${o} .static {
        width: calc(100% / ${t}) !important;
      }
    `:`
      #${o} {
        width: ${t*s}px;
      }

      #${o} .static {
        padding: 0 ${i/2}px;
        width: ${l}px !important;
      }
    `;return`
      @media (min-width: ${d}px) ${u?`and (max-width: ${u}px)`:""} {
        #${o} .static:nth-child(-n+${t}) {
          position: static !important;
          visibility: visible !important;
          float: ${n?"right":"left"};
          display: block;
        }

        ${c}
      }
    `});return`
    .gridCentered {
      margin-left: auto;
      margin-right: auto;
    }

    .gridCentered .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${u.join("")}
  `}({flexible:C,gutterWidth:t||0,id:L,isRTL:T,itemWidth:i||s.yF,maxColumns:F,minColumns:b||s.yc})}),(0,_.jsx)(a.Rk,{columnWidth:i,renderItem:e=>(0,_.jsx)(r.Z,{name:"MobileGridItem",children:g(e)}),gutterWidth:t||1,layout:C?P?"serverRenderedFlexible":"flexible":null!=v?v:"basic",items:y,loadItems:f,measurementStore:(0,o.z)(e),minCols:b||s.yc,positionStore:D,ref:e=>{x&&(x.current=e)},scrollContainer:R,virtualize:w,virtualBufferFactor:K,_batchPaints:Z})]})}},365434:(e,i,t)=>{"use strict";function n(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}t.d(i,{Y:()=>s,z:()=>d}),t(883119);let l={};function a(e){let i=l[e];return i&&i.screenWidth===window.innerWidth||(l[e]={screenWidth:window.innerWidth}),l[e]}let r=e=>{let i=e.__id||e.id;return"string"==typeof i&&i||null};class o{constructor(){n(this,"idMap",new Map),n(this,"objMap",new Map)}get(e){let i=r(e);return i?this.idMap.get(i):this.objMap.get(e)}has(e){let i=r(e);return i?this.idMap.has(i):this.objMap.has(e)}set(e,i){let t=r(e);t?this.idMap.set(t,i):this.objMap.set(e,i)}reset(){this.idMap=new Map,this.objMap=new Map}}function s(e){if(null==e)return;let i=a(e);return i.positionCache||(i.positionCache=new o),i.positionCache}function d(e){if(null==e)return;let i=a(e);return i.measurementCache||(i.measurementCache=new o),i.measurementCache}},51992:(e,i,t)=>{"use strict";function n({isRTL:e,itemWidth:i=236,maxColumns:t=16,minColumns:n=2}){let l=`
.gridCentered {
  margin-left: auto;
  margin-right: auto;
}
.gridCentered .static {
  position: absolute;
  visibility: hidden;
}
`;for(let a=n;a<t+1;a+=1){let t=a===n?0:a*i;l+=`
@media (min-width: ${t}px) and (max-width: ${(a+1)*i-1}px) {
  .gridCentered {
    width: ${a*i}px;
  }
  .gridCentered .static:nth-child(-n+${a}) {
    position: static !important;
    visibility: visible !important;
    float: ${e?"right":"left"};
    display: block;
  }
}
`}return l}t.d(i,{Z:()=>n})},943072:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>d});var n=t(667294),l=t(883119),a=t(467105),r=t(906215),o=t(455788),s=t(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:t,allowClickAndDrag:d,allowMediaPlay:u,allowScroll:c,children:p,closeOnOutsideClick:m,footer:_,heading:h,onDismiss:g,role:y,size:v,subHeading:f}){return(0,n.useEffect)(()=>(r.Z.pause(),function(){r.Z.resume()}),[]),(0,s.jsx)(l.mh,{zIndex:a.b7,children:(0,s.jsx)(o.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:u,allowScroll:c,children:(0,s.jsx)(l.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:t,closeOnOutsideClick:m,heading:h,footer:_,onDismiss:()=>{r.Z.resume(),g()},role:y,size:v,subHeading:f,padding:"none",children:p})})})}},894121:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>y});var n=t(667294),l=t(883119),a=t(387977),r=t(467105),o=t(536042),s=t(906215),d=t(282802),u=t(455788),c=t(98736),p=t(549201),m=t(886365),_=t(785893);let h=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},g=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function y({accessibilityModalLabel:e,align:i="center",allowScroll:t=!1,children:y,closeOnOutsideClick:v=!0,footer:f,heading:x,mobileAccessibilityCloseIconLabel:b,mobileHideCloseIcon:S,mobileIsFullscreen:P,isOpen:k,mobileIsSlideUp:w,mobileIsFooter:I,onDismiss:T,zIndex:j,subHeading:A,type:E}){let C=(0,o.ZP)(),{isRTL:F}=(0,d.B)(),R=(0,n.useRef)(!1),[L,D]=(0,n.useState)(!1),{setAppFocusState:O}=(0,m.I)(),N=(0,p.ZP)();return((0,n.useEffect)(()=>{(0,c.My)(`mweb_unauth.mobile_modal.${E||"unknown_type"}.did_mount.is_open.${String(!!k)}`)},[k,E]),(0,n.useEffect)(()=>(R.current=(0,a.Z)(()=>{R.current&&D(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&R.current&&(window.cancelAnimationFrame(R.current),R.current=null)}),[]),(0,n.useEffect)(()=>(k?(s.Z.pause(),O(!1)):(s.Z.resume(),O(!0)),()=>{k&&(s.Z.resume(),O(!0))}),[O,k]),(0,n.useEffect)(()=>{let e=k&&!t;return e&&h(),()=>{e&&g()}},[k,t]),k)?(0,_.jsx)(u.Z,{children:(0,_.jsx)(l.mh,{children:(0,_.jsxs)(l.xu,{"aria-label":e,display:"inlineBlock",zIndex:j||r.ZM,position:"relative",role:"dialog",children:[(0,_.jsx)(l.iP,{accessibilityLabel:C._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{e.clientX&&e.clientY&&(0,c.tj)(`mweb_unauth.mobile_modal.wash_tap.${E||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),v&&T()},tapStyle:"none",children:(0,_.jsx)(l.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,_.jsxs)(l.xu,{position:"fixed",color:"default","data-test-id":"mobile-signup-mask",dangerouslySetInlineStyle:w?(0,r.Vf)({isFullscreen:P,isTablet:"tablet"===N,isShowing:L,isRelatedInterestsModal:"related_interests_modal"===E}):(0,r.JN)({variant:P?"fullscreen":"tablet"===N?"tablet":I?"footer":"signup"===E?"signup":void 0}),children:[(0,_.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[b&&!S?(0,_.jsx)(l.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,_.jsx)(l.hU,{accessibilityLabel:b,iconColor:"darkGray",icon:"cancel",onClick:T,padding:4,size:"sm"})}):null,x?(0,_.jsx)(l.kC.Item,{flex:"grow",children:(0,_.jsx)(l.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,_.jsxs)(l.xu,{"data-test-id":"mobile-modal-heading",dangerouslySetInlineStyle:{__style:b&&!S?{marginRight:F?-10:50,marginLeft:F?50:-10}:{}},children:[P?x:(0,_.jsx)(l.xv,{align:i,weight:"bold",size:"400",children:x}),A?(0,_.jsx)(l.xv,{align:i,children:A}):null]})})}):null]}),(0,_.jsxs)(l.xu,{overflow:"auto",children:[y,f]})]})]})})}):null}},448709:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(667294),l=t(497088),a=t(785893);function r({useGraphQLAdapter:e,useLegacyAdapter:i}){let t=({children:i,data:t})=>i({enabled:!0,data:e(t)}),r=({children:e,data:t})=>e({enabled:!1,data:i(t)});return function({children:e,input:i}){var o;let s=i.enabled?(0,a.jsx)(t,{data:i.data,children:e}):(0,a.jsx)(r,{data:i.data,children:e}),d=null!==(o=i.suspense)&&void 0!==o&&o.dangerouslyServerRender?n.Suspense:l.Z;return i.suspense?(0,a.jsx)(d,{fallback:i.suspense.fallback,children:s}):s}}},13596:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(734417),l=t(282802),a=t(785893);let r=({currency:e,maximumFractionDigits:i,minimumFractionDigits:t,shortform:r,shortformMaximumFractionDigits:o,formatStyle:s,uplimit:d,value:u})=>{let c=(0,n.Z)();return(0,a.jsx)(l.LC,{children:n=>c(n.locale||"en-US",u,{currency:e,maximum_fraction_digits:i,minimum_fraction_digits:t,shortform:r,shortform_maximum_fraction_digits:o,style:s,uplimit:d})})}},62152:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(736409),l=t(536042),a=t(630089);function r(){let e=(0,l.ZP)();return function(i,t){let l=new Date(i),r=new Date,o=r-l,s=Math.floor(o/n.FS),d=Math.floor(o/n.UK),u=Math.floor(o/n.F4),c=Math.floor(o/n.VL),p=Math.floor(o/n.N1),m=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', s, ' - ', ' -- '),_=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', d, ' - ', ' -- '),h=e.ngettext('{{ days }} day ago', '{{ days }} days ago', u, ' - ', ' -- '),g=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),y=e.ngettext('{{ years }} year ago', '{{ years }} years ago', p, ' - ', ' -- '),v=e.ngettext('{{ minutes }}m', '{{ minutes }}m', s, 'minutes ago abbreviated', 'minutes ago abbreviated'),f=e.ngettext('{{ hours }}h', '{{ hours }}h', d, 'hours ago abbreviated', 'hours ago abbreviated'),x=e.ngettext('{{ days }}d', '{{ days }}d', u, 'days ago abbreviated', 'days ago abbreviated'),b=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),S=e.ngettext('{{ years }}y', '{{ years }}y', p, 'years ago abbreviated', 'years ago abbreviated');return p>0?(0,a.nk)(t?S:y,{years:p}).join(""):c>0?(0,a.nk)(t?b:g,{weeks:c}).join(""):u>0?(0,a.nk)(t?x:h,{days:u}).join(""):d>0?(0,a.nk)(t?f:_,{hours:d}).join(""):s>0?(0,a.nk)(t?v:m,{minutes:s}).join(""):e._('Just now', ' - ', ' -- ')}}},536042:(e,i,t)=>{"use strict";t.d(i,{ZP:()=>o,oz:()=>a,q6:()=>l});var n=t(583592);let{Provider:l,Consumer:a,useHook:r}=(0,n.Z)("i18n"),o=r},734417:(e,i,t)=>{"use strict";t.d(i,{Z:()=>d});var n=t(536042),l=t(493851);let a=(e,i)=>{let t=i||0,n=10**t,l=+(t?e*n:e).toFixed(8),a=Math.floor(l),r=l-a,o=r>.49999999&&r<.50000001?a%2==0?a:a+1:Math.round(l);return t?o/n:o},r=({maximumFractionDigits:e,minimumFractionDigits:i,style:t,currency:n})=>{let l={maximumFractionDigits:e,minimumFractionDigits:i};return t?{...l,style:t,..."currency"===t?{currency:n,currencyDisplay:"symbol"}:{}}:l},o=e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0},s=(e,i)=>{if(i){let{minimumFractionDigits:t,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:i}).resolvedOptions();if(void 0!==t&&void 0!==n)return{minimumFractionDigits:t,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){let e=(0,n.ZP)();return(i,t,n)=>{let d=0,u=0,c=n&&n.style||void 0,p=n&&n.shortform||!1,m=n&&n.uplimit||void 0,_=n&&n.currency||void 0,h=!!m&&t>=m,g=m&&h?m:t;if("currency"===c){let{minimumFractionDigits:e,maximumFractionDigits:t}=s(i,_);d=void 0===n||void 0===n.maximum_fraction_digits?t:n.maximum_fraction_digits,u=void 0===n||void 0===n.minimum_fraction_digits?e:n.minimum_fraction_digits}else d=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,u=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits;if(p&&g>999&&(d=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,u=0),d<u)return String(g);let y=g,v="",f=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],x=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],b=/^zh|ja|ko/.test(i);if(p&&g>999){let e=b?f:x;for(let i=0;i<e.length;i+=1){let t=Object.keys(e[i])[0],n=e[i][t].value;if(g>=n){y=a(g/n*Math.pow(10,d))/Math.pow(10,d),v=e[i][t].localeKey;break}}}if(null==y)return"";let S=y.toLocaleString([o(i)&&"ar-SA"!==i?i:"en-US"],r({maximumFractionDigits:d,minimumFractionDigits:u,currency:_,style:c}));return v&&v.length>0?(0,l.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:S,numberSuffix:v})+(h?"+":""):S+(h?"+":"")}}},833122:(e,i,t)=>{"use strict";t.d(i,{F:()=>s,Z:()=>o});var n=t(667294),l=t(388011),a=t(906215);let r={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600}};function o({carouselData:e,closeupImpressionType:i,closeupNavigationType:t,componentType:o,contextLogData:s,clientTrackingParams:d,elementType:u,impressionAuxFields:c,inImpressionExp:p,impressionType:m,impressionsFramework:_,isPaused:h,loggingId:g,objectIdStr:y,slotIndex:v,trackCarousel:f,viewData:x,viewParameter:b,viewType:S}){let{logContextEvent:P}=(0,l.v)(),k=_||a.Z,w=(0,n.useRef)(null),I=n=>{var l,a,p,_,h,k,I;let T=r[m],j=T.idType,A={clientTrackingParams:d,endTime:n.endTime,[j]:g,slotIndex:v,time:n.startTime,renderDuration:n.endTime-n.startTime,type:i,...c,forcedExit:"removed"===n.forcedExit?0:void 0};"Pin"===m&&(A={...A,pinCellWidth:(null===(l=w.current)||void 0===l?void 0:l.getBoundingClientRect().width)||0,pinCellHeight:(null===(a=w.current)||void 0===a?void 0:a.getBoundingClientRect().height)||0,windowWidth:null===(p=window)||void 0===p?void 0:p.innerWidth,windowHeight:null===(_=window)||void 0===_?void 0:_.innerHeight});let E={component:o,object_id_str:y,view_type:S,view_data:x||{},view_parameter:b};f?e&&P({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...A,carouselDataId:Number(e.id),carouselSlotId:(null===(h=e.carousel_slots)||void 0===h?void 0:h[null!==(k=e.index)&&void 0!==k?k:0])&&Number(e.carousel_slots[null!==(I=e.index)&&void 0!==I?I:0].id),slotIndex:e.index}]},...E,aux_data:{...s}}):P({clientTrackingParams:d,event_type:T.eventType,...E,element:u,event_data:{[T.impressionType]:"Story"===m?A:[A]},aux_data:{closeup_navigation_type:t,...s}})},T=(0,n.useCallback)(()=>{try{w.current instanceof HTMLElement&&k.start(w.current).onExitViewport(I).setDebugId(g||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[w.current]);(0,n.useEffect)(()=>(p&&!k.inExperiment&&k.setExperimentStatus(!0),h||T(),()=>{w.current instanceof HTMLElement&&k.stop(w.current)}),[T]);let j=(0,n.useRef)(h);return(0,n.useEffect)(()=>{j.current&&!h&&T(),j.current=h},[h,T]),w}let s=({children:e,...i})=>e({impressionTrackerRef:o(i)})},183929:(e,i,t)=>{"use strict";t.d(i,{Z:()=>p});var n=t(667294),l=t(973935),a=t(521262),r=t(388011),o=t(906215),s=t(785893);function d(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class c extends n.Component{constructor(e){super(e),d(this,"trackImpression",()=>{try{this.node=(0,l.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),d(this,"logImpression",e=>{var i,t,n,l,r,o,s,d,c,p,m,_,h,g,y,v,f;let{carouselData:x,closeupImpressionType:b,closeupNavigationType:S,componentType:P,contextLogData:k,elementType:w,impressionAuxFields:I,impressionType:T,loggingId:j,objectIdStr:A,slotIndex:E,trackCarousel:C,viewData:F,viewParameter:R,viewType:L,logContextEvent:D}=this.props,O=u[T],N=O.idType,z=e.forcedExit&&"removed"===e.forcedExit?0:void 0,M={endTime:e.endTime,[N]:j,slotIndex:E,time:e.startTime,renderDuration:e.endTime-e.startTime,type:b,...I,forcedExit:z},K={};if("Pin"===T&&(M={...M,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:null===(i=window)||void 0===i?void 0:i.innerWidth,windowHeight:null===(t=window)||void 0===t?void 0:t.innerHeight},null!=I&&I.chromeAraViewExp&&null!==(n=this.props.children)&&void 0!==n&&null!==(l=n.props)&&void 0!==l&&null!==(r=l.pin)&&void 0!==r&&r.is_promoted)){let e=this.props.children.props.pin.attribution_source_id;(0,a.YS)(T,null!==(o=this.props.children.props.pin.is_promoted)&&void 0!==o?o:null,null!=e?e:null,null!==(s=this.props.children.props.pin.link)&&void 0!==s?s:null,null!==(d=this.props.children.props.pin.campaign_id)&&void 0!==d?d:null,null!==(c=I.araAuxData)&&void 0!==c?c:null,null!==(p=this.props.children.props.pin.advertiser_id)&&void 0!==p?p:null),K={is_arapi:!0,attribution_source_id:e||""}}C||D({event_type:O.eventType,component:P,element:w,event_data:{[O.impressionType]:"Story"===T?M:[M]},object_id_str:A,view_type:L,view_data:F||{},view_parameter:R,aux_data:{...k,...K,closeup_navigation_type:S}}),x&&C&&D({event_type:7352,component:P,event_data:{pinCarouselSlotImpressions:[{...M,..."canonical"===x.type?{carouselDataId:Number(null!==(m=x.carouselId)&&void 0!==m?m:0),slotIndex:x.index,carouselSlotId:x.carouselSlots[null!==(_=x.index)&&void 0!==_?_:0]&&Number(x.carouselSlots[null!==(h=x.index)&&void 0!==h?h:0].slotId)}:{carouselDataId:Number(null!==(g=x.id)&&void 0!==g?g:0),carouselSlotId:(null===(y=x.carousel_slots)||void 0===y?void 0:y[null!==(v=x.index)&&void 0!==v?v:0])&&Number(x.carousel_slots[null!==(f=x.index)&&void 0!==f?f:0].id),slotIndex:x.index}}]},object_id_str:A,view_type:L,view_data:F||{},view_parameter:R,aux_data:{...k,...K}})}),this.impressionsFramework=e.impressionsFramework||o.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return n.Children.only(this.props.children)}}function p(e){let{logContextEvent:i}=(0,r.v)();return(0,s.jsx)(c,{...e,logContextEvent:i})}},110417:(e,i,t)=>{"use strict";t.d(i,{Rq:()=>a,Vf:()=>r,ab:()=>d,jd:()=>o,k8:()=>c,nw:()=>u,oy:()=>s});var n=t(457628),l=t(791045);let a=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,o=e=>window.innerHeight>=748&&a(e),s=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},d=()=>{n.t8(l.oj,String(!0),(0,n.kZ)(l.oj))},u=()=>!!n.U2(l.oj),c=e=>{if(s()){let i=u();e.experimentsClient.flush(),i||(d(),"undefined"!=typeof window&&window.location.reload(!0))}}},650414:(e,i,t)=>{"use strict";t.d(i,{P:()=>a,Z:()=>l});var n=t(702664);function l(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function a(){let e=(0,n.useSelector)(({experiences:e})=>e);return!!e&&l(e)}},5342:(e,i,t)=>{"use strict";function n(e,i,t=28){let n;if(!(e||{}).resurrection_info&&!(i||{}).resurrectionInfo)return!1;n=i?((i||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let l=new Date,a=n?new Date(n):l;return a.setDate(a.getDate()+t),new Date().getTime()<a.getTime()}t.d(i,{Z:()=>n})},943795:(e,i,t)=>{"use strict";t.r(i),t.d(i,{DEFAULT_HEIGHT:()=>u,DEFAULT_PADDING_Y:()=>c,FixedFooter:()=>_,FixedHeader:()=>m});var n=t(667294),l=t(883119),a=t(377234),r=t(906215),o=t(107577),s=t(245410),d=t(785893);let u=64,c=3;function p({children:e,footerConfig:i,headerConfig:t,height:o,hideOnScroll:p,hideOnScrollState:{isHidden:m,updateHiddenState:_},noPadding:h,paddingY:g=c,type:y,zIndex:v}){let f,x;let{headerLimitedOverflow:b,ignoreObstructions:S,zIndexForGestaltBug:P}=t||{},{appUpsellFooterConfig:k,footerInLego:w,navFooterConfig:I}=i||{},T=!!k,j="header"===y?"top":"bottom",{anyEnabled:A}=(0,s.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),E=(0,a.vs)(),C=A?E:(0,a.Yc)(),F=(0,n.useRef)(null),R=(0,n.useRef)(null);(0,n.useEffect)(()=>{try{if(!S){let e=F.current;R.current=b&&e&&Array.isArray(e.children)?e.children[0]:e,R.current instanceof HTMLElement&&r.Z.addObstruction(j,R.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!S&&R.current instanceof HTMLElement&&r.Z.removeObstruction(j,R.current)}},[S,b,j,C]);let L="top"===j?"relative":"fixed",D=(null!=o?o:u)+((null==t?void 0:t.overrideTop)||0),O=p||I?{transition:w?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...m?{transform:`translateY(${"top"===j?-D:D}px)`,opacity:w?0:1}:Object.freeze({})}:{},N="relative"!==L||null!=t&&t.noGutter?0:2,z=N?-N:0,M=C?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";return C&&("header"===y?f=-1:x=-1),(0,d.jsx)(l.xu,{ref:F,dangerouslySetInlineStyle:{__style:{top:f,bottomStyle:x,...!v||P?{zIndex:P||1}:Object.freeze({}),...b?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=t&&t.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=i&&i.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...O}},zIndex:P?void 0:v,"data-test-id":y,display:T?"flex":void 0,height:o&&!w?o:void 0,position:L,bottom:"footer"===y,top:"header"===y,left:!0,right:!0,marginStart:w?"auto":z,marginEnd:w?"auto":z,onTransitionEnd:()=>{(p||I)&&R.current&&(m?r.Z.removeObstruction(j,R.current):r.Z.addObstruction(j,R.current))},width:w||"fixed"!==L?void 0:"100%",children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==t?void 0:t.isTranslucent)&&M||(null==t?void 0:t.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:w?T?void 0:null!=o?o:u:"100%",boxShadow:w?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:w&&!(null!=I&&I.docked)?16:void 0,...b?{pointerEvents:"auto"}:Object.freeze({}),...null!=t&&t.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==y||h?0:4)+N,paddingY:h?0:g,position:"relative",width:I?I.footerWidth:T?void 0:"100%",rounding:w&&!(null!=I&&I.docked)?"pill":void 0,display:w||null!=i&&i.alignCenter?"flex":void 0,marginStart:w?"auto":void 0,marginEnd:w?"auto":void 0,alignItems:null!=i&&i.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:_}):e})})}function m({hasBorder:e,headerLimitedOverflow:i,ignoreObstructions:t,isTranslucent:n,isTransparentBackground:a,noGutter:r,overrideTop:s,useRoundedCorners:u,zIndexForGestaltBug:m,..._}){let{noPadding:h,paddingY:g=c,zIndex:y}=_;return(0,d.jsx)(l.Le,{top:s||0,height:i?44+8*(h?0:g):void 0,zIndex:y||void 0,children:(0,d.jsx)(o.Z,{hideOnScroll:_.hideOnScroll,children:l=>(0,d.jsx)(p,{..._,hideOnScrollState:l,type:"header",headerConfig:{isTranslucent:n,isTransparentBackground:a,headerLimitedOverflow:i,hasBorder:e,ignoreObstructions:t,noGutter:r,overrideTop:s,zIndexForGestaltBug:m,useRoundedCorners:u}})})})}function _({alignCenter:e,appUpsellFooterConfig:i,footerInLego:t,hasTopShadow:n,navFooterConfig:l,...a}){return(0,d.jsx)(o.Z,{appUpsellFooterConfig:i,hideOnScroll:a.hideOnScroll,navFooterConfig:null==l?void 0:l.scrollConfig,children:r=>(0,d.jsx)(p,{...a,hideOnScrollState:r,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:i,footerInLego:t,hasTopShadow:n,navFooterConfig:l}})})}},107577:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o,m:()=>r});var n=t(667294),l=t(552369);function a(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let r=20;class o extends n.Component{constructor(...e){var i;super(...e),a(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!(null!==(i=this.props.navFooterConfig)&&void 0!==i&&i.isDockedNavOnPlp)}),a(this,"lastScrollPos",0),a(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),a(this,"handleScroll",(0,l.Z)(()=>{var e;let{appUpsellFooterConfig:i,navFooterConfig:t}=this.props,{isHidden:n}=this.state,l=window.scrollY,a=l-this.lastScrollPos,o="none",{scrollHeight:s,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(s)&&!Number.isNaN(d)){if(a<0){let e=window.scrollMinY||0;o=l<=Math.abs(e+Math.max(a,r))?"start":"none"}else{let e=window.scrollMaxY||s-d;o=l>=e-Math.max(a,r)?"end":"none"}}let u=null!=t&&t.isModal?0:55;if(i){if(a>r&&n&&l>=500){let e=i.shouldShowAfterScroll();e&&(this.updateHiddenState(!1),null==t||t.onScroll(!1))}else(a<-r&&!n||l<=u)&&(this.updateHiddenState(!0),null==t||t.onScroll(!0))}else null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===o&&!n||l<=u?(this.updateHiddenState(!0),null==t||t.onScroll(!0)):(l>u||"end"===o)&&n&&(this.updateHiddenState(!1),null==t||t.onScroll(!1)):(a<-r||"start"===o)&&n||l<=u?(this.updateHiddenState(!1),null==t||t.onScroll(!1)):(a>r||"end"===o)&&!n&&(this.updateHiddenState(!0),null==t||t.onScroll(!0));this.lastScrollPos=l},30))}componentDidMount(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){var i,t,n,l;!e.hideOnScroll&&this.props.hideOnScroll||!(null!==(i=e.navFooterConfig)&&void 0!==i&&i.isDockedNavOnPlp)&&null!==(t=this.props.navFooterConfig)&&void 0!==t&&t.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(n=e.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp&&!(null!==(l=this.props.navFooterConfig)&&void 0!==l&&l.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:i}=this.props,{isHidden:t}=this.state,n=!(null!=i&&i.forceShow)&&t;return e({isHidden:n,updateHiddenState:this.updateHiddenState})}}},265259:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s});var n=t(883119),l=t(24286),a=t(319689),r=t(549201),o=t(785893);let s=({children:e,roundedForLargeDevice:i})=>{let t=(0,r.ZP)(),s="phone"!==t&&i;return(0,a.V)()?(0,o.jsx)(n.xu,{marginStart:-l.D6,marginEnd:-l.D6,rounding:s?6:void 0,overflow:s?"hidden":void 0,children:(0,o.jsx)(a.C,{value:!1,children:e})}):e}},993869:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>d});var n=t(883119),l=t(24286),a=t(110417),r=t(319689),o=t(282802),s=t(785893);let d=({children:e,dataLayoutShiftBoundaryId:i,hasFixedHeader:t=!1,hasGutter:d=!0,height:u,showKeychainError:c=!1,useViewport:p=!1})=>{let m=(0,o.B)(),_=(0,a.jd)(m.userAgent.platform)?a.Vf:0;return(0,s.jsx)(n.xu,{"data-layout-shift-boundary-id":i||"PageContainer",height:p?`calc(100vh - ${_}px)`:u,paddingX:d?l.D6:void 0,paddingY:t||c?void 0:3,children:(0,s.jsx)(r.C,{value:!!d,children:e})})}},310646:(e,i,t)=>{"use strict";function n(e,i){if("object"==typeof e&&"object"==typeof i){let t=Object.keys(e),n=Object.keys(i);return t.length===n.length&&t.every(t=>e[t]===i[t])}return e===i}t.d(i,{Ak:()=>n,_Y:()=>l,qe:()=>o,xZ:()=>r});let l=(e,i)=>e.length===i.length&&e.every((e,t)=>n(e,i[t])),a=(e,i)=>e.length===i.length&&e.every((e,t)=>e===i[t]),r=(e,i=a)=>t=>{let n=[];return function(...l){let a=this,r=n.find(e=>e.context===a&&i(e.args,l));if(r)return r.result;let o={context:a,args:l,result:t.apply(this,l)};return n.push(o),e&&n.length>e&&n.shift(),o.result}},o=r(1);r()},532465:(e,i,t)=>{"use strict";function n(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}t.d(i,{Z:()=>r});let l=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1),n(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(i=>i!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(i=>i!==e)}getAppState(){return this.windowInFocus?0:void 0}},a=e=>{if(e.isHidden){let{reason:i}=e;l.windowInFocus=!1,l.onPauseListeners.forEach(e=>e(i))}else l.windowInFocus=!0,l.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>a({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>a({isHidden:!1})),window.addEventListener("blur",()=>a({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>a({isHidden:!1})),window.addEventListener("pagehide",()=>a({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>a(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>a(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let r=l},316445:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(245410);let l=Object.freeze({analytics:{organic:"web_sce_organic_analytics",monetized:"web_sce_monetized_analytics"},pinStats:{organic:"web_sce_organic_pin_stats",monetized:"web_sce_monetized_pin_stats"}});function a(e){let{checkExperiment:i}=(0,n.F)();i("pin_stats_analytics_parent");let t=l[e];return()=>i(t.organic).anyEnabled||i(t.monetized).anyEnabled}},427370:(e,i,t)=>{"use strict";t.d(i,{G7:()=>d,Nl:()=>c,WE:()=>s,l6:()=>u,rh:()=>o});var n=t(40045),l=t(642447),a=t(493851);let r=e=>e.checkExperiment("web_ps4p").anyEnabled;function o(e,i,t,l,a){var o,s,d,u,c,p;if(!i.isAuth)return!1;let{creatorAnalytics:m}=e,_=!!e.storyPinDataId,h=!!(null!==(o=e.videos)&&void 0!==o&&o.videoList),g=(a||!(_||h))&&0!==Object.keys((null===(s=e.aggregatedPinData)||void 0===s?void 0:null===(d=s.creatorAnalytics)||void 0===d?void 0:d._30dRealtime)||{}).length,y=(null===(u=e.board)||void 0===u?void 0:u.privacy)===n.Z.BoardPrivacy.PUBLIC,v=(null===(c=e.board)||void 0===c?void 0:c.privacy)===n.Z.BoardPrivacy.PROTECTED,f=(v||y)&&!e.isRepin&&[i.id,l].includes(null===(p=e.pinner)||void 0===p?void 0:p.entityId);return g||0!==Object.keys((null==m?void 0:m._30dRealtime)||{}).length||i.isPartner&&f||r(t)&&_&&f}function s(e,i,t,n,l,a){return e.isAuth&&!!i&&(t||n)&&!!(null!=l&&l.isLoaded)&&!a}function d(e,i){return(0,a.Z)(i.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function u(e,i){return(0,a.Z)(i.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function c({i18n:e,isRealtime:i,humanizedTimeSinceLastUpdate:t,displayLifetime:n,numDays:r,selectedDateRange:o,locale:s}){let d=[];if(r){let i=n?(0,a.Z)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r,startDate:(0,l.Z)(s,o.startDate,l.k.NUMERIC),endDate:(0,l.Z)(s,o.endDate,l.k.NUMERIC)}):(0,a.Z)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r});d.push(i)}return i?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):t&&d.push((0,a.Z)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:t})),d.join(" ")}},194480:(e,i,t)=>{"use strict";t.d(i,{Z:()=>_});var n=t(883119),l=t(340906),a=t(38823),r=t(117651),o=t(536042),s=t(898252),d=t(245410),u=t(785893);let c={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},p={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function m({backgroundColor:e,identifier:i,size:t="sm"}){return(0,u.jsx)(n.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{..."sm"===t?c:p,backgroundColor:e?"pine"===e?"#0FA573":"#fff":"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:i})}function _({pin:e,size:i="sm",allowProductCarousel:t,allowShoppingPriceIndicator:c,shoppingLabelColor:p}){var _,h,g,y,v,f,x,b,S;let P=(0,o.ZP)(),k=(0,l.Z)(),w=!!(null!==(_=e.carousel_data)&&void 0!==_&&_.id),I=(null===(h=e.embed||(null===(g=e.attribution)||void 0===g?void 0:g.embed))||void 0===h?void 0:h.type)==="gif",T=(null===(y=e.rich_summary)||void 0===y?void 0:y.type_name)==="product",j=!!e.story_pin_data_id,A=!!(null!==(v=e.videos)&&void 0!==v&&v.video_list),E=!!e.promoter&&!e.is_downstream_promotion,{checkExperiment:C}=(0,d.F)();if(I)return m({identifier:"GIF",size:i});if(j&&!1!==e.should_open_in_stream){let{page_count:t=0,static_page_count:l=0,total_video_duration:a=0}=e.story_pin_data||{},o=t.toString();if(a>0){let e=a+l*s.oN;return m({identifier:o=(0,r.Z)(e),size:i})}if(E&&C("ads_iad_dweb").anyEnabled)return null;let d=(0,u.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[(0,u.jsx)(n.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,u.jsx)(n.JO,{accessibilityLabel:k?P._('Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel.sce', 'identifier that shows the pin type'):P._('Idea Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel', 'identifier that shows the pin type'),inline:!0,icon:"idea-pin",color:"default",size:"sm"===i?12:16})}),(0,u.jsx)(n.xv,{inline:!0,size:"100",weight:"bold",children:o})]});return m({identifier:d,size:i})}if(A){let{videos:t}=e,{duration:n=0}=t&&t.video_list&&t.video_list[Object.keys(t.video_list)[0]]||{};return m({identifier:(0,r.Z)(n),size:i})}if(T){let t=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary;if(c){let e=t&&(t.price||t.max_price);return e?m({identifier:e,size:i}):null}if(!p)return null;{let t=null===(f=((null===(b=e.rich_summary)||void 0===b?void 0:null===(S=b.products)||void 0===S?void 0:S[0])||{}).label_info)||void 0===f?void 0:null===(x=f.labels)||void 0===x?void 0:x[0];return t?m({identifier:t,backgroundColor:p,size:i}):null}}if(t){let t=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],n=t&&(0,a.Z)(e.images,t.additional_images,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:l=[],index:r=0}=n;return m({identifier:`${r+1}/${l.length}`,size:i})}if(w){let t=e.carousel_data||{},{carousel_slots:n=[],index:l=0}=t;return m({identifier:`${l+1}/${n.length}`,size:i})}return null}},84812:(e,i,t)=>{"use strict";function n(e,i,t){return!!(e&&e.trim().length>0&&i&&!t)}t.d(i,{r:()=>n})},325438:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});let n={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,PINNABILITY_FRESH_PRODUCT_PIN_EMBEDDINGS:209,PINNABILITY_MULTI_EMBEDDINGS:210,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,NOTIF_DIRECT_INJECT:207,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,RECGPT_CG_USER_TO_PINS:206,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194,SHOPPING_RECENTLY_VIEWED_MODULE_PINS:198,SHOPPING_RECENTLY_SAVED_MODULE_PINS:199,SHOPPING_BEST_SELLING_RECOMMENDED_BRAND_MODULE_PINS:200,SHOPPING_SHOP_THE_BOARD_MODULE_PINS:203,SHOPPING_ON_SALE_MODULE_PINS:204,SHOPPING_PRODUCT_CATEGORY_BASED_MODULE_PINS:205,SHOPPING_SHOP_SEARCH_MODULE_PINS:208,RECENTLY_VIEWED_ORGANIC_MODULE_PINS:201,RECENTLY_SAVED_ORGANIC_MODULE_PINS:202};function l({feedbackData:e,feedbackType:i,pinId:t,pinFeedbackType:l,recommendationReason:a,complaintReason:r,clientTrackingParams:o,isThirdPartyAd:s}){var d,u,c;switch(i){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==e?void 0:e.query,pin_id:t}};case"related":return{action:"relatedPinHide",actionOptions:{pin:t}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:t,newsId:null==e?void 0:e.newsId}};default:let p="promoted"===i,m=(c=null==a?void 0:a.reason)&&n[c],_=null!==(d=null==a?void 0:a.reasonId)&&void 0!==d?d:null==a?void 0:null===(u=a.board)||void 0===u?void 0:u.entityId,h={complaint_reason:r||0,pin_id:t,feedback_type:l||1,promoted:p};return m&&(h.recommendation_reason_id=m),_&&(h.through_id=_),null!=a&&a.throughProperties&&(h.through_properties=a.throughProperties.reduce((e,i)=>{let{key:t,data:n}=i;return t&&(e[t]=[...e[t]||[],...n||[]]),e},{})),o&&(h.client_tracking_params=o),s&&(h.is_third_party_ad=s),{action:p?"promotedComplaint":"complaint",actionOptions:h}}}},393272:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});let n=["564x","736x","orig","474x","236x"],l=({images:e={},resolutionPreferences:i=n})=>{for(let t of i)if(e[t]&&e[t].url)return e[t];return null}},740494:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(465991);let l=e=>(e||"").trim().replace(/\s+/g," "),a=({storyPinDataId:e,pinDescription:i,richMetadataDescription:t,richSummaryDisplayName:a,closeupDescription:r,closeupUnifiedDescription:o,seoDescription:s,seoNoindexReason:d})=>d&&n.eg.has(d)?l(s):e?l(i):l((0,n.eK)({richMetadataDescription:t,richSummaryDisplayName:a,closeupUnifiedDescription:o}).description)||l(o||"")||l(r)||l(i)||l(t)||""},898252:(e,i,t)=>{"use strict";t.d(i,{NK:()=>y,P6:()=>a,VX:()=>o,ZE:()=>h,Zt:()=>g,_J:()=>d,_S:()=>v,cL:()=>m,jL:()=>s,oN:()=>l,rM:()=>_,sV:()=>u,sY:()=>c});var n=t(505204);let l=5e3,a=l/n.gJ,r=["Uploaded by user"],o=(e,i)=>i&&i.products&&i.products.length>0||(null==e?void 0:e.products)&&e.products.length>0||!1,s=(e,i)=>!!i&&!e,d=e=>!!e&&5!==e,u=e=>["email","messages","deep_linking"].includes(e),c=e=>!!e&&"gif"===e,p=e=>"pinstory"===e,m=({embedSrc:e,embedSubtype:i,embedType:t})=>!!e&&!c(t)&&!p(i),_=({link:e,mobileLink:i,trackedLink:t})=>!i&&!t&&!e,h=e=>/pin.it/gim.test(e||""),g=({link:e,mobileLink:i,origImageUrl:t,trackedLink:n})=>i||n||e||t||"",y=(e,i)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:i.state?i.state.trackingParams:""}}});function v(e){for(let i of r)if(e===i)return!1;return!0}},465991:(e,i,t)=>{"use strict";t.d(i,{eg:()=>r,kt:()=>h,rw:()=>m,fs:()=>u,eK:()=>c,Ly:()=>p,BY:()=>_,bN:()=>g,RC:()=>s,EU:()=>d});let n=/\s\s+/g,l=e=>e.replace(n," ");var a=t(371362);let r=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),o=e=>"string"==typeof e?e:"",s=({storyPinDataMetadataPinTitle:e,pinTitle:i})=>e||i,d=(e,i)=>e?e.trim().length>i?(0,a.ZP)(e.trim(),i).trim():e.trim():"",u=({pinTitle:e,gridTitle:i,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:l,storyPinDataMetadataPinTitle:a})=>{let r=a||e,o=d(i,200);return o||t||n||(l&&r?r:null)},c=e=>{let{richSummaryDisplayName:i}=e,t=e.pinJoinVisualAnnotation||[],n=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",o=e.closeupUnifiedDescription||"",s=t.map(e=>(n||{})[e]||{name:e,url:""}),d="",u=(i||"").toLocaleLowerCase().trim(),c=r.toLocaleLowerCase().trim(),p=o.toLocaleLowerCase().trim();return o&&o.length>3&&p!==u?d=o:r&&r.length>3&&c!==u&&(d=r),d&&(d=l((0,a.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:s}},p=({pinTitle:e,gridTitle:i,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:l,storyPinDataMetadataPinTitle:a,pinJoinVisualAnnotation:o,seoNoindexReason:s,seoTitle:d})=>r.has(null!=s?s:"")?d:u({pinTitle:e,gridTitle:i,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:l,storyPinDataMetadataPinTitle:a})||(null==o?void 0:o[0])||e,m=(e,i,t,n,l)=>{let a=o(e).trim(),r=(e,i)=>i&&i.length>0?`${e} ${i.join(", ")}`:e;return n&&n.trim().length?r(n.trim(),t):l&&l.trim().length?l.trim():a?r(a,t):t?t.join(", "):""},_=e=>`/pin/${e}/`,h=(e,i)=>{let t=`Pinterest video from ${i}: `.concat(e);return""===i?e:t},g=({pinId:e,seoUrl:i})=>i&&"string"==typeof i?i:_(e)},852247:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s});var n,l=t(667294);t(167912);var a=t(450600);let r=void 0!==n?n:n=t(508753),o=e=>{var i,t,n,l,a;return{imageSpec_236x:(null===(i=e.images)||void 0===i?void 0:i["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},imageSpec_474x:(null===(t=e.images)||void 0===t?void 0:t["474x"])&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},imageSpec_564x:(null===(n=e.images)||void 0===n?void 0:n["564x"])&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},imageSpec_736x:(null===(l=e.images)||void 0===l?void 0:l["736x"])&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},imageSpec_orig:(null===(a=e.images)||void 0===a?void 0:a.orig)&&{height:e.images.orig.height,url:e.images.orig.url,width:e.images.orig.width}}};function s({pinKey:e,maxWidth:i}){let{data:t}=(0,a.u)(r,e,{useLegacyAdapter:o}),n=(null==t?void 0:t.imageSpec_564x)||(null==t?void 0:t.imageSpec_736x)||(null==t?void 0:t.imageSpec_orig)||(null==t?void 0:t.imageSpec_474x)||(null==t?void 0:t.imageSpec_236x),s=(null==n?void 0:n.width)||1,d=(null==n?void 0:n.height)||1,u=(null==n?void 0:n.url)||"",c=function(e,i,t=564){return e>t&&(i*=t/e,e=t),{width:e,height:i}}(s,d,i),p=(0,l.useCallback)(()=>({width:c.width,height:c.height,url:u}),[c.height,c.width,u]);return{getNormalizedPinImage:p}}},710334:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s}),t(167912);var n,l=t(450600),a=t(536042);let r=void 0!==n?n:n=t(963101),o=e=>{var i;return{category:e.category,closeupUnifiedDescription:e.closeup_unified_description,closeupUnifiedTitle:e.closeup_unified_title,imageSpec_orig:(null===(i=e.images)||void 0===i?void 0:i.orig)&&{url:e.images.orig.url},link:e.link,richMetadata:e.rich_metadata&&{products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{__typename:"OfferSummary"}}))},richSummary:e.rich_summary&&{products:e.rich_summary.products&&e.rich_summary.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{__typename:"OfferSummary"}}))},trackedLink:e.tracked_link}},s=e=>{let i;let t=(0,a.ZP)(),{data:n}=(0,l.u)(r,e,{useLegacyAdapter:o}),s=n.trackedLink||n.link||n.imageSpec_orig&&n.imageSpec_orig.url,{richMetadata:d}=n,u=t._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation');if(d&&d.products&&d.products[0]&&d&&d.products[0].name&&d.products[0].offerSummary){var c,p;u=t._('Product sold by ', 'pin annotation', 'pin annotation'),i=null===(c=(null===(p=d.products)||void 0===p?void 0:p[0])||void 0)||void 0===c?void 0:c.offerSummary}let{richSummary:m}=n;return!i&&m&&m&&m.products&&m.products[0]&&m&&m.products[0].name&&m.products[0].offerSummary&&(u=t._('Product sold by ', 'pin annotation', 'pin annotation')),{pinLink:s,pinCreditPrefix:u,pinTitle:n.closeupUnifiedTitle,pinDescription:n.closeupUnifiedDescription,pinCategory:n.category}}},385075:(e,i,t)=>{"use strict";function n({hasPin:e,hasPinRichMetadata:i,hasPinRichMetadataProducts:t,hasPinRichMetadataArticle:n,hasPinRichMetadataRecipe:l,hasPinStoryPinData:a}){if(e){if(i)return t?144:n?141:l?145:139;if(a)return 157}return 140}t.d(i,{Z:()=>n})},867812:(e,i,t)=>{"use strict";t.d(i,{X:()=>n});let n="favorited"},245410:(e,i,t)=>{"use strict";t.d(i,{F:()=>a,a:()=>l});var n=t(583592);let{Provider:l,useHook:a}=(0,n.Z)("ExperimentContext")},617285:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(667294),l=t(245410);let a=()=>{let e=(0,l.F)();return(0,n.useCallback)(()=>{e.flush()},[e])}},950695:(e,i,t)=>{"use strict";t.d(i,{kf:()=>g,l5:()=>_,of:()=>p,xC:()=>h,yz:()=>m});var n=t(667294),l=t(40660),a=t(583592),r=t(500797),o=t(272109),s=t(567648),d=t(785893);let{Provider:u,useMaybeHook:c}=(0,a.Z)("PwaContext"),p=({children:e,initialContext:i})=>{let[t,a]=(0,n.useState)(null),s=i||{pwaType:"unknown",twaType:null},c=s.pwaType;(0,o.Z)(()=>{let e=(0,r.FB)(window)||"unknown";a(e),c!==e&&l.Z.increment("pwa.type_mismatch",1,{serverPwaType:c,clientPwaType:e,conflict:"unknown"!==c&&"unknown"!==e})});let p="unknown"===c&&t?t:c,{twaType:m}=s,_=(0,n.useMemo)(()=>({pwaType:p,twaType:m}),[p,m]);return(0,d.jsx)(u,{value:_,children:e})},m=()=>{var e;let i=c();return null!==(e=null==i?void 0:i.pwaType)&&void 0!==e?e:"unknown"},_=()=>{var e;let i=c();return null!==(e=null==i?void 0:i.twaType)&&void 0!==e?e:null},h=()=>{let e=m();return"android-twa"===e},g=()=>{let e=m(),i=(0,s.Z)();return"unknown"===e&&i?null:"windows"===e}},397352:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s});var n=t(667294);t(883119);var l=t(570476),a=t(785893);let r=e=>document.querySelector(`img[src="${e}"]`)||null,o=(e,i,t)=>{let l=(0,n.useRef)(null),a=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(e!==l.current||t&&t!==a.current){l.current=e;let t=r(e);null!=t&&t.complete&&i()}a.current=t},[e,i,t])};function s({alt:e,children:i,color:t,elementTiming:n,isActive:r=!1,naturalHeight:s,naturalWidth:d,onLoad:u,src:c,fit:p="none"}){return o(c,u,r),(0,a.jsx)(l.Z,{alt:e,color:t,elementTiming:n,naturalHeight:s,naturalWidth:d,onLoad:u,src:c,fit:p,children:i})}},77494:(e,i,t)=>{"use strict";t.d(i,{Z:()=>ee});var n=t(667294),l=t(532465),a=t(93501),r=t(30482),o=t(763795),s=t(39983),d=t(677263),u=t(41162),c=t(372453),p=t(363959),m=t(324e3),_=t(583077);let h=({constraintMap:e,initialNavTiming:i,annotations:t})=>({...t,...(0,_.jh)("constraint_",e),...(0,_.jh)("mark_",(0,s.gQ)()),...(0,_.jh)("browser_",{...i?(0,_.D3)(i):{},...(0,_.rX)()})});var g=t(577491),y=t(335741),v=t(769916);let f=(e,i)=>{let{firstInputDelay:t}=(0,y.v2)();return[...e.map(e=>(0,g.Z)(e,i)).filter(Boolean),...t?[{name:"fid",id:(0,v.Z)(),parentId:i,startTime:t.startTime,endTime:t.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var x=t(813107),b=t(935340);let S=e=>e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",P=({eventPrefix:e,endTime:i,tags:t,resourceArr:n,resourceType:l="allResources"})=>{let a=n.length;if(a>0&&"object"==typeof n[0]&&!Array.isArray(n[0])){let r=[...n].sort((e,i)=>e.fetchStart-i.fetchStart),o=[...n].sort((e,i)=>e.responseEnd-i.responseEnd),s=1,d=i/5,u=0;for(;s<=5;){let i=0;for(;u<=a-1&&r[u].fetchStart<=d*s;)u+=1,i+=1;(0,b.S0)(`${e}.tags.${l}.fetchStartInterval${s}of5`,i,{sampleRate:.2,tags:t}),(0,b.S0)(`${e}.${l}.fetchStartInterval${s}of5`,i,{sampleRate:.2}),s+=1}let c={zeroPercentInFlight:r[0].fetchStart,twentyFivePercentInFlight:r[Math.floor(a/4)].fetchStart,fiftyPercentInFlight:r[2*Math.floor(a/4)].fetchStart,seventyFivePercentInFlight:r[3*Math.floor(a/4)].fetchStart,hundredPercentInFlight:r[a-1].fetchStart,twentyFivePercentComplete:o[Math.floor(a/4)].responseEnd,fiftyPercentComplete:o[2*Math.floor(a/4)].responseEnd,seventyFivePercentComplete:o[3*Math.floor(a/4)].responseEnd,hundredPercentComplete:o[a-1].responseEnd};for(let i in c)c[i]&&((0,b.LY)(`${e}.tags.${l}.${i}`,c[i],{sampleRate:.2,tags:t}),(0,b.LY)(`${e}.${l}.${i}`,c[i],{sampleRate:.2}))}},k=({annotateExperiments:e,endTime:i,entries:t,metricId:n,pwtStaticContext:l})=>{let a=`${(0,x.Z)(l)}.${n.surface}`,r=[a];e&&e.forEach(e=>{let i=l.getExperimentGroup(e)||"null";r.push(`${a}.${e}.${i}`)});let o=S((0,y.Bn)()),s={lcpTimingBucket:o||"unknown",isAuthenticated:l.isAuthenticated,navigationType:n.navigationType},d=Array.from(t.filter(e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=i)),u=[],c=[],p=[],m=[],_=[];d.forEach(e=>{"img"===e.initiatorType?u.push(e):"css"===e.initiatorType?c.push(e):"script"===e.initiatorType?p.push(e):"xmlhttprequest"===e.initiatorType?m.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&_.push(e)}),r.forEach(e=>{P({eventPrefix:e,endTime:i,tags:s,resourceArr:d}),P({eventPrefix:e,endTime:i,tags:s,resourceArr:u,resourceType:"image"}),P({eventPrefix:e,endTime:i,tags:s,resourceArr:c,resourceType:"css"}),P({eventPrefix:e,endTime:i,tags:s,resourceArr:p,resourceType:"scripts"}),P({eventPrefix:e,endTime:i,tags:s,resourceArr:m,resourceType:"xhr"}),P({eventPrefix:e,endTime:i,tags:s,resourceArr:_,resourceType:"preloadedImage"})})};var w=t(353335);let I=({startTime:e,responseEnd:i},t)=>e>t.endTime||!!i&&i<t.startTime,T=({annotateExperiments:e,annotations:i,binaryAnnotations:t,constraintMap:n,endTime:l,imageTimings:a,metricId:r,pwtStaticContext:o,startTime:s,traceId:d,spans:u})=>{let _;let g=(0,w.Cg)();"initial_app_load"===r.navigationType&&(_=(0,p.Z)());let y=a.map(({name:e})=>e),v=g.map(e=>(0,m.p)(e,y)).filter(({timing:e})=>!I(e,{startTime:s,endTime:l}));return("board"===r.surface||"pin_closeup"===r.surface)&&k({annotateExperiments:e,endTime:l,entries:g,metricId:r,pwtStaticContext:o}),{type:"COMPLETE",traceId:d,startTime:s,endTime:l,spans:f(v,d).concat(u),annotationMap:h({constraintMap:n,initialNavTiming:_,annotations:i}),binaryAnnotationMap:(0,c.rA)({annotateExperiments:e,binaryAnnotations:t,entries:g,metricId:r,performanceResources:v,pwtEndTime:l,pwtStaticContext:o})}},j=!1,A=(e,i)=>{if(e&&i){if(!j)return j=!0,i;(0,o.H)("duplicated_initial_app_load_surface_pwt")}return(0,v.Z)()};var E=t(591614),C=t(361905);let F=e=>{let i=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,i)=>{let t=i.name.replace(".jpg","").split("/");return{[t[t.length-1]]:{downloadSize:i.name.split("/")[3].split("x")[0]},...e}},{}),t=Array.from(document.getElementsByTagName("img")).map(e=>{let t=e.src.replace(".jpg","").split("/"),n=t[t.length-1];if(i[n]){var l;let t=(null===(l=(0,C.rZ)(e))||void 0===l?void 0:l.width)||1,a=i[n].downloadSize;return{fileName:n,renderedSize:t,downloadedSize:a,ratio:a/t}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}),n=Array.from(document.querySelectorAll('div[role="img"]')).map(e=>{let t=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=t[t.length-1];if(i[n]&&e instanceof HTMLDivElement){var l;let t=(null===(l=(0,C.rZ)(e))||void 0===l?void 0:l.width)||1,a=i[n].downloadSize;return{fileName:n,renderedSize:t,downloadedSize:a,ratio:a/t}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}});[...t,...n].forEach(i=>{let{ratio:t,fileName:n,downloadedSize:l}=i;i.ratio>1.05&&(0,o.A9)(`checkImageRatio.${e}`,{count:Math.round(10*t)/10,tags:{fileName:`${l}_${n}`}})})};var R=t(622200),L=t(282802);let D=(e,i)=>{let t=(0,n.useRef)(i);return{getState:()=>t.current,dispatch:i=>{t.current=e(t.current,i)}}};var O=t(694952),N=t(785893);let z=["initial_app_load","client_route_push"],M=(0,r.XV)("PwtSurface"),K="NavigationComplete",Z="VisuallyComplete",B=(e,i)=>{e.isSampled&&(0,E.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:i}})},U=(e,i,t)=>{var n;let{metricConfig:{metricId:l,pwtStaticContext:r,annotateExperiments:d},annotations:u,binaryAnnotations:c,constraintMap:p,startTime:m,imageTimings:_,isSampled:h,spans:g}=e;(0,s.L8)(`PWT_Complete_${(0,a.KJ)(l)}`);let y=A("initial_app_load"===l.navigationType,null===(n=r.serverData)||void 0===n?void 0:n.trace_id),v=T({annotateExperiments:d,annotations:u,binaryAnnotations:c,constraintMap:p,endTime:i,imageTimings:_,metricId:l,pwtStaticContext:r,startTime:m,traceId:y,spans:g});h&&!t&&(0,E.Z)({metricId:l,pwtStaticContext:r,result:v});try{F(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(e){(0,o.H)("image_ratio_check_error",{error:e})}return{...e,result:v,status:"DONE"}},H=(e,i)=>{if(e.metricConfig.constraints.every(i=>e.constraintMap[i])){let t=Math.max(...e.metricConfig.constraints.map(i=>e.constraintMap[i]));return U(e,t,i)}return e},V=(e,i)=>{let{constraint:t,time:n,disablePWTLogging:l}=i,r=(0,a.KJ)(e.metricConfig.metricId);return R.Z?e.metricConfig.constraints.find(e=>e===t)?e.constraintMap[t]?(M(`constraint "${t}" is already complete.`),(0,o.H)("duplicated_constraint_complete",{constraint:t,action:r}),e):(M(`marking constraint "${t}" as complete`),(0,s.ZP)(`constraint_${t}_is_complete`),H({...e,constraintMap:{...e.constraintMap,[t]:n||R.Z.now()}},l)):(M(`marked constraint "${t}" is not a required constraint.`),e):((0,o.H)("missing_window_performance",{action:r}),e)},G=(e,i)=>{if(!R.Z){let i=(0,a.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:i})}M(`removing constraint "${i}"`);let t=e.metricConfig.constraints.filter(e=>e!==i),{[i]:n,...l}=e.constraintMap;return H({...e,constraintMap:l,metricConfig:{...e.metricConfig,constraints:t}})},$=(e,i)=>{if(!R.Z){let i=(0,a.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:i})}M(`updating pwt segment to "${i}"`);let t={...e.metricConfig.metricId,segment:i};return{...e,metricConfig:{...e.metricConfig,metricId:t}}},W=(e,i)=>{let{metricConfig:t,startTime:n,isSampled:l,disablePWTLogging:r}=i;if(r||"TIMING"!==e.status||n===e.startTime||B(e,"routeUpdatedOnSameSurface"),!t)return{status:"DISABLED",metricConfig:null};let s=(0,a.KJ)(t.metricId);if("TIMING"===e.status&&e.startTime===n&&e.constraintMap[K])return(0,o.H)("duplicated_init_route_action",{action:s}),e;if(!r){if("Other"===t.pwtStaticContext.browserName&&!1===t.metricId.isAuthenticated&&"initial_app_load"===t.metricId.navigationType){var d,u,c,p;(0,o.A9)(`TIMING.${s}`,{tags:{userAgent:null===(d=window)||void 0===d?void 0:null===(u=d.navigator)||void 0===u?void 0:u.userAgent}}),(0,o.A9)(`TIMING.sampled.${s}`,{tags:{userAgent:null===(c=window)||void 0===c?void 0:null===(p=c.navigator)||void 0===p?void 0:p.userAgent},sampleRate:.5})}else(0,o.A9)(`TIMING.${s}`),(0,o.A9)(`TIMING.sampled.${s}`,{sampleRate:.5})}return V({status:"TIMING",metricConfig:t,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:l,spans:[]},{constraint:K,disablePWTLogging:r})},q=(e,i)=>{if(M("dispatch action",i),"INIT_ROUTE"===i.type)return W(e,i.payload);if("TIMING"!==e.status)return M(`ignoring action due to invalid state ${e.status}`,i),e;switch(i.type){case"ABORT":B(e,i.reason);let t={type:"ABORT",reason:i.reason};return{...e,status:"DONE",result:t};case"ANNOTATE":let{name:n}=i.payload;if(!R.Z)return e;let l=R.Z.now();return M(`adding annotation {${n}: ${l}}`),{...e,annotations:{...e.annotations,[n]:l}};case"BINARY_ANNOTATE":let{name:r,value:s,annotationType:d}=i.payload;return M(`adding binary annotation {${r}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:s,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return V(e,i.payload);case"REMOVE_CONSTRAINT":return G(e,i.payload);case"SET_SEGMENT":return $(e,i.payload);case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:t}}=i;if(0===t.length)return B(e,"visuallyComplete_noImages"),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let n=Math.max(...t.map(e=>e.responseEnd||0));return V({...e,imageTimings:t},{constraint:Z,time:n})}case"ADD_SUBSPAN":let{startTime:u}=e,{payload:{name:c,startTime:p,endTime:m,annotations:_,binaryAnnotations:h,parentId:g}}=i;return{...e,spans:[...e.spans,{name:c,id:(0,v.Z)(),startTime:p||u,endTime:m,annotationMap:{..._},binaryAnnotationMap:{...h},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:i.payload.name,id:(0,v.Z)(),startTime:R.Z?R.Z.now():0,endTime:1/0,annotationMap:{...i.payload.annotations},binaryAnnotationMap:{...i.payload.binaryAnnotations},parentId:i.payload.parentId}]};case"STOP_SUBSPAN":let y=e.spans.findIndex(e=>e.name===i.payload.name);return y>-1?(e.spans[y].endTime=R.Z?R.Z.now():0,i.payload.annotations&&(e.spans[y].annotationMap={...e.spans[y].annotationMap,...i.payload.annotations}),i.payload.binaryAnnotations&&(e.spans[y].binaryAnnotationMap={...e.spans[y].binaryAnnotationMap,...i.payload.binaryAnnotations})):(0,o.H)("invalid_subspan_stop_name",{name:i.payload.name}),e;default:let f=(0,a.KJ)(e.metricConfig.metricId);return(0,o.H)("invalid_pwt_surface_action",{action:f}),e}},Y=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},X=new Set,J=({surface:e,constraints:i,segment:t,measureGridVisuallyComplete:a,annotateExperiments:r,customEnabledNavigationTypes:o,navigationInfo:{clientNavigation:s,navigationType:u},sampleRate:c})=>{let p=(0,n.useRef)("NOT_SET"),m=(0,d.N5)(),{getState:_,dispatch:h}=D(q,{status:"DISABLED",metricConfig:null}),g=(0,L.B)();if(p.current!==s&&(p.current=s,m)){let{isAuthenticated:n}=m,l=e&&u&&(o||z).includes(u)?{metricId:{type:"surface",surface:e,navigationType:u,isAuthenticated:n,segment:t},annotateExperiments:r,constraints:[K,...i||[],...a?[Z]:[]],pwtStaticContext:m}:null;(0,b.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:u,isAuthenticated:n}});let d=!X.has(s);h({type:"INIT_ROUTE",payload:{metricConfig:l,startTime:s?s.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!d}}),d&&X.add(s)}let y=_();if((0,n.useEffect)(()=>()=>{X.delete(s)},[s]),(0,n.useEffect)(()=>{let e=e=>{h({type:"ABORT",reason:e})};l.Z.onSessionPause(e);let i=window.innerHeight,t=window.innerWidth,n=()=>{var e,l,a;let r=Math.abs(window.innerHeight-i),o=Math.abs(window.innerWidth-t),s=window.innerHeight!==i,d=window.innerWidth!==t,u={handler:(0,O.H)(),deviceType:null!==(e=null==m?void 0:m.deviceType)&&void 0!==e?e:"unknown",isAuthenticated:null!==(l=null==m?void 0:m.isAuthenticated)&&void 0!==l?l:"unknown",platform:null!==(a=g.userAgent.platform)&&void 0!==a?a:"unknown"};(0,b.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...u,heightChanged:s,widthChanged:d}}),s&&(0,b.S0)("webapp.PwtLogger.resizeHeightDelta",r,{sampleRate:1,tags:u}),d&&(0,b.S0)("webapp.PwtLogger.resizeWidthDelta",o,{sampleRate:1,tags:u}),window.removeEventListener("resize",n);let c=(null==m?void 0:m.deviceType)==="phone"&&(!d&&s&&r<=150||!s&&!d)||(null==m?void 0:m.deviceType)==="desktop"&&!s&&!d;if(c){(0,b.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...u,heightChanged:s,widthChanged:d}});return}h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",n),()=>{let i=_();M("handling unmount",i),"TIMING"===i.status&&B(i,"unmount"),l.Z.removePauseListener(e),window.removeEventListener("resize",n)}},[]),"TIMING"!==y.status||!y.constraintMap[K])return{state:y,context:null};let{startTime:v,metricConfig:f}=y;return{state:y,context:{abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,i,t)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:i,annotationType:t}}),addSubspan:(e,i,t,n={},l={},a=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:i,endTime:t,annotations:n,binaryAnnotations:l,parentId:a}}),getId:()=>v,getMetricId:()=>f.metricId,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:R.Z?R.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:f.constraints.includes(Z)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,i={},t={},n=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:i,binaryAnnotations:t,parentId:n}}),stopSubspan:(e,i={},t={},n=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:i,binaryAnnotations:t,parentId:n}})}}},Q=()=>{let e=(0,u.E)(),i=!!e;(0,n.useEffect)(()=>{if(i){let i=null==e?void 0:e.getMetricId(),t=i?(0,a.KJ)(i):null;(0,o.H)("nested_pwt_surface",{action:t})}},[i])};function ee({children:e,...i}){var t;let n=(0,d.fM)(),l=Y(n),a=[...null!==(t=i.annotateExperiments)&&void 0!==t?t:[]],r={...i,annotateExperiments:a,navigationInfo:{navigationType:l,clientNavigation:n}},{context:o}=J(r);return Q(),(0,N.jsx)(u.S,{value:o,children:e})}},282442:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s});var n=t(574155),l=t(667294),a=t(39983),r=t(41162),o=t(677263);function s({children:e,isAtEndOfFeed:i,pinData:t,itemCount:s,includeBackgroundImages:d=!1,includeVideos:u=!1,includeSections:c=!1}){var p;let m=null===(p=(0,o.N5)())||void 0===p?void 0:p.isAuthenticated;return m||(c=!0),(0,n.Z)({pinData:t,isAtEndOfFeed:i,includeBackgroundImages:d,includeVideos:u,includeSections:c}),!function(e){let i=(0,r.E)(),t=(0,l.useRef)(null);(0,l.useEffect)(()=>{e!==t.current&&(t.current=e,i&&(0,a.ZP)(a.at))},[!!i,e])}(s),e}},768337:(e,i,t)=>{"use strict";t.d(i,{Z:()=>n});let n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},411171:(e,i,t)=>{"use strict";function n(e){let i=Object.keys(e);if(i.length>0){let t=i.sort((i,t)=>e[t]-e[i]).slice(0,3);return t}return null}function l(e){let i=Object.values(e);if(i.length>0){let e=i.reduce((e,i)=>e+i,0);return e}return 0}function a(e,i,t){var n,l;return!e.isPromoted&&!e.isDownstreamPromotion&&!!(null!==(n=e.videos)&&void 0!==n&&n.entityId||e.storyPinDataId)&&!i&&(!(null!==(l=e.board)&&void 0!==l&&l.isCollaborative)||!e.board.collaboratedByMe)&&!t}t.d(i,{At:()=>n,J6:()=>a,Ud:()=>l})},895200:(e,i,t)=>{"use strict";function n({m:e=0,h:i=0}){return{m:e,h:i,rm:i>0?0:e,rh:i<=0?i:e>45?i+1:e>15?i+.5:i}}function l(e){return n({m:Math.floor(e%3600/60),h:Math.floor(e/3600)})}t.d(i,{X:()=>n,u:()=>l})},157785:(e,i,t)=>{"use strict";t.d(i,{Z:()=>p});var n=t(667294),l=t(883119),a=t(101789),r=t(342693),o=t(44081),s=t(536042),d=t(785893);function u({category:e,ingredients:i,textSize:t="300"}){return(0,d.jsxs)(l.xu,{children:[e&&(0,d.jsx)(l.xu,{children:(0,d.jsx)(l.xv,{weight:"bold",size:t,children:e})}),(0,d.jsx)("ul",{children:i.map((e,i)=>(0,d.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,d.jsx)(l.xu,{marginTop:1,children:(0,d.jsxs)(l.xv,{size:t,children:[" ",e.amt||null," ",e.name]})})},i))})]})}var c=t(789907);function p({recipeProps:e,marginOverrides:i}){let t=(0,s.ZP)(),{image:p,name:m,categorizedIngredients:_}=e.recipe,h=t._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');if(_&&_.length){let e=[];_.forEach(i=>e.push(i.ingredients))}return(0,d.jsx)(l.xu,{marginTop:8,children:(0,d.jsxs)(c.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,d.jsx)("meta",{content:m,itemProp:"name"}),(0,d.jsx)("meta",{content:p,itemProp:"image"}),(0,d.jsx)(a.Z,{heading:h,children:(0,d.jsx)(o.Z,{children:(0,d.jsx)(l.xu,{marginTop:4,children:_.map(({category:e,ingredients:t},a)=>{let o=`ingredient-${a}`;return(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(l.xu,{marginBottom:(null==i?void 0:i.ingredientMarginBottom)||4,children:(0,d.jsx)(u,{category:e,ingredients:t,textSize:r.n})})},o)})})})})]})})}},277731:(e,i,t)=>{"use strict";t.d(i,{Z:()=>c});var n,l=t(667294);t(167912);var a=t(883119),r=t(450600),o=t(31407),s=t(785893);let d=void 0!==n?n:n=t(875979),u=e=>({aggregateRating:e.aggregate_rating&&{bestRating:e.aggregate_rating.best_rating,ratingValue:e.aggregate_rating.rating_value,reviewCount:e.aggregate_rating.review_count},cookTimes:e.cook_times&&{cook:e.cook_times.cook&&{m:e.cook_times.cook.m},prep:e.cook_times.prep&&{m:e.cook_times.prep.m}}});function c({recipeKey:e}){var i,t,n,c;let{data:p}=(0,r.u)(d,e,{useLegacyAdapter:u});if(null!=p&&null!==(i=p.aggregateRating)&&void 0!==i&&i.ratingValue&&p.aggregateRating.reviewCount){let e="number"==typeof(null===(t=p.cookTimes)||void 0===t?void 0:null===(n=t.cook)||void 0===n?void 0:n.m)&&"number"==typeof(null===(c=p.cookTimes.prep)||void 0===c?void 0:c.m)?`${p.cookTimes.cook.m+p.cookTimes.prep.m} minutes \xb7 `:"";return(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(o.Z,{rating:p.aggregateRating.ratingValue,max_rating:p.aggregateRating.bestRating,width:12},p.aggregateRating.ratingValue),(0,s.jsx)(a.xv,{inline:!0,size:"200",children:` ${p.aggregateRating.reviewCount} \xb7 ${e}`})]})}return null}},711443:(e,i,t)=>{"use strict";function n(e,i,t){let n=[...e],l=n.splice(i,1)[0];return n.splice(t,0,l),n}t.d(i,{Z:()=>n})},282802:(e,i,t)=>{"use strict";t.d(i,{B:()=>c,LC:()=>d,P2:()=>s,fH:()=>u,gf:()=>p});var n=t(667294),l=t(310646),a=t(71985),r=t(785893);let o=(0,n.createContext)();function s({children:e,initialValue:i}){let[t,s]=(0,n.useState)(i),d=(0,n.useMemo)(()=>({requestContext:t,updateRequestContext:e=>{let i={...t,...e};(0,l.Ak)(t,e)||s(i),(0,a.J)(i)}}),[t]);return(0,r.jsx)(o.Provider,{value:d,children:e})}let d=({children:e})=>{let i=(0,n.useContext)(o);if(!i)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return e(i.requestContext)},u=({children:e})=>{let i=(0,n.useContext)(o);if(!i)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return e(i.requestContext)};function c(){let e=(0,n.useContext)(o);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function p(){let e=(0,n.useContext)(o);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},71985:(e,i,t)=>{"use strict";let n;function l(e){n=e}function a(){return n}t.d(i,{J:()=>l,l:()=>a})},819079:(e,i,t)=>{"use strict";t.d(i,{Z:()=>p});var n=t(667294),l=t(702664),a=t(616550),r=t(31086),o=t(282802),s=t(575794),d=t(33319);let u={},c=({httpStatus:e})=>!e||e>=500;function p(e){let{enabledRouteRefresh:i,__unstableEnableSuspenseSupport:t,headers:p,name:m,noCache:_,options:h,schema:g}=null!=e?e:{name:"DisabledResource",options:null},y=!e,v=(0,l.useDispatch)(),f=(0,r.Z)(h),x=(0,n.useRef)(null),b=(0,n.useRef)(),S=(0,a.useHistory)(),P=S&&"POP"!==S.action,k=e=>(e[m]||u)[f]||u,w=(0,l.useSelector)(({resources:e})=>k(e).nextBookmark),I=(0,l.useSelector)(({resources:e})=>k(e).data),T=(0,l.useSelector)(({resources:e})=>k(e).auxData),j=(0,l.useSelector)(({resources:e})=>k(e).error),A=(0,l.useSelector)(({resources:e})=>!!k(e).fetching),E="object"==typeof T&&"string"==typeof(null==T?void 0:T.pagination_group)?T.pagination_group:void 0,C=!!j||void 0!==I,F=C&&!A&&w===d.q,R=!!(C&&i&&P&&!y),[L,D]=(0,n.useState)(R),O=(0,n.useCallback)((e,i)=>{x.current=v((0,s.U)(m,{options:h,schema:g,bookmark:e,headers:p,paginationGroup:i}))},[v,m,f,g,p]),N=()=>{x.current=v((0,s.b)(m,{options:h,schema:g,headers:p}))},{isBot:z}=(0,o.B)(),M=()=>{if(!y&&b.current!==f){let e=void 0===b.current;b.current=f,!C&&!A||e&&j&&c(j)?O():(!z&&_||R)&&N()}};(0,n.useEffect)(()=>{t||M()}),t&&M();let K=(0,n.useCallback)(()=>{y||(N(),D(!0))},[y,s.b,m,f,p,D]),Z=(0,n.useCallback)(()=>{!w||F||A||y||O(w,E)},[y,O,w,F,A,E]);if(x.current){if(C&&!A)x.current=null;else if(t)throw x.current}let B=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:Z,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:K}),U={auxData:T,data:I,error:j,fetchMore:Z,isAtEnd:F,isFetching:A,isLoaded:C,isRefreshing:L,nextBookmark:w,refresh:K};return(0,l.shallowEqual)(U,B.current)||(L&&(B.current.data||!R)&&!(0,l.shallowEqual)(U.data,B.current.data)&&(U.isRefreshing=!1,D(!1)),B.current=U),B.current}},664334:(e,i,t)=>{"use strict";t.d(i,{Z:()=>d});var n=t(819079),l=t(802071),a=t(616550),r=t(282802),o=t(549201),s=t(739425);function d({getOptions:e,checkExperiments:i,disableFetch:t,...d}){let u=function(){let e=(0,l.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee,isPartner:!!e.isPartner,username:e.username||void 0,firstHomeFeedRequestAfterNux:e.firstHomeFeedRequestAfterNux||void 0}}(),{args:c,fetchDisabled:p}=function({checkExperiments:e,disableFetch:i,viewer:t}){var n;let l=(0,a.useLocation)(),d=(0,a.useRouteMatch)(),u=(0,r.B)(),c=function({advertiser:e,deviceType:i,location:{pathname:t,search:n},inviteCode:l,match:{params:a,path:r},viewer:o}){let d={inviteCode:l,matchPath:r,params:a,parsedSearch:(0,s.mB)(n),pathname:t,search:n},u={country:o.country||void 0,id:o.id||void 0,isAuth:o.isAuth,isEmployee:!!o.isEmployee,isPartner:!!o.isPartner,username:o.username||void 0,firstHomeFeedRequestAfterNux:o.firstHomeFeedRequestAfterNux||void 0};return{advertiser:e,deviceType:i,routeData:d,user:u}}({advertiser:u.advertiser,deviceType:(0,o.Mq)(u),location:l,match:d,viewer:t,inviteCode:null!==(n=u.inviteCode)&&void 0!==n?n:""}),p=!!i&&i(c),m=!!p||!e||e(u.experimentsClient);return{args:c,fetchDisabled:p||!m}}({checkExperiments:i,disableFetch:t,viewer:u}),m=e?e(c):void 0;return(0,n.Z)(p?null:{options:m,...d})}},789907:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(785893);let l=e=>{let i=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,n.jsx)("div",{"data-test-id":"rich-pin-information",...i,children:e.children||null})}},792953:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(883119),l=t(785893);function a({accessibilityLabel:e}){return(0,l.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},497088:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(667294),l=t(785893);function a({children:e,fallback:i}){return(0,l.jsx)(n.Suspense,{fallback:i||null,children:e})}},643183:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(497088);let l=n.Z},946579:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(667294);let l=(0,n.createContext)("undefined"!=typeof window?window:null)},700746:(e,i,t)=>{"use strict";t.d(i,{Hd:()=>d,_R:()=>o,gi:()=>a,lw:()=>n,oD:()=>l,wF:()=>s,zh:()=>r});let n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins",MY_CONTENT:"my_content"},l=e=>{let i=Object.values(n).find(i=>i===e);return null!=i?i:void 0},a=e=>{switch(e){case n.PINS:return 0;case n.PINS_MINE:return null;case n.PINS_BUYABLE:return 1;case n.PINS_VIDEO:return 2;case n.BOARDS:return 3;case n.USERS:return 4;default:return null}},r=e=>{switch(e){case 0:return n.PINS;case 1:return n.PINS_BUYABLE;case 2:return n.PINS_VIDEO;case 3:return n.BOARDS;case 4:return n.USERS;default:return null}},o=e=>{switch(e){case n.PINS_MINE:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;case n.MY_CONTENT:return 189;case n.PINS:default:return 43}},s=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:case n.MY_CONTENT:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},d=(e,i)=>{if(i)switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}switch(e){case n.USERS:return 1000432;case n.PINS_BUYABLE:return 1000433;case n.PINS:default:return 1000269}}},649715:(e,i,t)=>{"use strict";function n(e){return(e||"").trim().replace(/\s+/g," ")}t.d(i,{Z:()=>n})},829488:(e,i,t)=>{"use strict";function n({appliedProductFilters:e,autoCorrectionDisabled:i,filters:t,query:n,scope:l,selectedPinImgSig:a,user:r}){let o=[l,t,e,r,a,n].map(e=>null!=e?e:"").join(":");return i?"auto-correction-disabled:"+o:o}function l(e){let{autoCorrectionDisabled:i,appliedProductFilters:t,appliedFilters:n,filters:l,guidedSearchQuery:a,selectedPinImgSig:r,query:o,rs:s,scope:d,bubbleId:u,user:c}=e,p=function({autoCorrectionDisabled:e=!1,appliedFilters:i=null,appliedProductFilters:t=null,bubbleId:n=null,filters:l=null,query:a=null,rs:r="direct_navigation",scope:o="pins",selectedPinImgSig:s=null,sourceId:d=null,user:u}){return{article:n,applied_filters:i,appliedProductFilters:t,auto_correction_disabled:e,corpus:s?"personalize":null,customized_rerank_type:s?"manas_graph_sage_only_wand_rewrite":null,filters:l,query:a,query_pin_sigs:s,redux_normalize_feed:!0,rs:r,scope:o,source_id:d,user:u}}({autoCorrectionDisabled:!!i,appliedProductFilters:t,appliedFilters:n,filters:l,guidedSearchQuery:a,query:o,rs:s,scope:d,selectedPinImgSig:r,bubbleId:u,user:c});return{name:"BaseSearchResource",options:p}}t.d(i,{Ht:()=>l,Tb:()=>n})},446077:(e,i,t)=>{"use strict";t.d(i,{H5:()=>h,Xn:()=>m,an:()=>_});var n=t(739425);let l="BING",a="GOOGLE",r="YAHOO",o="YANDEX",s="RAKUTEN",d="NAVER",u="AMP_CACHE",c="DUCKDUCKGO",p=[a,l,r,o,s,d,u,c];function m(e){return p.includes(function(e){let{hostname:i}=(0,n.Qc)(e,!0);if(i&&e){if(i.includes("google.")||e.includes("android-app://com.google.android.googlequicksearchbox"))return a;if(i.includes("bing."))return l;if(i.includes("yahoo."))return r;if(i.includes("yandex."))return o;else if(i.includes("rakuten."))return s;else if(i.includes("naver."))return d;else if(i.includes("duckduckgo."))return c;else if(i.includes(".cdn.ampproject.org"))return u}return""}(e))}function _(e){return e||"undefined"!=typeof document&&document.referrer||""}let h=e=>{let i=new URL(e);return i.searchParams.set("nii","t"),i.href}},114935:(e,i,t)=>{"use strict";function n(e,i){return e===i?0!==e||0!==i||1/e==1/i:e!=e&&i!=i}function l(e,i){if(n(e,i))return!0;if("object"!=typeof e||null===e||"object"!=typeof i||null===i)return!1;let t=Object.keys(e),l=Object.keys(i);if(t.length!==l.length)return!1;for(let l=0;l<t.length;l+=1)if(!Object.prototype.hasOwnProperty.call(i,t[l])||!n(e[t[l]],i[t[l]]))return!1;return!0}t.d(i,{Z:()=>l})},963375:(e,i,t)=>{"use strict";t.d(i,{GZ:()=>n,OE:()=>l,zX:()=>a});let n=246,l=197,a=236},868489:(e,i,t)=>{"use strict";t.d(i,{o$:()=>l,ty:()=>a,vE:()=>r});var n=t(583592);let{Provider:l,MaybeConsumer:a,useMaybeHook:r}=(0,n.Z)("inviteContext")},671915:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s,t:()=>d});var n=t(667294),l=t(167912),a=t(690108);function r(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let o={};class s extends n.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){let{invite_code:e}=this.props;a.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then(i=>{if(i&&i.resource_response){let t=i.resource_response.data;o[e]=t,this.setState({invite:t,loaded:!0})}}).catch(()=>{this.setState({invite:null,loaded:!0})})}render(){let{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}class d extends n.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){let{invite_code:e,relayEnvironment:i,inviteQuery:t}=this.props;(0,l.fetchQuery)(i,t,{invite_code:e}).subscribe({next:e=>{var i;if(null!==(i=e.v3GetInviteCodeQuery)&&void 0!==i&&i.data){let i=e.v3GetInviteCodeQuery;this.setState({invite:i,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){let{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}},657482:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(890304);let l=(0,n.Z)({type:"session"}),a=l},479958:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(883119),l=t(536042),a=t(785893);function r({height:e,isDenseView:i,rounding:t,width:r,color:o}){let s=(0,l.ZP)();return(0,a.jsx)(n.xu,{color:o||"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:t,overflow:"hidden",width:r,height:e,"data-test-id":"unavailable-pin",children:(0,a.jsxs)(n.kC,{direction:"column",alignItems:"center",children:[(0,a.jsx)(n.xu,{paddingY:i?2:4,children:(0,a.jsx)(n.JO,{accessibilityLabel:s._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,a.jsx)(n.xv,{weight:"bold",children:s._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!i&&(0,a.jsx)(n.xu,{paddingY:1,children:(0,a.jsx)(n.xv,{children:s._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},634004:(e,i,t)=>{"use strict";t.d(i,{Wr:()=>c,Hx:()=>m,RC:()=>p});var n=t(667294),l=t(583592),a=t(681468),r=t(133244),o=t(785893);let s=()=>Promise.resolve().then(t.bind(t,681468)),{Provider:d,useHook:u}=(0,l.Z)("IdeaPinVideoPlayer");function c({children:e}){let[i,t]=(0,r.Z)(s,a.initialState),l=(0,n.useMemo)(()=>({dispatch:t,ideaPinVideoPlayerControls:i}),[t,i]);return(0,o.jsx)(d,{value:l,children:e})}function p(){let{dispatch:e}=u();return(0,n.useMemo)(()=>({updateSeekTime:(i,t)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:i,pinId:t||""}})},clearSeekTime:i=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:i||""}})},updateSeekingIdeaPin:i=>{i?e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:i}}):e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:i,seekTime:void 0}})},updateCurrentTime:i=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:i}})},updateDuration:i=>{e({type:"UPDATE_DURATION",payload:{duration:i}})}}),[e])}function m(){let{ideaPinVideoPlayerControls:e}=u();return e}},681468:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>l,initialState:()=>n});let n={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function l(e=n,i){switch(i.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[i.payload.pinId]:i.payload.seekTime},seekTime:i.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:i.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:i.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:i.payload.duration}};default:return e}}},637362:(e,i,t)=>{"use strict";t.d(i,{J:()=>n,Z:()=>l});let n=-1;function l(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},729522:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(540975);let l=/\{\{\s*(\w+)\s*\}\}/g,a=(e,i)=>(0,n.Z)(l,e,i)},686473:(e,i,t)=>{"use strict";t.d(i,{Z:()=>n});let n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},540975:(e,i,t)=>{"use strict";t.d(i,{Z:()=>n});let n=(e,i,t)=>i?i.replace(e,(e,i)=>t&&Object.prototype.hasOwnProperty.call(t,i)?t[i]:""):""},493851:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(729522),l=t(686473);let a=(e,i)=>{let t={};return Object.keys(i).forEach(e=>{t[e]=i[e]?(0,l.Z)(i[e].toString()):""}),(0,n.Z)(e,t)}},716793:(e,i,t)=>{"use strict";function n(e){return e.replace(/[_.-](\w|$)/g,(e,i)=>i.toUpperCase())}t.d(i,{Z:()=>n})},99220:(e,i,t)=>{"use strict";t.d(i,{Z:()=>v});var n=t(667294),l=t(758360),a=t(310561),r=t(282802),o=t(114935),s=t(291986),d=t(583592);let{Provider:u,useMaybeHook:c}=(0,d.Z)("timeSpentContext");var p=t(393729),m=t(525104),_=t(785893);function h(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class g extends n.Component{constructor(e){super(e),h(this,"componentWillUnmount",()=>{this.unregisterComponent()}),h(this,"getContext",()=>{let{clientTrackingParams:e,component:i,element:t,objectId:n,timeSpentContext:l,view:a,viewParameter:r}=this.props;return{view:a||(null==l?void 0:l.view),viewParameter:r||(null==l?void 0:l.viewParameter),component:i||(null==l?void 0:l.component),element:t,objectId:n||(null==l?void 0:l.objectId),clientTrackingParams:e||(null==l?void 0:l.clientTrackingParams),getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),h(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),h(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:i=!1}=this.props;if(i&&e&&e.getGrandparentUuid){let i=e.getGrandparentUuid();if(i)return i}return e&&e.getParentUuid?e.getParentUuid():void 0}),h(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),h(this,"getTimedPair",()=>this.state.timedPair),h(this,"setTimedPair",e=>this.setState({timedPair:e})),h(this,"isRegistered",!1),h(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),h(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),h(this,"handleVisibilityChange",e=>{let{intersectionRatio:i}=e[0],{bottom:t,left:n,right:l,top:a}=e[0].intersectionRect;i>0?this.registerComponent():0===i&&(0===t&&0===n&&0===l&&0===a?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new s.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,_.jsx)(u,{value:this.getContext(),children:(0,_.jsx)(l.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}function y(e){var i;let t=(0,a.Hv)(),l=c(),o=(0,p.w)(),s=(0,m.H0)(),{requestIdentifier:d=""}=(0,r.B)(),u={app_instance_id:d.slice(0,8),...null!==(i=e.auxData)&&void 0!==i?i:{}};return(0,n.useEffect)(()=>{null==o||o.setHistoryStackContext(t)},[t,o]),(0,n.useEffect)(()=>{null==o||o.setPins(null!=s?s:{})},[s,o]),o?(0,_.jsx)(g,{...e,auxData:u,timeSpentContext:l,timeSpentManager:o,children:e.children}):e.children}y.displayName="TimeSpent";let v=y},469093:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(739425);function l(){let e=(0,n.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";let i=document.referrer;return i?i.includes("/t.co/")?"twitter":i.includes("cdn.ampproject.org")?"amp":i.includes("google.")?"google":i.includes("bing.")?"bing":i.includes("facebook.")?"facebook":"other":"direct"}},777849:(e,i,t)=>{"use strict";t.d(i,{U:()=>a,Z:()=>r});var n=t(883119),l=t(785893);let a=", ";function r(){return(0,l.jsx)(n.xu,{display:"visuallyHidden",children:a})}},938818:(e,i,t)=>{"use strict";t.d(i,{Qy:()=>d,Wu:()=>c,ZP:()=>u});var n=t(616550),l=t(883119),a=t(282802),r=t(739425),o=t(802071),s=t(785893);let d=()=>{let e=(0,o.Z)(),{isInternalIP:i}=(0,a.B)(),t=(0,n.useLocation)();return(i||e.isAuth&&e.isEmployee)&&Object.keys((0,r.mB)(t.search)).some(e=>e.startsWith("deb_"))};function u({data:e}){return(0,s.jsx)(l.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}let c=e=>(0,s.jsx)(l.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,s.jsx)(u,{...e})})},910717:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(883119),l=t(785893);function a({ariaHidden:e=!1,color:i="darkGray",size:t}){return(0,l.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,l.jsx)(n.xv,{color:i,inline:!0,size:null!=t?t:"200",children:"\xb7"})})}},993926:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s});var n=t(667294),l=t(883119),a=t(910717),r=t(785893);function o(e){return null!=e}function s({additionalPadding:e,color:i="darkGray",inline:t,items:s}){let d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(a.Z,{color:i})}):(0,r.jsx)(a.Z,{color:i}),u=s.filter(o).reduce((e,i,t)=>[...e,0!==t?d:null,i],[]).filter(o).map((e,i)=>(0,r.jsx)(n.Fragment,{children:e},i));return 0===u.length?null:t?(0,r.jsx)(l.xu,{children:u}):(0,r.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:u})}},769340:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s,n:()=>r});var n=t(883119),l=t(667294),a=t(785893);function r({items:e,itemWidth:i,itemGap:t,numRows:n=1,actionItemType:a}){let r;let[o,s]=function(){let[e,i]=(0,l.useState)(0),t=(0,l.useRef)(null),n=(0,l.useCallback)(()=>{t.current&&i(t.current.clientWidth)},[t]);return(0,l.useEffect)(()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[n]),(0,l.useEffect)(n),[e,t]}(),d=Math.floor((o+t)/(i+t))*n||n,u=e.slice(0,d),c=[];switch(a){case"nextFour":d>=e.length?c=[u.pop()]:(u.pop(),c=e.slice(d-1,d+3));break;case"one":r=d>e.length?e[Math.floor(e.length/2)]:u.pop()}return{containerRef:s,itemsToRender:u,actionItem:r,nextFourItems:c}}let o={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function s({children:e,itemGap:i,containerRef:t,numRows:l=1,rowAlignment:r="center"}){let s=o[r];return(0,a.jsx)(n.xu,{ref:t,width:"100%",children:(0,a.jsx)(n.kC,{alignItems:"center",justifyContent:s.outer,children:(0,a.jsx)(n.kC,{justifyContent:s.inner,gap:{row:Math.floor(i/4),column:0},wrap:l>1,children:e})})})}},105314:(e,i,t)=>{"use strict";t.d(i,{M:()=>r,Q:()=>a});var n=t(667294);let l=(0,n.createContext)(null),a=()=>(0,n.useContext)(l),r=l.Provider},348672:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(105314);let l=()=>{var e;return(null===(e=(0,n.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||(()=>{})}},3060:(e,i,t)=>{"use strict";t.d(i,{Ag:()=>a,C0:()=>s,L1:()=>p,Vi:()=>r,YD:()=>c,kS:()=>l,oo:()=>o,p3:()=>m,vC:()=>d,vI:()=>u});var n=t(957286);let l="https://www.pinterest.com/business/hub/",a="https://www.pinterest.com/homefeed/",r="www.pinterest.com",o="https://help.pinterest.com",s=`${(0,n.Z)({site:"www"})}`,d=(0,n.Z)({site:"developers"}),u=`${(0,n.Z)({site:"sterling"})}`,c=`${(0,n.Z)({site:"analytics"})}`,p=`${(0,n.Z)({site:"trends"})}`,m=`${(0,n.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`},769623:(e,i,t)=>{"use strict";function n(e){if((e||"").includes("--")){let i=e.split("--"),t=i.pop();return{text:i.join("--"),pinId:t}}return{text:"",pinId:e}}t.d(i,{Z:()=>n})},549201:(e,i,t)=>{"use strict";t.d(i,{HG:()=>c,Kf:()=>r,Mq:()=>l,Wb:()=>u,ZP:()=>p,dA:()=>o,ds:()=>s,ml:()=>d});var n=t(282802);function l(e){let{isMobile:i,isTablet:t}=e.userAgent;return t?"tablet":i?"phone":"desktop"}let a=()=>{let e=(0,n.B)();return l(e)},r=e=>"phone"===e,o=e=>"tablet"===e,s=e=>"desktop"===e,d=()=>r(a()),u=()=>o(a()),c=()=>s(a()),p=a},133244:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(667294);function l(e,i){let t=(0,n.useRef)([]),[l,a]=(0,n.useState)(),[r,o]=(0,n.useReducer)(null!=l?l:()=>i,i),s=(0,n.useCallback)(i=>{l?o(i):(t.current.length||e().then(e=>{a(()=>e.default)}),t.current=[...t.current,i])},[e,l]);return(0,n.useEffect)(()=>{l&&(t.current.forEach(o),t.current=[])},[l]),[r,s]}},272109:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(667294);let l=e=>{(0,n.useEffect)(e,[])}},806681:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r,q:()=>a});var n=t(667294);let l=()=>{let[e,i]=(0,n.useState)(!1),[t,l]=(0,n.useState)(!1),[a,r]=(0,n.useState)(!1);return{active:e,focused:t,hovered:a,onBlur:()=>{l(!1),i(!1)},onFocus:()=>l(!0),onMouseDown:()=>i(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),i(!1)},onMouseUp:()=>i(!1)}};function a({children:e}){let i=l();return e(i)}let r=l},464649:(e,i,t)=>{"use strict";t.d(i,{G:()=>o,Z:()=>s});var n=t(667294),l=t(616550),a=t(785893);let r=(0,n.createContext)(!0);function o({children:e}){let i=(0,l.useLocation)(),[t,o]=(0,n.useState)(!0),s=(0,n.useRef)(i);return(0,n.useEffect)(()=>{s.current!==i&&(s.current=i,o(!1))},[i]),(0,a.jsx)(r.Provider,{value:t,children:e})}function s(){return(0,n.useContext)(r)}},94111:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(667294);let l=()=>{let e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},802071:(e,i,t)=>{"use strict";t.d(i,{$:()=>l,Z:()=>r});var n=t(583592);let{Provider:l,useHook:a}=(0,n.Z)("viewer"),r=a},245438:(e,i,t)=>{"use strict";t.d(i,{Z:()=>m});var n=t(667294),l=t(973935),a=t(785893);function r(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let o=new Map,s=null,d=e=>{e.forEach(e=>{let i=o.get(e.target);i&&i(e)})},u=e=>{s.unobserve(e),o.delete(e)},c=(e,i="-64px 0px 0px 0px",t)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:i,threshold:[0,.5,1]};s=s||new window.IntersectionObserver(d,n),o.set(e,t),s.observe(e)},p=e=>o.has(e),m=e=>{class i extends n.Component{constructor(...e){super(...e),r(this,"seen",!1),r(this,"enter",e=>{let i=e.intersectionRatio>0||e.isIntersecting;this.seen=i,this.seen&&this.props.onVisibilityChanged(!0)}),r(this,"leave",()=>{let e=this._node;e&&p(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),r(this,"observe",e=>{try{this._node=l.findDOMNode(this)}catch(e){return}if(!this._node)return;let{inAdsDesktopVideoExperiment:i}=this.props,t=this._node;c(t,e,e=>{if(!o.has(t))return;let n=i?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,l=this.props.trackFullVisible?e.intersectionRatio>=1:n,a=this.props.trackFullVisible?0===e.intersectionRatio:!l;!this.seen&&l?this.enter(e):this.seen&&a&&this.leave()})})}componentDidMount(){let{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){let e=this._node;e&&(this.leave(),u(e))}render(){return(0,a.jsx)(e,{...this.props})}}return r(i,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),i}},83503:(e,i,t)=>{"use strict";t.d(i,{Z:()=>u});var n=t(667294);let l=new Map,a=null,r=e=>{e.forEach(e=>{let i=l.get(e.target);i&&i(e)})},o=e=>{a.unobserve(e),l.delete(e)},s=(e,i="-64px 0px 0px 0px",t)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:i,threshold:[0,.5,1]};a=a||new window.IntersectionObserver(r,n),l.set(e,t),a.observe(e)},d=e=>l.has(e);function u({onVisibilityChanged:e,inAdsDesktopVideoExperiment:i,trackFullVisible:t,rootMargin:a}){let r=(0,n.useRef)(null),u=!1,c=i=>{let t=i.intersectionRatio>0||i.isIntersecting;(u=t)&&e(!0)},p=()=>{r.current instanceof HTMLElement&&d(r.current)&&u&&(e(!1),u=!1)},m=(0,n.useCallback)(e=>{r.current instanceof HTMLElement&&s(r.current,e,e=>{if(!l.has(r.current))return;let n=i?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,a=t?e.intersectionRatio>=1:n,o=t?0===e.intersectionRatio:!a;!u&&a?c(e):u&&o&&p()})},[r.current]);return(0,n.useEffect)(()=>(m(a),()=>{r.current instanceof HTMLElement&&(p(),o(r.current))}),[m]),r}},782219:(e,i,t)=>{"use strict";t.d(i,{GW:()=>l,RL:()=>n,s4:()=>a});let n="ios",l="android",a="ipad"},566827:(e,i,t)=>{"use strict";function n(e,i){let{organicVideosAutoplaying:t,promotedVideosAutoplaying:n}=i,l={...t,...n};return l[e]&&l[e].currentTime}t.d(i,{Z:()=>n})},634923:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r,t:()=>a});let n=()=>{var e;return!(null!==(e=window)&&void 0!==e&&e.devicePixelRatio)||window.devicePixelRatio<=1?"1x":"2x"},l=()=>{var e,i;let t;let l="undefined"!=typeof window?null===(e=window.navigator)||void 0===e?void 0:null===(i=e.connection)||void 0===i?void 0:i.effectiveType:void 0,a=n();return l?"4g"===l?t="40-80":(a="1x",t="0-1"):t="unknown",{downloadSpeedGroup:t,screenDimension:a}};function a({vEXP3:e,vEXP4:i,vEXP5:t,vEXP6:n,vEXP7:a,v720P:r}){let{downloadSpeedGroup:o,screenDimension:s}=l(),d={"1x":e,"2x":t},u={"1x":a,"2x":a};return({unknown:d,"0-1":d,"1-5":{"1x":i,"2x":t},"5-10":{"1x":t,"2x":t},"10-20":{"1x":n,"2x":n},"20-40":u,"40-80":u,"80_or_above":u})[o][s]||r||void 0}function r(e){let{vHLSV3MOBILE:i,...t}=e,n=a(t),l=i||void 0;return n?{hlsv3:l,mp4:n}:{hlsv3:l}}},997394:(e,i,t)=>{"use strict";function n(e,i){let{organicVideosAutoplaying:t,promotedVideosAutoplaying:n}=i,l={...t,...n};return!!l[e]&&!l[e].paused}t.d(i,{Z:()=>n})},505204:(e,i,t)=>{"use strict";t.d(i,{$f:()=>a,Cy:()=>d,DR:()=>l,EB:()=>p,Fm:()=>s,Y7:()=>c,bR:()=>o,gJ:()=>r,lG:()=>u});var n=t(172045);let l=1,a=2,r=1e3,o=1e3,s=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function c(e){return e+"-"+(0,n.Z)()}function p(){return(0,n.Z)()}},736567:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a,e:()=>l});var n=t(117651);let l=e=>{if("undefined"==typeof window)return"";let i=0,t=document.querySelector('[data-test-id="header"]');if(null!==t){let{height:e}=t.getBoundingClientRect();i+=e}switch(e){case"AuthHomefeed":let n=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==n){let{height:e}=n.getBoundingClientRect();i+=e}break;case"SearchItem":let l=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==l){let{height:e}=l.getBoundingClientRect();i+=e}let a=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==a){let{height:e}=a.getBoundingClientRect();i+=e}}return`${-1*i}px 0px 0px 0px`},a=({videosDuration:e,vHLSV4VideoDuration:i,storyPinDataTotalVideoDuration:t})=>{let l=(0,n.Z)(e||i||t||0);return l}},684913:(e,i,t)=>{"use strict";t.d(i,{Z:()=>n});let n={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},791870:(e,i,t)=>{"use strict";function n(e){let i;switch(e){case 1:i=1;break;case 2:i=2;break;case 3:i=3;break;case 4:i=4;break;case 5:i=5;break;case 6:i=6}return i}t.d(i,{Z:()=>n})},452253:(e,i,t)=>{"use strict";function n({cropArea:{x:e,y:i,w:t,h:n},scaledWidth:l,scaledHeight:a}){return{x:e/l,y:i/a,w:t/l,h:n/a}}t.d(i,{Z:()=>n})},525010:(e,i,t)=>{"use strict";function n({cropArea:e,scaledWidth:i,scaledHeight:t}){let n=e.h||0,l=e.w||0,a=e.x||0,r=e.y||0;return{h:Math.floor(n*t),w:Math.floor(l*i),x:Math.floor(a*i),y:Math.floor(r*t)}}t.d(i,{Z:()=>n})},351116:(e,i,t)=>{"use strict";function n({cropArea:{x:e,y:i,w:t,h:n},cropSource:l,searchQuery:a,entry:r,entrySource:o,title:s,trafficSource:d}){let u=[];e>=0&&i>=0&&t>=0&&n>=0&&u.push(`x=${e}`,`y=${i}`,`w=${t}`,`h=${n}`),l&&u.push(`cropSource=${l}`),o&&u.push(`entrySource=${o}`),a&&u.push(`q=${a}`),s&&u.push(`full_feed_title=${encodeURIComponent(s)}`),d&&"unknown"!==d&&u.push(`rs=${d}`),r&&u.push(`entry=${r}`);let c=u.length?`?${u.join("&")}`:"";return c}t.d(i,{Z:()=>n})},732719:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(351116);function l({cropArea:e,cropSource:i,entry:t,entrySource:l,isProductPage:a,pinId:r,searchQuery:o,title:s,trafficSource:d,variant:u}){let c=(0,n.Z)({cropArea:e,cropSource:i,entry:t,entrySource:l,title:s,trafficSource:d,searchQuery:o}),p="";return a&&(p="stela"===u?"all/":"products/"),`/pin/${r}/${"stela"===u?"related-products/":"visual-search/"}${p}${c}`}},996344:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s});var n=t(667294),l=t(616550),a=t(739425),r=t(549201),o=t(272109);function s(){let e=(0,r.HG)(),{action:i}=(0,l.useHistory)(),{path:t}=(0,l.useRouteMatch)(),s=(0,l.useLocation)(),{entry:d}=(0,a.mB)(s.search),u="/pin/:id/related-products/all"===t,c="/pin/:id/visual-search/products"===t,[p,m]=(0,n.useState)(()=>{if("PUSH"!==i)return null;if(e){if(u&&("flashlight"===d||"stela"===d))return"feed_module";if("shop"===d)return"shop_the_look_module"}else if(c)return"feed_module";return null});return(0,o.Z)(()=>{m(null)}),p}},732192:(e,i,t)=>{"use strict";t.r(i),t.d(i,{RoleBasedAccessControlProvider:()=>x,useRoleBasedAccessControlContext:()=>f});var n=t(667294),l=t(583592),a=t(245410),r=t(819079),o=t(802071),s=t(771799),d=t(173085),u=t(716793);let c=e=>{let i={};for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&("object"!=typeof e[t]||null===e[t]||Array.isArray(e[t])?i[(0,u.Z)(t)]=e[t]:i[(0,u.Z)(t)]=c(e[t]));return i},p=(e,i)=>{let t=[];for(let n in e)n!==i&&t.push({id:n,...c(e[n])});let n=t.sort(({user:{businessName:e}},{user:{businessName:i}})=>e.localeCompare(i)),l=new Map;for(let e of n)l.set(e.id,e);return l},m={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},_=(e,i)=>{switch(i.type){case"LOAD_PROFILES":return{...e,profiles:i.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:i.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:i.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:i.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:i.payload};default:return e}},h=({dispatch:e,isEnabled:i,state:t})=>{let{orbacVisibility:l,disableProfileChanger:a,headerVisible:r}=t,o=(0,n.useCallback)(t=>{i&&e({type:"SET_ACTIVE_PROFILE",payload:t})},[i,e]),s=(0,n.useCallback)(t=>{i&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=t?t:!l})},[i,e,l]),d=(0,n.useCallback)(t=>{i&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=t?t:!a})},[i,e,a]),u=(0,n.useCallback)(t=>{i&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=t?t:!r})},[i,e,r]);return{changeProfile:o,toggleORBACVisibility:s,toggleDisableProfileChanger:d,toggleHeaderVisibility:u}},g=e=>{let[i,t]=(0,n.useReducer)(_,m),l=h({dispatch:t,isEnabled:e,state:i}),{activeProfile:a,orbacVisibility:r}=i;(0,n.useEffect)(()=>{let e=(0,d.qn)("orbacActiveProfile",!1);e&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,n.useEffect)(()=>{let e=(0,d.qn)("orbacVisibilty",!1);e&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,n.useEffect)(()=>{(0,d.Nh)("orbacVisibility",r)},[r]),(0,n.useEffect)(()=>{(0,d.Nh)("orbacActiveProfile",a)},[a]);let o=(0,n.useCallback)((e,i)=>{t({type:"LOAD_PROFILES",payload:p(e,i)})},[t]);return{state:i,actions:l,receiveProfiles:o}};var y=t(785893);let{Provider:v,useMaybeHook:f}=(0,l.Z)("RoleBasedAccessControlContext"),x=({children:e})=>{let i;let{checkExperiment:t}=(0,a.F)(),l=(0,o.Z)(),d=!!(l.isAuth&&l.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:u,actions:c,receiveProfiles:p}=g(d),{activeProfile:m,headerVisible:_,profiles:h=[]}=u,f=h?Array.from(h.values()):[],x=(0,s.Z)(f),b=!!l.isAuth&&f.length>0&&x,S=l.isAuth?l.id:"",P=l.isAuth?l.username:"",{changeProfile:k,toggleORBACVisibility:w,toggleDisableProfileChanger:I,toggleHeaderVisibility:T}=c;(0,n.useEffect)(()=>{if(d){if("string"==typeof x){k(x);return}m||k(S)}},[x,S,d,k,m]),(0,n.useEffect)(()=>{d&&(b&&!_&&T(!0),!b&&_&&T(!1))},[T,b,d,_,h]);let{data:j}=(0,r.Z)(d?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),A=null==j?void 0:j.profiles;l&&l.isAuth&&u.activeProfile===l.id?i={id:l.id,permissions:["OWNER"],user:{username:P,businessName:l.fullName,imgUrl:l.imageSmallUrl}}:m&&u.profiles&&(i=u.profiles.get(m)),(0,n.useEffect)(()=>{A&&p(A,S)},[p,A,S]);let E=u.profiles?Array.from(u.profiles.values()):[];return(0,y.jsx)(v,{value:{profiles:E,headerVisible:u.headerVisible,activeProfile:i,changeProfile:k,toggleORBACVisibility:w,toggleDisableProfileChanger:I,toggleHeaderVisibility:T},children:e})}},329689:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(245410),l=t(732192),a=t(771799);let r=()=>{let{checkExperiment:e}=(0,n.F)(),i=(0,l.useRoleBasedAccessControlContext)(),{activeProfile:t}=i||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,o=(0,a.Z)((null==i?void 0:i.profiles)||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return r&&(!s||o)&&t&&(t.viewerMeetsMfaRequirement||(t.permissions||[]).includes("OWNER"))?t:Object.freeze({})}},771799:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s});var n=t(616550),l=t(988014),a=t(245410),r=t(802071),o=t(525104);let s=e=>{var i,t,s,d;let u=(0,n.useLocation)(),c=(0,r.Z)(),p=(0,o.S6)(),{anyEnabled:m}=(0,a.F)().checkExperiment("web_m10n_business_access_orbac_www"),_=(0,n.useRouteMatch)("/:username"),h=null==_?void 0:null===(i=_.params)||void 0===i?void 0:i.username,g=(0,n.useRouteMatch)("/pin/:id"),y=null!=g&&null!==(t=g.params)&&void 0!==t&&!!t.id&&(null===(s=p(g.params.id))||void 0===s?void 0:null===(d=s.pinner)||void 0===d?void 0:d.id);if((0,l.ej)(u))return!1;if((0,l.RU)(u))return!0;if((0,l.mY)(u))return m;let v=e.concat(c.isAuth?{user:{username:c.username},id:c.id}:{}).find(e=>{let{user:i={},id:t}=e||{},{username:n}=i;return(!!n&&!!h||!!y&&!!t)&&(n===h||y===t)});return!!v&&v.id}},384722:(e,i,t)=>{"use strict";t.d(i,{D3:()=>d,DX:()=>o,KY:()=>u,Ms:()=>n,N1:()=>c,_P:()=>r,lJ:()=>a,nl:()=>l,q6:()=>s});let n=(e,i)=>{let t=e&&e.isAuth?e.username:"";return e&&i&&i.user&&i.user.username&&(t=i.user.username),t},l=(e,i)=>!!(i&&i.user&&e&&e.isAuth&&i.id!==e.id?i.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),a=(e,i)=>e&&e.isAuth&&i&&i.id&&i.id!==e.id?i.id:"",r=(e,i,t)=>{var n;return t&&t.user&&i&&i.isAuth&&t.id!==i.id?t.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},o=(e,i,t)=>t&&t.user&&e.isAuth&&t.id!==e.id?t.user.scheduledPinCount||0:e.isAuth&&i&&i.scheduled_pin_count||0,s=(e,i,t)=>{let n=e&&e.isAuth&&t&&t.id&&t.id!==e.id&&t.id===i;return!!n},d=(e,i,t)=>{let n=s(e,i,t)||e&&e.isAuth&&i===e.id;return!!n},u=(e,i,t)=>{let n=i&&i.owner&&i.owner.id||"";return d(e,n,t)};function c(e,i,t){let n=i?i.id:"";return d(e,n,t)}},515640:(e,i,t)=>{"use strict";t.d(i,{N:()=>p,t:()=>h});var n=t(667294),l=t(690108),a=t(463310),r=t(980124),o=t(519677),s=t(583592),d=t(245410),u=t(785893);let{Provider:c,useHook:p}=(0,s.Z)("LinkedAccount"),m=e=>{(0,a.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},_=e=>{r.Z.reportFacebookConversion(o.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),r.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),r.Z.reportLinkedInConversion(o.Z.LINKEDIN_PARTNER_ID,o.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),r.Z.reportGoogleConversion(o.Z.GOOGLE_ADWORDS_ID,o.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)};function h({children:e}){let[i,t]=(0,n.useState)(!1),[a,r]=(0,n.useState)([]),{checkExperiment:o}=(0,d.F)(),s=o("ppm_p_gate").anyEnabled,p=(0,n.useCallback)(({businessName:e,thirdPartyApps:i,thirdPartyMarketingTrackingEnabled:n,nextUrl:a})=>(t(!0),l.Z.create("BusinessOwnershipResource",{business_name:e,third_party_apps:i}).callCreate({showError:!0}).then(()=>{n&&_(s),t(!1),m(a)}).catch(e=>(t(!1),Promise.reject({error:e})))),[t,s]),h=(0,n.useMemo)(()=>({createLinkedBusinessAccount:p,linkedBusinessCreationLoading:i,userAccounts:a,userAccountsRetrieved:r}),[p,i,r,a]);return(0,u.jsx)(c,{value:h,children:e})}},886365:(e,i,t)=>{"use strict";t.d(i,{g:()=>m,I:()=>p});var n=t(667294),l=t(583592),a=t(532465),r=t(150361),o=t.n(r);let s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},d=(e=s,i)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===i.type)return{...e,showTypeaheadOverlay:i.payload};if("SET_CURRENT_VIDEO"===i.type){let{payload:t}=i,{pinId:n,isPromoted:l,currentTime:a,inVideoGridAutoplayExp:r}=t,{videosAutoplaying:s}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:u,organicVideosAutoplaying:c}=s,p=o()(u),m=o()(c);return!l&&d&&r?e:(l?p[n]={pinId:n,currentTime:a,paused:!1}:m[n]={pinId:n,currentTime:a,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:l?d:n,promotedVideosAutoplaying:p,organicVideosAutoplaying:m}})}if("SET_IS_AUTOPLAY"===i.type)return{...e,isAutoplay:i.payload};if("PAUSE_CURRENT_VIDEO"===i.type){let{payload:t}=i,{pinId:n,isPromoted:l,currentTime:a}=t,{videosAutoplaying:r}=e,{promotedVideosAutoplaying:s,organicVideosAutoplaying:d}=r,u=o()(s),c=o()(d);return l?u[n]={...u[n],paused:!0,currentTime:a}:c[n]={...c[n],paused:!0,currentTime:a},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:u,organicVideosAutoplaying:c}}}if("SET_APP_FOCUS_STATE"===i.type)return{...e,appInFocus:i.payload};if("SET_VIEWPORT_SIZE"===i.type)return{...e,viewportSize:i.payload};if("SET_FOOTER_VISIBILITY_STATE"===i.type)return{...e,footerPlusButtonVisible:i.payload};return e};var u=t(785893);let{Provider:c,useHook:p}=(0,l.Z)("AppUI");function m({children:e}){let[i,t]=(0,n.useReducer)(d,s),l=(0,n.useCallback)(e=>t({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),r=(0,n.useCallback)(e=>t({type:"SET_APP_FOCUS_STATE",payload:e}),[]),o=(0,n.useCallback)(e=>t({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,n.useCallback)(e=>t({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),m=(0,n.useCallback)(e=>t({type:"SET_IS_AUTOPLAY",payload:e}),[]),_=(0,n.useCallback)(e=>t({type:"SET_VIEWPORT_SIZE",payload:e}),[]),h=(0,n.useCallback)(e=>t({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),g=(0,n.useMemo)(()=>({pauseAutoplay:l,setCurrentVideo:o,setFooterPlusButtonVisible:p,setIsAutoplay:m,setViewportSize:_,toggleTypeaheadOverlay:h,setAppFocusState:r,appUI:i}),[l,o,p,m,_,h,r,i]);return(0,n.useEffect)(()=>{a.Z.onSessionResume(()=>{r(!0)}).onSessionPause(()=>{r(!1)})},[r]),(0,u.jsx)(c,{value:g,children:e})}},740089:(e,i,t)=>{"use strict";t.d(i,{Z:()=>c}),t(167912);var n,l=t(883119),a=t(450600),r=t(833897),o=t(785893);let s={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}},d=void 0!==n?n:n=t(45904),u=e=>({aggregatedPinData:e.aggregated_pin_data&&{pinTagsChips:e.aggregated_pin_data.pin_tags_chips&&e.aggregated_pin_data.pin_tags_chips.map(e=>{var i;return{entityId:e.id,image:(null===(i=e.images)||void 0===i?void 0:i["750x"])&&{height:e.images["750x"].height,url:e.images["750x"].url,width:e.images["750x"].width}}})}});function c({pinKey:e,enableCloseupLink:i,trackingParamsMap:t}){let{data:n,childDataKey__DEPRECATED:c}=(0,a.u)(d,e,{useLegacyAdapter:u}),{aggregatedPinData:p}=n,{pinTagsChips:m}=p||{},_=m&&m.length>=3?m.slice(0,3):[];return(0,o.jsx)(l.xu,{display:"flex",dangerouslySetInlineStyle:{__style:s.chipContainer},children:_.map(e=>{var n,a,d,u;let p=e.image||{},m=(0,o.jsx)(l.Ee,{alt:"",fit:"cover",naturalHeight:null!==(n=p.height)&&void 0!==n?n:1,naturalWidth:null!==(a=p.width)&&void 0!==a?a:1,role:"presentation",src:null!==(d=p.url)&&void 0!==d?d:""});return(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:s.chip},"data-test-id":"collageChip",children:(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:s.chipInner},position:"relative",children:(0,o.jsx)(l.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,o.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:i?(0,o.jsx)(r.Z,{sizing:"fullSize",collageChipId:null!==(u=e.entityId)&&void 0!==u?u:"",pinKey:c,trackingParamsMap:t,children:m}):m})})})},e.entityId)})})}},362626:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(667294),l=t(388011),a=t(347151);function r(e,i){let{logContextEvent:t}=(0,l.v)(),{componentType:r,contextLogData:o,viewParameter:s,viewType:d}=(0,a.E)(),{aux_data:u,view_type:c,view_parameter:p,component:m,clientTrackingParams:_,...h}=null!=i?i:{};return(0,n.useCallback)(()=>{t({event_type:e,view_type:c||d,view_parameter:p||s,component:m||r,clientTrackingParams:_,...h,aux_data:{...u,...o}})},[t,u,_,h,p,c,m,r,o,e,s,d])}},885669:(e,i,t)=>{"use strict";t.d(i,{X:()=>l,Z:()=>a});var n=t(667294);let l=120;function a(e,i=0,t=l){let[a,r]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)(()=>{if(e){if(i){let e=setTimeout(()=>r("active"),i);return()=>{clearTimeout(e)}}r("active")}else{let e=setTimeout(()=>r("inactive"),t);return()=>{clearTimeout(e)}}},[e]),a}},336331:(e,i,t)=>{"use strict";t.d(i,{$:()=>a,B:()=>l});var n=t(583592);let{Provider:l,useHook:a}=(0,n.Z)("SurfaceContext",{surface:"Unknown"})},347151:(e,i,t)=>{"use strict";t.d(i,{B:()=>l,E:()=>a});var n=t(583592);let{Provider:l,useHook:a}=(0,n.Z)("trackingParametersContext")},724842:(e,i,t)=>{"use strict";t.d(i,{ZP:()=>j,we:()=>T,nn:()=>I,zn:()=>w});var n=t(667294),l=t(388011),a=t(282802),r=t(819079),o=t(802071),s=t(883119),d=t(88622),u=t(536042),c=t(630089),p=t(837792),m=t(3060),_=t(245410),h=t(785893);function g({iconAccessibilityLabel:e,icon:i,linkAccessibilityLabel:t,showNavigationIcon:n,text:l}){return(0,h.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,h.jsx)(s.xu,{"data-test-id":"ad-reason-icon",children:(0,h.jsx)(s.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:i,iconColor:"darkGray"})}),(0,h.jsx)(s.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,h.jsx)(s.xv,{children:l})}),n&&t&&(0,h.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,h.jsx)(s.JO,{accessibilityLabel:t,color:"default",icon:"arrow-forward"})})]})}var y=t(712968);function v({brandName:e,language:i,geoRegion:t,geoPostalCode:n,ageBucketMatch:l,localeMatch:a,interestMatch:r,genderMatch:d,deviceMatch:p,isCustomerListMatched:m,isShoppingTargetingRematched:v,isActAlikeMatched:f,isEngagementMatched:x,isExpandTargetingMatched:b,isFromGPSLocation:S,isVisitorMatched:P,isShoppingProspectingMatched:k,isPlPersonaMatched:w,gender:I,device:T}){var j;let A=(0,u.ZP)(),{id:E}=(0,o.Z)(),C=(0,y.mN)()(null!=E?E:""),F=null!==(j=null==C?void 0:C.gender)&&void 0!==j?j:"",{checkExperiment:R}=(0,_.F)(),L=(k||w)&&R("ads_web_waista_v3").anyEnabled;return(0,h.jsx)(s.xu,{"data-test-id":"ad-reasons",children:(0,h.jsxs)(s.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[""!==l&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting age bucket', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age bucket'),icon:"person",text:(0,c.nk)(A._('Age {{ ageBucketMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.ageBucketMatch', 'Ad explanation for targeting age range, ageBucketMatch: Users age range'),{ageBucketMatch:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:l},"ad-reasons-age-bucket")})}),""!==d&&"unspecified"!==F&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting gender', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"person",text:(0,c.nk)(A._('{{ gender }}', 'app.common.react.components.PinRep.components.AdReasonsModal.genderMatch', 'Ad explanation for targeting gender, gender: Users gender'),{gender:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:I},"ad-reasons-gender")})}),""!==t&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",text:(0,c.nk)(A._('Based in {{geoRegion}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location , geoRegion: location user is based in'),{geoRegion:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-country-name")})}),""!==n&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",text:(0,c.nk)(A._('Based in {{geoPostalCode}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location , geoPostalCode: location user is based in'),{geoPostalCode:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name")})}),""!==a&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting locale', 'app.common.react.components.PinRep.components.AdReasons.localeIcon', 'Icon for ad targeting locale'),icon:"globe",text:(0,c.nk)(A._('Language {{ language }}', 'app.common.react.components.PinRep.components.AdReasonsModal.localeMatch', 'Ad explanation for targeting age range, language: Users language'),{language:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-locale")})}),""!==p&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting device', 'app.common.react.components.PinRep.components.AdReasons.deviceIcon', 'Icon for ad targeting device'),icon:"desktop",text:(0,c.nk)(A._('Using {{ device }}', 'app.common.react.components.PinRep.components.AdReasonsModal.deviceMatch', 'Ad explanation for targeting device, device: Users device'),{device:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:T},"ad-reasons-device")})}),""!==r&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting interest', 'app.common.react.components.PinRep.components.AdReasons.interestIcon', 'Icon for ad targeting interest'),icon:"heart",text:(0,c.nk)(A._('Interested in {{ interestMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.interestMatch', 'Ad explanation for targeting interest, interestMatch: Users interest'),{interestMatch:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-interest")})}),v&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.shoppingTargeting', 'Icon for ad targeting shopping targeting'),icon:"history",text:(0,c.nk)(A._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargeting', 'Ad explanation for shopping targeting, brandName: promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-shopping-targeting")})}),P&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting customers who interacted with this brand previously, visitor matched', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorMatchIcon', 'Ad explanation for visitor targeting users who have interacted with an advertiser brand'),icon:"history",text:(0,c.nk)(A._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorTargetingText', 'Text explaining the ad reason for visitor targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reason-visitor")})}),m&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.listIcon', 'Icon for ad targeting customer list'),icon:"menu",text:(0,c.nk)(A._('On a list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list , brandName: promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-customer-list")})}),x&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting user on engagement audience', 'app.common.react.components.PinRep.components.AdReasons.engagementIcon', 'Icon for ad targeting engagement'),icon:"pin",text:(0,c.nk)(A._('Interacted with {{brandName}} on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.engagementTargeting', 'Ad explanation for targeting engagement audience, brandName: promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-engagement")})}),f&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting user on act alike', 'app.common.react.components.PinRep.components.AdReasons.actAlikeIcon', 'Icon for ad targeting act alike'),icon:"graph-bar",text:(0,c.nk)(A._('Similar demographic or interest as other {{brandName}} customers', 'app.common.react.components.PinRep.components.AdReasonsModal.', 'Ad explanation for targeting act alike, brandName: promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-act-alike")})}),(b||L)&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting user on expand targeting', 'app.common.react.components.PinRep.components.AdReasons.expandTargeting', 'Icon for ad expand targeting'),icon:"pinterest",text:A._('Relevant activity on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.expandTargeting', 'Ad explanation for targeting ')}),S&&(0,h.jsx)(g,{iconAccessibilityLabel:A._('Icon for ad targeting user on GPS', 'app.common.react.components.PinRep.components.AdReasons.GPS', 'Icon for ad targeting GPS'),icon:"location",text:A._('GPS Location', 'app.common.react.components.PinRep.components.AdReasonsModal.GPS', 'Ad explanation for targeting GPS')})]})})}function f({onDismiss:e,brandName:i,userName:t,language:n,geoRegion:a,geoPostalCode:r,ageBucketMatch:o,localeMatch:_,interestMatch:g,genderMatch:y,deviceMatch:f,isCustomerListMatched:x,isShoppingTargetingRematched:b,isActAlikeMatched:S,isEngagementMatched:P,isExpandTargetingMatched:k,isFromGPSLocation:T,isVisitorMatched:j,isShoppingProspectingMatched:A,isPlPersonaMatched:E,thirdPartyAdAttributes:C}){let{logContextEvent:F}=(0,l.v)(),R=(0,u.ZP)(),L=w(y,R),D=I(f,R),O=b||x||P||S||k||T||j||E||A||""!==o||""!==_||""!==g||""!==L||""!==D||""!==a||""!==r,N=m.C0+`/${t}/`;return(0,h.jsx)(d.ZP,{accessibilityModalLabel:R._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:e,children:(0,h.jsxs)(s.xu,{paddingX:8,paddingY:6,children:[(0,h.jsxs)(s.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,h.jsx)(s.xu,{position:"absolute",left:!0,children:(0,h.jsx)(s.hU,{accessibilityLabel:R._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:()=>{F({event_type:102,element:11925,component:13756}),e()},size:"sm"})}),(0,h.jsx)(s.X6,{align:"center",size:"500",children:R._('Why you\'re seeing this ad', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation, WAISTA ')})]}),(0,h.jsxs)(s.xu,{children:[(0,h.jsx)(s.kC,{direction:"column",gap:{row:0,column:4},children:O&&(0,h.jsx)(s.xu,{marginBottom:4,"data-test-id":"waista-reason-text",children:(0,h.jsx)(s.xv,{children:null!=C&&C.isEligibleForPromotedPartnership?(0,c.nk)(R._('{{ promotedPartnershipAdvertiserName }} is trying to reach specific groups of people, through a partnership with {{ promotedPartnershipAttributionName }}. Based on what you\'ve told us or other information, we think you fit some of those groups:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTA', 'Text informing the user about who is the advertiser\'s target audience, for WAISTA promotedPartnershipAdvertiserName:Name of advertiser, promotedPartnershipAttributionName:Name of promoted partner'),{promotedPartnershipAdvertiserName:C.promotedPartnershipAdvertiserName,promotedPartnershipAttributionName:C.promotedPartnershipAttributionName}):(0,c.nk)(R._('{{ brandName }} is trying to reach specific groups of people. Based on what you\'ve told us or other information, we think you fit some of those groups:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTA', 'text informing the user about who is the advertiser\'s target audience, for WAISTA brandName: is promoter name'),{brandName:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(s.rU,{href:N,display:"inlineBlock",onClick:()=>{F({event_type:101,component:13756,element:13407})},target:"blank",underline:"hover",children:i})},"ad-reasons-brand-name")})})})}),(0,h.jsx)(s.xu,{"data-test-id":"ad-reasons",children:(0,h.jsxs)(s.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[(0,h.jsx)(v,{brandName:i,language:n,geoRegion:a,geoPostalCode:r,ageBucketMatch:o,localeMatch:_,genderMatch:y,interestMatch:g,deviceMatch:f,isCustomerListMatched:x,isShoppingTargetingRematched:b,isActAlikeMatched:S,isEngagementMatched:P,isExpandTargetingMatched:k,isFromGPSLocation:T,isVisitorMatched:j,isShoppingProspectingMatched:A,isPlPersonaMatched:E,gender:L,device:D}),O&&(0,h.jsx)(s.xu,{marginBottom:1,children:(0,h.jsx)(s.xv,{children:(0,c.nk)(R._('If this isn\'t right, {{ changeUserSettings }}', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettingsText', 'Text explaining how to update personal information, changeUserSettings: link to personal settings'),{changeUserSettings:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(s.rU,{display:"inline",href:`${m.C0}${p.AHp}`,onClick:()=>{F({event_type:101,component:13756,element:13361})},target:"blank",underline:"hover",children:R._('update your personal information', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettings', 'Link for updating personal information')})},"ad-reasons-change-user-settings")})})})]})}),(0,h.jsxs)(s.kC,{direction:"column",gap:{row:0,column:1},children:[(0,h.jsx)(s.xu,{marginBottom:1,marginTop:1,children:(0,h.jsx)(s.X6,{size:"400",children:R._('Ads on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.adsOnPinterestHeading', 'Text for explaining Ads on Pinterest')})}),(0,h.jsx)(s.xu,{marginBottom:4,children:(0,h.jsx)(s.xv,{children:(0,c.nk)(R._('We show you ads that may be based on your profile settings, websites you visit, ads you interact with or other factors. {{adPreferencesLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesText', 'Text explaining what ads are based on, adPreferencesLink: link to privacy settings'),{adPreferencesLink:(0,h.jsx)(s.xu,{"data-test-id":"ad-reasons-review-ad-preferences",children:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(s.rU,{display:"inline",href:`${m.C0}${p.Gxc}`,onClick:()=>{F({event_type:101,component:13756,element:13401})},target:"blank",underline:"hover",children:R._('Review your ad preferences', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesLink', 'Privacy settings link')})},"ad-reasons-review-ad-preferences")})})})}),(0,h.jsx)(s.xu,{marginBottom:4,children:(0,h.jsx)(s.xv,{children:(0,c.nk)(R._('For more about how we collect and use data, {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy'),{privacyPolicyLink:(0,h.jsx)(s.xu,{"data-test-id":"ad-reasons-privacy-policy",children:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(s.rU,{display:"inline",href:p.R_9,onClick:()=>{F({event_type:101,component:13756,element:13402})},target:"blank",underline:"hover",children:R._('read our Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLink', 'Privacy policy link for reading how data is collected and used')})},"ad-reasons-privacy-policy")})})})}),(0,h.jsx)(s.xu,{marginBottom:4,children:(0,h.jsx)(s.xv,{children:(0,c.nk)(R._('To stop seeing content from an advertiser, {{ blockAccounts }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how to block an advertiser profile, blockAccounts: link to how to block accounts'),{blockAccounts:(0,h.jsx)(s.xu,{"data-test-id":"ad-reasons-block-accounts",children:(0,h.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(s.rU,{display:"inline",href:p.K_Y,onClick:()=>{F({event_type:101,component:13756,element:12058})},target:"blank",underline:"hover",children:R._('learn how to block accounts', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAccountLink', 'Link for how to block accounts')})},"ad-reasons-block-accounts")})})})})]})]})]})})}var x=t(525104);let b=e=>e._('Female', 'waista.modal.attribute.female', 'Gender attribute for female'),S=e=>e._('Male', 'waista.modal.attribute.male', 'Gender attribute for male'),P=e=>e._('Web', 'waista.modal.attribute.web', 'device attribute for web'),k=e=>e._('Mobile Web', 'waista.modal.attribute.mWeb', 'device attribute for mobile web');function w(e,i){return"FEMALE"===e?b(i):"MALE"===e?S(i):""}function I(e,i){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?P(i):"AppType_WEB_MOBILE"===e?k(i):""}function T(e,i){var t;let{name:n=""}=null!==(t=e.find(e=>e.key===i))&&void 0!==t?t:{};return n}function j({pinId:e,onDismiss:i}){var t,s,d,u,c;let{logContextEvent:p}=(0,l.v)(),{locale:m}=(0,a.B)(),{country:_=""}=(0,o.Z)(),g=(0,r.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),y=(0,r.Z)({name:"LocalesResource"}),v=(0,x.S6)()(e);(0,n.useEffect)(()=>{p({event_type:120,component:13756})},[p]);let{ad_targeting_attribution:b,promoter:S,is_eligible_for_promoted_partnership:P,promoted_partnership_attribution_name:k,promoted_partnership_advertiser_name:w}=null!=v?v:{},{is_customer_list_matched:I=!1,is_shopping_retargeting_matched:j=!1,is_actalike_matched:A=!1,is_engagement_matched:E=!1,is_expand_targeting_matched:C=!1,is_from_gps_location:F=!1,is_visitor_matched:R=!1,is_shopping_prospecting_matched:L=!1,is_pl_persona_matched:D=!1,matched_age_bucket:O="",matched_locale:N="",matched_interest:z="",matched_gender:M="",matched_device:K="",geo_region:Z="",geo_postal_code:B=""}=null!==(t=function(e=null,i=4){return e&&Object.keys(e).filter(i=>"boolean"==typeof e[i]||"string"==typeof e[i]).slice(0,i).reduce((i,t)=>({...i,[t]:e[t]}),{})}(b))&&void 0!==t?t:{},U=null!==(s=null==S?void 0:S.full_name)&&void 0!==s?s:"",H=function(e,i){var t;let{name:n=""}=null!==(t=e.find(e=>e.key===i))&&void 0!==t?t:{};return n}(null!==(d=g.data)&&void 0!==d?d:[],_),V=T(null!==(u=y.data)&&void 0!==u?u:[],m),G=null!==(c=null==S?void 0:S.username)&&void 0!==c?c:"";return(0,h.jsx)(f,{brandName:U,userName:G,country:H,language:V,ageBucketMatch:O,localeMatch:N,interestMatch:z,genderMatch:M,deviceMatch:K,isCustomerListMatched:I,isShoppingTargetingRematched:j,isActAlikeMatched:A,isEngagementMatched:E,isExpandTargetingMatched:C,isFromGPSLocation:F,isVisitorMatched:R,onDismiss:i,geoRegion:Z,geoPostalCode:B,isShoppingProspectingMatched:L,isPlPersonaMatched:D,thirdPartyAdAttributes:{isEligibleForPromotedPartnership:P,promotedPartnershipAttributionName:k,promotedPartnershipAdvertiserName:w}})}},833897:(e,i,t)=>{"use strict";t.d(i,{Z:()=>g}),t(167912);var n,l=t(883119),a=t(840166),r=t(388011),o=t(450600),s=t(536042),d=t(599551),u=t(493851),c=t(473183),p=t(347151),m=t(785893);let _=void 0!==n?n:n=t(73755),h=e=>{var i,t,n;return{advertiserId:e.advertiser_id,attributionSourceId:e.attribution_source_id,board:e.board&&{url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,carouselData:e.carousel_data&&{carouselSlots:e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.map(e=>({entityId:e.id})),entityId:null!==(i=null===(t=e.carousel_data)||void 0===t?void 0:t.id)&&void 0!==i?i:"",index:null===(n=e.carousel_data)||void 0===n?void 0:n.index},description:e.description,entityId:e.id,gridTitle:e.grid_title,isDownstreamPromotion:e.is_downstream_promotion,isPromoted:e.is_promoted,pinPromotionId:e.pin_promotion_id?String(e.pin_promotion_id):null,pinner:e.pinner&&{username:e.pinner.username},promotedIsLeadAd:e.promoted_is_lead_ad,promotedLeadForm:e.promoted_lead_form&&{leadFormId:e.promoted_lead_form.lead_form_id},promoter:e.promoter&&{entityId:e.promoter.id},storyPinDataId:e.story_pin_data_id,title:e.title,trackingParams:e.tracking_params}};function g({sizing:e="default",children:i,collageChipId:t,componentType:n,contextLogData:g,elementType:y,disableA11yLabel:v,pinKey:f,trackingParamsMap:x,viewParameter:b,viewType:S}){let P=(0,s.ZP)(),{data:k,childDataKey__DEPRECATED:w}=(0,o.u)(_,f,{useLegacyAdapter:h}),{logContextEvent:I}=(0,r.v)(),T=(0,p.E)(),{carouselData:j,entityId:A}=k,E=!!k.promotedIsLeadAd,C={},F=`/pin/${t||A}/`,R=(0,a.Xx)();if(null!=R&&R.variantUrl&&(F=`/pin/${R.variantUrl}/`),j){var L;let{carouselSlots:e,entityId:i}=j,t=null!==(L=j.index)&&void 0!==L?L:0;F=`/pin/${A}/`,C={carousel_slot_id:(null==e?void 0:e[t])&&e[t].entityId,carousel_data_id:i,carousel_slot_index:t}}let D=(0,c.Z)(w);C={...C,...D({default:null==g?void 0:g.commerce_data})};let O=()=>{if(E){var e,i;I({event_type:8948,view_type:S||T.viewType,view_parameter:b||T.viewParameter,component:null,object_id_str:k.entityId,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(e=k.promotedLeadForm)||void 0===e?void 0:e.leadFormId,is_lead_ad:1}}),I({event_type:12,view_type:S||T.viewType,view_parameter:b||T.viewParameter,component:null,object_id_str:k.entityId,aux_data:{lead_form_id:null===(i=k.promotedLeadForm)||void 0===i?void 0:i.leadFormId,is_lead_ad:1,...D()}})}else{let e={...g,...D({default:null==g?void 0:g.commerce_data})};I({event_type:101,component:n||T.componentType,element:y,object_id_str:A,view_type:S||T.viewType,view_parameter:b||T.viewParameter,aux_data:e}),I({event_type:8948,view_type:S||T.viewType,view_parameter:b||T.viewParameter,component:n||T.componentType,element:y,object_id_str:A,aux_data:{closeup_navigation_type:"click",...e}})}},N=(0,d.Z)({href:F,externalData:{auxData:C,pin:k&&{advertiserId:k.advertiserId,attributionSourceId:k.attributionSourceId,board:k.board&&{url:k.board.url},campaignId:k.campaignId,entityId:k.entityId,isDownstreamPromotion:k.isDownstreamPromotion,isPromoted:k.isPromoted,pinner:k.pinner&&{username:k.pinner.username},pinPromotionId:k.pinPromotionId,promoter:k.promoter&&{entityId:k.promoter.entityId},storyPinDataId:k.storyPinDataId,trackingParams:k.trackingParams,trackingParamsMap:x}}});return(0,m.jsx)(l.Tg,{accessibilityLabel:v?void 0:(0,u.Z)(P._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:k.gridTitle||k.title||k.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),O(),N({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:F,children:i})}},946543:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(883119),l=t(785893);function a({children:e,additionalStyles:i={}}){return(0,l.jsx)(n.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...i}},"data-test-id":"contentLayer",children:e})}},368420:(e,i,t)=>{"use strict";t.d(i,{Z:()=>I});var n,l=t(667294);t(167912);var a=t(616550),r=t(883119),o=t(604094),s=t(450600),d=t(633917),u=t(643183),c=t(806681),p=t(802071),m=t(785893);let _=({signal:e,anchor:i,setShowFlyout:t,setStore:n})=>{var l,a;let{hovered:o,onMouseEnter:s,onMouseLeave:d}=(0,c.Z)(),u=e=>{t(e=>!e),n(e)};return(0,m.jsx)(r.iP,{onTap:()=>u(e),rounding:"pill",onMouseEnter:s,onMouseLeave:d,children:(0,m.jsxs)(r.xu,{color:o?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:i,children:[(0,m.jsx)(r.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,m.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,m.jsx)(r.Ee,{alt:"",color:null!==(l=e.backgroundColor)&&void 0!==l?l:"",src:null!==(a=e.iconUrl)&&void 0!==a?a:"",naturalHeight:1,naturalWidth:1})})}),(0,m.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:e.signalMessage})]})})};var h=t(970588),g=t(536042),y=t(63262),v=t(550140);function f(e){let i=(0,g.ZP)(),{onHide:t}=e,n=(0,m.jsx)(r.xv,{children:i._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,m.jsx)(v.ZP,{onHide:t,text:n})}let x=function({anchor:e,onDismiss:i,pinId:t,signal:n}){let l=(0,g.ZP)(),a=(0,p.Z)(),{showOneToast:o}=(0,y.F9)();if(!a.isEmployee)return null;let{backgroundColor:s,iconUrl:d,signalId:u,signalMessage:c}=n;return(0,m.jsx)(r.mh,{children:(0,m.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,m.jsxs)(r.xu,{padding:4,width:"100%",children:[(0,m.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(r.X6,{size:"400",children:l._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,m.jsx)(r.xu,{paddingY:3,children:(0,m.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,m.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:d?(0,m.jsx)(r.Ee,{alt:l._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:d}):(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=s?s:""}},height:40,width:40})}),(0,m.jsx)(r.xv,{size:"200",children:c})]})}),(0,m.jsx)(r.xu,{marginBottom:3,children:(0,m.jsx)(r.xv,{size:"200",children:l._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,m.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,m.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:l._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{(0,h.Z)({url:`/v3/pins/${t}/signal_request_review/`,method:"POST",data:{signal_id:u,user:a.id}}),i(),o(({hideToast:e})=>(0,m.jsx)(f,{onHide:e}))}}),(0,m.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:l._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:i})]})]})})})};function b({signals:e,pinId:i}){let[t,n]=(0,l.useState)(!1),a=(0,l.useRef)(null),[s,c]=(0,l.useState)(e[0]);return(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(o.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,m.jsx)(u.Z,{children:(0,m.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,m.jsx)(d.Z,{children:(0,m.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:e.map(e=>(0,m.jsx)(r.xu,{marginEnd:2,children:(0,m.jsx)(_,{signal:e,anchor:a,setShowFlyout:n,setStore:c})},e.signalId))})})})})}),t&&(0,m.jsx)(x,{anchor:a.current,onDismiss:()=>n(!1),pinId:i,signal:s})]})}let S=function({anchor:e,onDismiss:i,pinId:t,signals:n}){let a=(0,g.ZP)(),[o,s]=(0,l.useState)(0),d=(0,p.Z)(),{showOneToast:u}=(0,y.F9)();if(!d.isEmployee)return null;let c=n.map(({signalMessage:e})=>({href:"#",text:null!=e?e:""})),{backgroundColor:_,iconUrl:v,signalId:x,signalMessage:b}=n[o],S=({activeTabIndex:e})=>{s(e)};return(0,m.jsx)(r.mh,{children:(0,m.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,m.jsxs)(r.xu,{padding:4,width:"100%",children:[n.length>1&&(0,m.jsx)(r.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,m.jsx)(r.mQ,{activeTabIndex:o,onChange:({event:e,activeTabIndex:i,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),S({activeTabIndex:i})},tabs:c})}),(0,m.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(r.X6,{size:"400",children:a._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,m.jsx)(r.xu,{paddingY:3,children:(0,m.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,m.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:v?(0,m.jsx)(r.Ee,{alt:a._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:v}):(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=_?_:""}},height:40,width:40})}),(0,m.jsx)(r.xv,{size:"200",children:b})]})}),(0,m.jsx)(r.xu,{marginBottom:3,children:(0,m.jsx)(r.xv,{size:"200",children:a._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,m.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,m.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:a._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{(0,h.Z)({url:`/v3/pins/${t}/signal_request_review/`,method:"POST",data:{signal_id:x,user:d.id}}),i(),u(({hideToast:e})=>(0,m.jsx)(f,{onHide:e}))}}),(0,m.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:a._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:i})]})]})})})},P=void 0!==n?n:n=t(569521),k=e=>({debAds:e.deb_ads&&e.deb_ads.map(e=>({backgroundColor:e.background_color,iconUrl:e.icon_url,signalId:e.signal_id,signalMessage:e.signal_message})),debContentQuality:e.deb_content_quality&&e.deb_content_quality.map(e=>({backgroundColor:e.background_color,iconUrl:e.icon_url,signalId:e.signal_id,signalMessage:e.signal_message})),debInclusiveProduct:e.deb_inclusive_product&&e.deb_inclusive_product.map(e=>({backgroundColor:e.background_color,iconUrl:e.icon_url,signalId:e.signal_id,signalMessage:e.signal_message})),debShopping:e.deb_shopping&&e.deb_shopping.map(e=>({backgroundColor:e.background_color,iconUrl:e.icon_url,signalId:e.signal_id,signalMessage:e.signal_message})),debTrustAndSafety:e.deb_trust_and_safety&&e.deb_trust_and_safety.map(e=>({backgroundColor:e.background_color,iconUrl:e.icon_url,signalId:e.signal_id,signalMessage:e.signal_message})),entityId:e.id});function w({signals:e,pinId:i}){let{backgroundColor:t,iconUrl:n,signalMessage:a}=e[0],[s,p]=(0,l.useState)(!1),_=(0,l.useRef)();return(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(o.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,m.jsx)(u.Z,{children:(0,m.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,m.jsx)(d.Z,{children:(0,m.jsx)(c.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:l})=>(0,m.jsx)(r.iP,{onTap:()=>p(e=>!e),rounding:"pill",onMouseEnter:i,onMouseLeave:l,children:(0,m.jsxs)(r.xu,{color:e?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:_,children:[(0,m.jsx)(r.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,m.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,m.jsx)(r.Ee,{alt:"",color:null!=t?t:"",src:null!=n?n:"",naturalHeight:1,naturalWidth:1})})}),(0,m.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:a})]})})})})})})}),s&&_&&_.current&&(0,m.jsx)(S,{anchor:_.current,onDismiss:()=>p(!1),pinId:i,signals:e})]})}function I({pinKey:e}){let{data:i}=(0,s.u)(P,e,{useLegacyAdapter:k}),t=(0,p.Z)(),{search:n}=(0,a.useLocation)(),r=(0,l.useMemo)(()=>new URLSearchParams(n),[n]);if(!t.isEmployee)return null;let{entityId:o,debAds:d,debContentQuality:u,debInclusiveProduct:c,debShopping:_,debTrustAndSafety:h}=i;if(d)return(0,m.jsx)(w,{pinId:o,signals:d});if(u)return(0,m.jsx)(w,{pinId:o,signals:u});if(c){if("skin_tone"===r.get("type")){let e=c.filter(e=>"visual_signals_hair_pattern_v1"!==e.signalId);return(0,m.jsx)(b,{pinId:o,signals:e})}{let e=c.filter(e=>"visual_body_analyses_v2_0"!==e.signalId);return(0,m.jsx)(b,{pinId:o,signals:e})}}return _?(0,m.jsx)(w,{pinId:o,signals:_}):h?(0,m.jsx)(w,{pinId:o,signals:h}):null}},299402:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(883119),l=t(885669),a=t(785893);function r({children:e,fadeInDuration:i=0,fadeOutDuration:t=l.X,visibility:r}){return"none"!==r&&e?(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:i?`opacity ${i}ms ease`:void 0}}[r]},children:e}):null}},126645:(e,i,t)=>{"use strict";t.d(i,{ZP:()=>_});var n=t(667294),l=t(883119),a=t(388011),r=t(536042),o=t(649796),s=t(176172),d=t(946543),u=t(785893);let c={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},p=["followed","related","search"],m=["pfy","pfyBoard"];function _({feedbackType:e,pin:i,hideContents:t=!1}){var _;let{logContextEvent:h}=(0,a.v)(),g=(0,r.ZP)(),[y,v]=(0,n.useState)(!1),[f,x]=(0,n.useState)(!1);(0,n.useEffect)(()=>v(!0),[]);let b=()=>x(!0),{feedbackText:S,images:P,showFeedbackOverlay:k,undoAction:w}=i,I=P&&(null===(_=P["236x"])||void 0===_?void 0:_.url),{image:T,subTitle:j,title:A,unfollow:E}=null!=S?S:{},C=!p.includes(e),F=m.includes(e);return(0,u.jsxs)(l.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[I&&(0,u.jsx)(d.Z,{additionalStyles:{...c.background.base,...y?c.background.blurred:{},backgroundImage:`url("${I}")`}}),(0,u.jsx)(d.Z,{additionalStyles:{...c.backdrop.base,...c.backdrop.blurred}})]}),(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{...c.feedbackOverlayContainer.base,...!k&&y?c.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!t&&(0,u.jsx)(l.xu,{height:"100%",children:(0,u.jsxs)(l.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(l.X6,{color:"light",size:"400",children:A})}),(0,u.jsxs)(l.xu,{display:"flex",marginBottom:1,children:[T&&(0,u.jsx)(l.xu,{marginEnd:3,children:(0,u.jsx)(l.zd,{width:T.width,height:T.height,rounding:2,wash:!0,children:(0,u.jsx)(l.Ee,{alt:j||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:T.url||""})})}),(0,u.jsx)(l.xv,{color:"light",overflow:"normal",children:j})]}),(0,u.jsxs)(n.Fragment,{children:[w&&"Reported"!==A&&(0,u.jsx)(l.xu,{"data-test-id":"undo-action-btn",children:(0,u.jsx)(l.iP,{onTap:w,children:(0,u.jsx)(l.xv,{color:"inverse",weight:"bold",overflow:"normal",children:g._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,u.jsxs)(l.xu,{marginTop:"auto",children:[!w&&!f&&E&&!F&&(0,u.jsx)(l.zx,{fullWidth:!0,color:"white",onClick:()=>(0,o.t)(E.action,E.actionOptions,b,h),text:g._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),C&&(0,u.jsx)(l.ZP,{color:"white",fullWidth:!0,href:"/edit",onClick:()=>{h({event_type:101,view_type:1,view_parameter:92,element:11347})},text:g._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},181453:(e,i,t)=>{"use strict";t.d(i,{Z:()=>c});var n=t(883119),l=t(388011),a=t(536042),r=t(649796),o=t(958083),s=t(325438),d=t(154522),u=t(785893);function c({anchor:e,feedbackData:i,feedbackType:t,pinId:c,onDismiss:p,onHide:m,recommendationReason:_,viewParameter:h,viewType:g}){let{logContextEvent:y}=(0,l.v)(),v=(0,a.ZP)(),f=e=>{y({event_type:101,view_type:g,view_parameter:h,element:e,component:(0,o.nb)(t)})},x=(e,n)=>{let{action:l,actionOptions:a}=(0,s.Z)({feedbackData:i,feedbackType:t,pinId:c,recommendationReason:_&&{board:_.board&&{entityId:_.board.entityId},reasonId:_.reasonId,reason:_.reason,throughProperties:_.throughProperties},complaintReason:e});f(n),(0,r.t)(l,a,void 0,y),m()},b="promoted"===t?[{text:v._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:v._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:v._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:v._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:v._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:v._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:v._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:v._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,u.jsx)(n.Lt,{anchor:e,idealDirection:"down",onDismiss:p,zIndex:d.lI,id:"pin-action-dropdown",children:(0,u.jsx)(n.Lt.Section,{label:v._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:b.map(({text:e,reason:i,elementType:t})=>(0,u.jsx)(n.Lt.Item,{onSelect:()=>x(i,t),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:"hide-reason"}))})})}},87663:(e,i,t)=>{"use strict";t.d(i,{Z:()=>_});var n=t(667294),l=t(294184),a=t.n(l),r=t(883119),o=t(536042),s=t(874261),d=t(51536),u=t(28630),c=t(785893);let p=`
.SavedAnimation {
  &.saved {
    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);
  }

  &.board {
    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);
  }
}

@keyframes SavedAnimation--down-then-right {
  0% {
    opacity: 0;
    transform: translateY(-24px);
  }

  33% {
    opacity: 1;
    transform: translateY(0);
  }

  80% {
    opacity: 1;
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    transform: translateX(24px);
  }
}

@keyframes SavedAnimation--to-right {
  from {
    opacity: 0;
    transform: translateX(-16px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}
`;class m extends n.Component{constructor(...e){var i,t,n;super(...e),t={showBoardName:!1},(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i="state","string"))?n:String(n))in this?Object.defineProperty(this,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[i]=t}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){let e,i;let{showBoardName:t}=this.state,{isDenseView:l,isNewlySaved:o,name:m,shouldUseLegoStyles:_,type:h,url:g}=this.props;if(_&&l)return null;let y="boardless"===h?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):m;if(!o||t||_){let i=_?(0,c.jsx)(r.xv,{color:"inverse",size:"300",weight:"bold",children:y.length<=20?y:(0,d.Z)(y,20)}):(0,c.jsx)(r.X6,{color:"inverse",size:"400",lineClamp:1,children:y}),t=(0,u.Z)({url:g});e=g?(0,c.jsx)(r.rU,{rel:t?"nofollow":"none",href:g,children:i}):i}else e=(0,c.jsx)(r.xv,{color:"inverse",children:(0,c.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return o&&(i=t?"board":"saved"),(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(s.Z,{unsafeCSS:p}),(0,c.jsx)("div",{"data-test-id":"savedInfo",className:!_&&a()("SavedAnimation",i),children:e})]})}}let _=function(e){let i=(0,o.ZP)();return(0,c.jsx)(m,{...e,i18n:i})}},272270:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(795142);function l(e){return n.zI.includes(e)}},733533:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s}),t(422578);var n,l=t(450600),a=t(958083);let r=void 0!==n?n:n=t(448692),o=e=>({board:e.board&&{followedByMe:e.board.followed_by_me},isDownstreamPromotion:e.is_downstream_promotion,pinner:e.pinner&&{explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me},promoter:e.promoter&&{__typename:"User"},recommendationReason:e.recommendation_reason&&{board:e.recommendation_reason.board&&{__typename:"Board"},reason:e.recommendation_reason.reason}});function s({pinKey:e,feedbackType:i,viewParameter:t}){var n,s,d,u,c;let{data:p}=(0,l.u)(r,e,{useLegacyAdapter:o});return function({feedbackType:e,viewParameter:i,boardFollowedByMe:t,hasPromoter:n,isDownstreamPromotion:l,pinnerFollowedByMe:r,hasRecommendationReason:o,recommendationReasonHasBoard:s,recommendationReasonReason:d}){return(0,a.hP)({boardFollowedByMe:t,feedbackType:e,promotion:n?{isDownstreamPromotion:l}:void 0,pinnerFollowedByMe:r,recommendationReason:o?{hasBoard:s,reason:d}:void 0,viewParameter:i})}({feedbackType:i,viewParameter:t,boardFollowedByMe:!!(null!=p&&null!==(n=p.board)&&void 0!==n&&n.followedByMe),hasPromoter:!!(null!=p&&p.promoter),isDownstreamPromotion:!!(null!=p&&p.isDownstreamPromotion),pinnerFollowedByMe:!!(null!=p&&null!==(s=p.pinner)&&void 0!==s&&s.explicitlyFollowedByMe),hasRecommendationReason:!!(null!=p&&p.recommendationReason),recommendationReasonReason:null!==(d=null==p?void 0:null===(u=p.recommendationReason)||void 0===u?void 0:u.reason)&&void 0!==d?d:void 0,recommendationReasonHasBoard:!!(null!=p&&null!==(c=p.recommendationReason)&&void 0!==c&&c.board)})}},65192:(e,i,t)=>{"use strict";t.d(i,{Z:()=>n});let n={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},477001:(e,i,t)=>{"use strict";t.d(i,{Z:()=>p});var n=t(702664),l=t(883119),a=t(603801),r=t(388011),o=t(527386),s=t(105095),d=t(870243),u=t(83503),c=t(785893);function p({isFullWidth:e,actionType:i,buttonAction:t,buttonText:p,experience:m,hideCompleteButton:_,imageAlt:h,imageUrl:g,openNewTab:y,avatarImageDetails:v,examplePinImage:f,titleText:x,titleTextColor:b,titleTextCustomization:S,descriptionText:P,descriptionTextCustomization:k}){var w,I;let{logContextEvent:T}=(0,r.v)(),j=(0,o.be)(),A=(0,o.Ig)(),E=0===i?3833:1===i?3834:2===i?3835:null,C=(0,n.useDispatch)(),{experience_id:F,placement_id:R}=m||{},L=(0,u.Z)({onVisibilityChanged:e=>{e&&m&&void 0!==R&&void 0!==F&&(m.status="viewed",T({event_type:13,view_type:612,view_parameter:E}),C(A(R,F,!1,!0)))}}),{width:D}=(0,a.Z)()||{width:8},O=D-8,N=(0,s.IA)(D),z=O*N,M=N===s.LX||N===s.Ec,{url:K,full_name:Z}=v||{},B=z*s.l0,{url:U}=f||{},H=U?z*s.l0:0,V=U?s.ml*H:0,{color:G,fontStyle:$,fontWeight:W,horizontalAlignment:q,fontSize:Y}=(0,s.Mf)(S||{},"mweb"),{color:X,fontStyle:J,fontWeight:Q,horizontalAlignment:ee,fontSize:ei}=(0,s.Mf)(k||{},"mweb");return(0,c.jsx)(l.xu,{position:"relative",padding:1,marginBottom:2,ref:L,children:(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},color:e?"default":"education",paddingX:2,paddingY:4,position:"relative",rounding:4,children:[e&&g&&K&&(0,c.jsx)(l.xu,{height:z,width:O,children:(0,c.jsx)(l.Ee,{alt:h||x||"",color:"rgb(111, 91, 77)",naturalHeight:z,naturalWidth:O,src:g,fit:"cover",children:(0,c.jsx)(l.xu,{paddingY:K?12:3,children:(0,c.jsxs)(l.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[Z&&K&&(0,c.jsx)(l.xu,{height:B,width:B,children:(0,c.jsx)(d.qE,{name:Z,src:K,size:"fit"})}),(0,c.jsx)(l.xv,{align:q,color:b,italic:"italics"===$,weight:W,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(w=G||b)&&void 0!==w?w:void 0,fontSize:M?s.SF:Y}},children:x})}),(0,c.jsx)(l.xv,{align:ee,italic:"italics"===J,weight:Q,children:(0,c.jsx)(l.xu,{paddingX:12,dangerouslySetInlineStyle:{__style:{color:null!=X?X:void 0,fontSize:M?s._e:ei}},children:P})})]})})})}),(!e||e&&U)&&(0,c.jsxs)(l.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",justifyContent:"center",children:[f&&U&&(0,c.jsx)(l.xu,{paddingY:4,children:(0,c.jsx)(l.zd,{height:H,width:V,rounding:4,children:(0,c.jsx)(l.Ee,{alt:"Your first saved Pin",naturalHeight:H,naturalWidth:V,src:U,fit:"cover"})})}),(0,c.jsx)(l.xv,{align:q,color:b,italic:"italics"===$,weight:W,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(I=G||b)&&void 0!==I?I:void 0,fontSize:M&&e?s._e:Y}},children:x})}),P&&k&&(0,c.jsx)(l.xu,{paddingX:e?2:0,paddingY:0,children:(0,c.jsx)(l.xv,{align:ee,italic:"italics"===J,weight:Q,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!=X?X:void 0,fontSize:M&&e?s._e:ei}},children:P})})}),!_&&(0,c.jsx)(l.kC.Item,{alignSelf:"center",children:(0,c.jsx)(l.xu,{marginTop:2,marginBottom:e?4:0,children:(0,c.jsx)(l.ZP,{accessibilityLabel:p,color:"white",text:p,size:"md",href:t,target:y?"blank":null,onClick:()=>{m&&(T({event_type:102,view_type:612,view_parameter:E}),C(j(R,F,!1,!0)))}})})})]})]})})}},724097:(e,i,t)=>{"use strict";t.d(i,{Z:()=>_});var n=t(883119),l=t(460914),a=t(785893);let r=40,o=70,s={__style:{borderRadius:"4px",padding:"10px 14px"}},d={__style:{borderWidth:"1px",borderStyle:"solid",borderColor:"white"}},u={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},c=e=>({__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...e}}),p=e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default",m=({color:e,icon:i})=>i?u:"transparent"===e?{__style:{...s.__style,...d.__style}}:s,_=({accessibilityLabel:e,color:i,customStyles:t,forwardedRef:s,icon:d,inline:u=!1,minHeight:_=r,minWidth:h=o,onTouch:g,pressState:y,shape:v,text:f})=>{let x=p(i),b=m({color:i,icon:d}),S=(0,a.jsx)(n.xu,{position:"relative",children:(0,a.jsx)(n.xu,{color:i,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:_,minWidth:h,dangerouslySetInlineStyle:"pill"===v?c(t):b,children:(0,a.jsxs)(n.kC,{alignItems:"center",justifyContent:"center",children:[d&&(0,a.jsx)(n.xu,{paddingX:"check"===d?2:0,children:(0,a.jsx)(n.JO,{accessibilityLabel:e,color:x,icon:d,inline:!0,size:"check"===d?16:20})}),(0,a.jsx)(n.xv,{color:x,inline:!0,size:"300",lineClamp:1,weight:"bold",children:f})]})})});return g?(0,a.jsx)(l.Z,{onTouch:g,rounding:"pill"===v?"pill":2,pressState:y||"none",children:(0,a.jsx)(n.xu,{ref:s,children:S})}):S}},870601:(e,i,t)=>{"use strict";t.d(i,{Z:()=>u});var n=t(667294),l=t(883119),a=t(936677),r=t(162664),o=t(589665),s=t(934211),d=t(785893);function u({children:e,className:i,forwardRef:t,offset:u=0,position:c,shouldShowShadow:p=!1,style:m={},top:_}){let{setIsContentHeaderPresent:h}=(0,a.i)();(0,n.useEffect)(()=>(h(!0),function(){h(!1)}),[]);let{currentScrollPosition:g,isScrolled:y,setSubheaderShadow:v}=(0,s.WQ)();(0,n.useEffect)(()=>(p&&v("contentHeader"),()=>{p&&v(null)}),[p]);let f=!1;"pending"!==_&&(f=null!=_?g>=_:y);let x=(0,r.t)(),b=(0,d.jsx)("div",{className:i,ref:t,style:{...m,top:x+u,...f&&p?{...o.Rz,zIndex:499}:{},...c&&"sticky"!==c?{position:c}:{}},children:e});return"sticky"===c?(0,d.jsx)(l.Le,{top:x+u,children:b}):b}},936677:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s,i:()=>o});var n=t(667294),l=t(583592),a=t(785893);let{Provider:r,useHook:o}=(0,l.Z)("ContentHeader");function s({children:e}){let[i,t]=(0,n.useState)(!1),l=(0,n.useMemo)(()=>({isContentHeaderPresent:i,setIsContentHeaderPresent:t}),[i]);return(0,a.jsx)(r,{value:l,children:e})}},843843:(e,i,t)=>{"use strict";t.d(i,{MZ:()=>R,di:()=>D,Ai:()=>L});var n=t(667294),l=t(616550),a=t(883119),r=t(865173),o=t(563962),s=t(525571),d=t(988014),u=t(245410),c=t(617285),p=t(500797),m=t(282802),_=t(611756),h=t(173085),g=t(98736),y=t(802071),v=t(700453),f=t(277192),x=t(799006),b=t(724097),S=t(250307),P=t(354428),k=t(28630),w=t(204926);let I=({children:e,external:i,externalQueryParams:t,target:n,href:a,features:r})=>{let o=(0,l.useHistory)();if(!a)return null;let s=(0,S.Z)(a);return e({navigate:e=>{e.preventDefault(),(0,k.Z)({url:s})||i?"undefined"!=typeof window&&window.Windows?(0,w.Z)(s):(0,P.Gj)(s,{queryParams:t,features:r}):(0,P.G3)({event:e,href:a,history:o,target:"blank"===n?"blank":null})}})};var T=t(785893),j=t(951599),A=t(352865),E=t(712968);let C=e=>"string"==typeof e?e:`${e.pathname||""}${e.search?`?${e.search}`:""}`,F=(e,i=!1)=>function({isAppUpsellDisabled:t,...b}){let{children:S,clientTrackingParams:P,deeplinkUri:k,external:w,onTouch:I,refresh:F,to:R,viewParameter:L,viewType:D}=b,O=(0,x.Z)(),[N,z]=(0,n.useState)(!1),[M,K]=(0,n.useState)(!1),[Z,B]=(0,n.useState)(!1),{isAuth:U}=(0,y.Z)(),{userAgent:{platform:H,browserName:V},locale:G}=(0,m.B)(),$=(0,E.Tt)(),W=(0,o.Z)(),{checkExperiment:q}=(0,u.F)(),Y=(0,l.useLocation)(),X=(0,c.Z)();(0,n.useEffect)(()=>{(async function(){if((0,r.v)()){B(!0);let e=await (0,r.Z)();e.length>0&&K(!0)}})()},[]),(0,n.useEffect)(()=>{U||(0,g.My)(`unauth.app_upsell.has_app.${M.toString()}`,{browser:V,platform:H})},[V,M,U,H]);let J=()=>{W({event_type:1701,view_type:D,view_parameter:L}),N&&z(!1)};return(0,T.jsxs)(a.xu,{"data-test-id":"deeplink-wrapper",children:[N&&(0,T.jsx)(f.Z,{clientTrackingParams:P,deepLinkUri:k,isOpen:!0,onDismiss:()=>{W({component:14157,element:10308,event_type:10220,view_type:D||202,view_parameter:L,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,_.Nh)("deeplinkBehavior","branchfallback"),J()},shouldTrackDismiss:!0,to:R,viewParameter:L,viewType:D,app_upsell_type:"deep-link-app-upsell-modal"}),(0,T.jsx)(j.Z,{children:n=>(0,T.jsx)(e,{...b,onTouch:e=>{let l=O&&!t&&U&&!w&&!F&&!(0,p.FP)(window)&&!("ios"===H&&(G||"").startsWith("ar"))&&(0,A.kp)((0,s.Z)(null==$?void 0:$.created_at));if(l){let i=!0,t=!1,l="string"==typeof k&&(k||"").startsWith("/pin/")&&((0,d.uM)(Y)||(0,d.am)(Y)||(0,d.C$)(Y));l?Z&&M&&k&&"android"===H&&q("mweb_auth_deep_link_app_installed_user").anyEnabled&&(X(),i=!1):(i=!1,t=!0),i?(e.stopPropagation(),e.preventDefault(),z(!0)):t||(e.stopPropagation(),e.preventDefault(),W({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{upsell_reason:"deep-link-app-upsell-modal"}}),n(null!=k?k:(0,v.B)(Y,"android"===H),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,_.qn)("deeplinkBehavior")||(0,h.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,h.Nh)("fallbackAttempt",1),n(k,"deep-link-app-upsell-modal",`${window.location.origin}${C(R)}`),J());!(i&&l)&&I&&I(e)},children:S})})]})},R=F(({accessibilityLabel:e,children:i,external:t,externalQueryParams:n,features:l,inline:r=!1,newTab:o,nofollow:s,onTouch:d,onBlur:u,onFocus:c,pressState:p,rounding:m,to:_})=>(0,T.jsx)(I,{external:t,target:o?"blank":null,externalQueryParams:n,features:l,href:_,children:({navigate:t})=>(0,T.jsx)(a.rU,{accessibilityLabel:e,onBlur:u?({event:e})=>u(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,S.Z)(_),display:r?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),null==d||d(e),e.defaultPrevented||t(e)},rel:s?"nofollow":"none",rounding:m,tapStyle:(Array.isArray(p)?p:[p]).includes("compress")?"compress":"none",children:i})})),L=F(({external:e,externalQueryParams:i,newTab:t,onTouch:n,to:l,...a})=>(0,T.jsx)(I,{external:e,target:t?"blank":null,externalQueryParams:i,href:l,children:({navigate:e})=>(0,T.jsx)(b.Z,{onTouch:i=>{null==n||n(i),i.defaultPrevented||e(i)},...a})})),D=F(b.Z,!0)},951599:(e,i,t)=>{"use strict";t.d(i,{Z:()=>p});var n=t(388011),l=t(245410),a=t(282802),r=t(868489),o=t(352865),s=t(185803),d=t(785893);function u({children:e,invite_code:i}){let{isAuthenticated:t,isBot:r,unauthId:d,userAgent:{platform:u,raw:c}}=(0,a.B)(),{logContextEvent:p}=(0,n.v)(),{checkExperiment:m}=(0,l.F)(),_=async(e,n,l)=>{p({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:n}}),(0,s.Z)({isAuthenticated:t,checkExperiment:m,deeplinkUri:e,fallbackUrl:l,invite_code:i,logContextEvent:p,platform:u,redirectToLite:(0,o.Rp)({isBot:r,platform:u,userAgent:c}),unauthId:d,userAgent:c,app_upsell_type:n})};return e(_)}let c=e=>(0,d.jsx)(r.ty,{children:i=>(0,d.jsx)(u,{...e,invite_code:i})});c.displayName="DeepLinkNavigator";let p=c},981628:(e,i,t)=>{"use strict";t.d(i,{Wt:()=>o,ZP:()=>s,oQ:()=>r});var n=t(883119),l=t(536042),a=t(785893);let r={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},o={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function s({isCloseupButton:e,isDisabled:i,isFavorited:t,onTap:s,size:d}){let u=(0,l.ZP)();return e?(0,a.jsx)(n.hU,{accessibilityLabel:u._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:t?o:r,disabled:i,iconColor:"darkGray",onClick:s,size:"lg"}):(0,a.jsx)(n.iP,{disabled:i,onTap:s,children:(0,a.jsx)(n.JO,{accessibilityLabel:u._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:t?o:r,size:d})})}},924255:(e,i,t)=>{"use strict";function n(e){let i=e.split("/");return[i[2],i[1]]}function l(e,i){return!e||!e.some(e=>e.pin_type===i)}t.d(i,{E:()=>l,J:()=>n})},805834:(e,i,t)=>{"use strict";t.d(i,{Zt:()=>eS,iK:()=>eP,ZP:()=>ek,cV:()=>ey});var n=t(667294),l=t(702664),a=t(616550),r=t(883119),o=t(604541),s=t(24286),d=t(536042),u=t(282442),c=t(282802),p=t(819079),m=t(946579),_=t(549201),h=t(586058),g=t(293926),y=t(387977),v=t(798198),f=t(777610),x=t(874261),b=t(943795),S=t(260070),P=t(785893);function k(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let w="BizNuxHomefeedLoader",I=[140,220,265],T=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],j=e=>{let i={WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${w}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${w}_FadeOut`};return{position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?i:{}}},A=()=>({WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${w}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${w}_FadeOut`}),E=()=>({position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${w}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${w}_SlideUp`}),C=({color:e,startAnimation:i,originDimension:t,destinationDimension:n})=>{let l=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:t.height,width:t.width,left:t.left,top:t.top,backgroundColor:e,borderRadius:"8px",...i?l:{}}},F=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${w}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${w}_FadeOut`}:{},R=[`${w}_FadeOut {
    from { opacity: 1 }
    to { opacity: 0 }
  }`,`${w}_SlideUp {
    from {
      -webkit-transform: translateY(100vh);
      transform: translateY(100vh);
    }
    to {
      -webkit-transform: translateY(0);
      transform: translateY(0);
    }
  }`];class L extends n.PureComponent{constructor(...e){super(...e),k(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),k(this,"enterAnimationDidFinished",()=>{this.setState({enterAnimationFinished:!0})}),k(this,"startExitAnimation",()=>{let{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},()=>{this.exitAnimationTimeout=setTimeout(()=>{e()},1700)})})}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout(()=>{this.enterAnimationDidFinished()},2e3)}componentDidUpdate(){let{homefeedLoading:e}=this.props,{enterAnimationFinished:i,startExitAnimation:t}=this.state;!i||e||t||(0,y.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){let{gridContainerRef:e}=this.props;if(!e.current)return null;let i=e.current.querySelectorAll(".PinCard__imageWrapper"),t=Array.from({length:this.numberOfColumns},()=>[]);for(let e=0;e<i.length;e+=1){let n=i[e],l=n.getBoundingClientRect(),a=Math.round(l.left/(window.innerWidth/this.numberOfColumns));t[a].push(l)}return t}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,i,t){let n=this.numberOfColumns+1,l=(window&&window.innerWidth-16*n)/this.numberOfColumns,a=I[(e+i)%I.length];return{left:e*l+(e+1)*16,top:t,width:l,height:a}}renderGrid(){let{selectedTopics:e}=this.props,{startExitAnimation:i}=this.state,t=Array(this.numberOfColumns).fill(b.DEFAULT_HEIGHT),{gridCellDimensionsByColumn:n}=this,l=e.map((e,l)=>{let a=l%this.numberOfColumns,o=Math.floor(l/this.numberOfColumns),s=T[l%T.length],d=t[a],u=this.computeGridCellLayout(a,o,d),c=C({color:s,startAnimation:i,originDimension:u,destinationDimension:n&&n[a][o]});return t[a]+=16+u.height,(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,P.jsx)(r.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:F(i)},children:(0,P.jsx)(r.X6,{color:"light",size:"500",children:e.name})})},l)});return(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:E()},children:l})}render(){let{startExitAnimation:e}=this.state;return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(x.Z,{unsafeCSS:(0,v.Ll)(R)}),(0,P.jsx)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:j(e)},children:(0,P.jsxs)(r.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(g.Z,{duration:3700,finalProgress:100}),(0,P.jsx)(r.xu,{margin:10,dangerouslySetInlineStyle:{__style:A()},children:(0,P.jsx)(r.X6,{children:this.props.i18n._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details')})})]}),this.renderGrid()]})})]})}}function D(e){let i=(0,d.ZP)(),t=(0,l.useSelector)(({topics:e})=>e),n=(0,l.useDispatch)();return(0,f.Q)({view_type:24,view_parameter:261}),(0,P.jsx)(L,{...e,dismissLoader:()=>n((0,S.MI)(!1)),i18n:i,selectedTopics:Object.keys(t).filter(e=>t[e].is_followed).map(e=>t[e])})}var O=t(233569),N=t(372836),z=t(367184),M=t(220067),K=t(812889),Z=t(827192),B=t(40660),U=t(448709),H=t(477001),V=t(532243),G=t(825199),$=t(20227),W=t(563962),q=t(245410),Y=t(802071),X=t(328939),J=t(525104);function Q({pin:e,width:i,height:t,showDivider:n}){var l,a,o,s,d,u,c;let p=null===(l=e.images)||void 0===l?void 0:l["236x"];return(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:"2px solid #fff"}:{}},children:(0,P.jsx)(r.GH,{contentAspectRatio:(null!==(a=null==p?void 0:p.width)&&void 0!==a?a:1)/(null!==(o=null==p?void 0:p.height)&&void 0!==o?o:1),height:t,width:i,children:(0,P.jsx)(r.Ee,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalWidth:null!==(d=null==p?void 0:p.width)&&void 0!==d?d:1,naturalHeight:null!==(u=null==p?void 0:p.height)&&void 0!==u?u:1,src:null!==(c=null==p?void 0:p.url)&&void 0!==c?c:""})})})}function ee({storyId:e,slotIndex:i}){let t=(0,a.useHistory)(),o=(0,a.useLocation)(),{isAuth:s}=(0,Y.Z)(),{checkExperiment:d}=(0,q.F)(),[u,c]=(0,n.useState)(0),p=(0,n.useRef)(),m=(0,W.Z)(),_=(0,J.S6)();(0,n.useLayoutEffect)(()=>{let e=p.current;e&&c(e.offsetWidth)},[]);let h=(0,l.useSelector)(({stories:i})=>i[e]),g=h.objects.map(e=>_(e.id)).filter(Boolean).slice(0,2),{story_type:y,action:v}=h,f=`${o.pathname}products/${o.search}`,x=()=>{m({component:200,event_type:102,view_parameter:3050,view_type:72}),t.push(f)};return d(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,P.jsx)(X.qS,{auxData:{story_type:y,content_ids:g.map(e=>e.id),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:i,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>u?(0,P.jsx)(r.xu,{padding:2,ref:e,children:(0,P.jsx)(r.zd,{rounding:2,children:(0,P.jsxs)(r.iP,{onTap:x,children:[(0,P.jsx)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map((e,i)=>(0,P.jsx)(Q,{pin:e,width:(u-16)/2-1,height:u-16,showDivider:!i},e.id))}),(0,P.jsx)(r.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,P.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,P.jsx)(r.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,P.jsx)(r.xv,{weight:"bold",children:v.text})})})})]})})}):(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,P.jsx)(X.Hs,{auxData:{story_type:y,content_ids:g.map(e=>e.id),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:i,viewParameter:3050,viewType:72,children:u?(0,P.jsx)(r.xu,{padding:2,children:(0,P.jsx)(r.zd,{rounding:2,children:(0,P.jsxs)(r.iP,{onTap:x,children:[(0,P.jsx)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map((e,i)=>(0,P.jsx)(Q,{pin:e,width:(u-16)/2-1,height:u-16,showDivider:!i},e.id))}),(0,P.jsx)(r.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,P.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,P.jsx)(r.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,P.jsx)(r.xv,{weight:"bold",children:v.text})})})})]})})}):(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:p})})}var ei=t(806530),et=t(739425),en=t(377234);function el({guide:e,guidedQuery:i,isSlot0Style:t=!1}){let{dominant_color:n,display:l}=e,a=(0,P.jsx)(r.Tg,{tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(i)}`,children:(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:n,whiteSpace:t?void 0:"nowrap"}},"data-test-id":"one-bar-module-3",minWidth:t?void 0:84,padding:4,rounding:"pill",children:(0,P.jsx)(r.xv,{align:t?"start":"center",color:t?(0,en.Yc)()?"inverse":"default":"inverse",lineClamp:t?2:void 0,size:"200",weight:t?"normal":"bold",children:l})})});return t?a:(0,P.jsx)(r.xu,{flex:"none",marginStart:-7,paddingX:4,children:a})}function ea({guides:e,isSlot0Style:i=!1,query:t}){let n=({position:e,term:i})=>-1===e?i:0===e?`${i} ${t}`:`${t} ${i}`,l=()=>e.map(e=>(0,P.jsx)(el,{guide:e,guidedQuery:n(e),isSlot0Style:i},e.display));return i?(0,P.jsx)(r.xu,{padding:2,children:(0,P.jsx)(r.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:l()})}):(0,P.jsx)(r.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,P.jsx)(r.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:l()})})}let er=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],eo=e=>er[e.charCodeAt(0)%er.length];function es({guides:e,storyId:i,slotIndex:t,titleFormat:l}){var o;let{isAuth:s}=(0,Y.Z)(),{checkExperiment:d}=(0,q.F)(),u=null!==(o=(0,et.mB)((0,a.useLocation)().search).q)&&void 0!==o?o:"";return d(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,P.jsx)(X.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:i,objectIdStr:i,slotIndex:t,viewParameter:43,viewType:2,children:({impressionTrackerRef:i})=>(0,P.jsxs)(r.xu,{ref:i,children:[l&&(0,P.jsx)(r.xu,{paddingY:1,marginTop:2,children:(0,P.jsx)(r.xv,{align:"center",children:l})}),(0,P.jsx)(ea,{guides:e.map(e=>({display:e.display,dominant_color:eo(e.display),position:-1,term:e.term})),isSlot0Style:!0,query:u})]})}):(0,P.jsx)(X.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:i,objectIdStr:i,slotIndex:t,viewParameter:43,viewType:2,children:(0,P.jsxs)(n.Fragment,{children:[l&&(0,P.jsx)(r.xu,{paddingY:1,marginTop:2,children:(0,P.jsx)(r.xv,{align:"center",children:l})}),(0,P.jsx)(ea,{guides:e.map(e=>({display:e.display,dominant_color:eo(e.display),position:-1,term:e.term})),isSlot0Style:!0,query:u})]})})}var ed=t(819365);function eu({slotIndex:e,storyId:i,viewParameter:t,viewType:l,storyData:a}){let{actionText:o,actionUrl:s,contextualSearchFromObjects:d,customProperties:u,descriptionFormat:c,displayOptions:p,experience:m,storyType:_,titleFormat:h}=a;switch((0,n.useEffect)(()=>{B.Z.increment("webapp.graphql.pinStory",.1,{viewType:l,storyType:_})},[l,_]),_){case G.q:{var g,y,v;if(!u||!p)return null;let{numColumnsRequested:e,titleTextColor:i}=p;if(2===e)return null;return(0,P.jsx)(H.Z,{isFullWidth:!1,actionType:u.actionType,buttonAction:null!=s?s:"",buttonText:null!=o?o:"",experience:null!=m?m:void 0,hideCompleteButton:u.hide_complete_button,imageAlt:u.image_alt,imageUrl:u.image,openNewTab:u.open_new_tab,avatarImageDetails:null!==(g=u.avatar_image_details)&&void 0!==g?g:{},examplePinImage:null!==(y=null===(v=u.example_pin_image_details)||void 0===v?void 0:v.originals)&&void 0!==y?y:{},titleText:null!=h?h:"",titleTextColor:$.e[i],titleTextCustomization:u.title_text_customization,descriptionText:null!=c?c:"",descriptionTextCustomization:u.description_text_customization})}case"feed_card_default":case"feed_card_video":return(0,P.jsx)($.Z,{buttonAction:null!=s?s:"",buttonCustomization:u.button_customization,buttonText:null!=o?o:"",experience:null!=m?m:void 0,hideCompleteButton:u.hide_complete_button,imageAlt:u.image_alt,imageUrl:u.image,openNewTab:u.open_new_tab,storyType:_,titleText:null!=h?h:"",titleTextColor:$.e[p.titleTextColor],titleTextCustomization:u.title_text_customization,videoPin:u.video_pin,videoPlaceholderImage:u.video_placeholder_image});case"general_shopping_upsell":return(0,P.jsx)($.Z,{buttonAction:null!=s?s:"",buttonText:null!=o?o:"",imageAlt:null==u?void 0:u.image_alt,imageUrl:null==u?void 0:u.image,storyType:_,titleText:null!=h?h:"",titleTextColor:$.e[p.titleTextColor]});case"BUBBLE_ONE_COL":return(0,P.jsx)(r.xu,{padding:2,children:(0,P.jsx)(V.Z,{slotIndex:e,storyKey:{type:"deprecated",data:i},storyId:i,viewType:l,viewParameter:t})});case"pinner_authority":case"pinner_authority_unified":return(0,P.jsx)(ei.Z,{storyId:i,slotIndex:e});case"stela_in_flashlight_onecol":return(0,P.jsx)(ee,{storyId:i,slotIndex:e});case"search_guides":return(0,P.jsx)(es,{guides:null!=d?d:[],slotIndex:e,storyId:i,titleFormat:null!=h?h:""});default:return null}}let ec=(0,U.Z)({useGraphQLAdapter:()=>null,useLegacyAdapter:e=>{let i=(0,l.useSelector)(({stories:i})=>i[e]);if(!i)return null;let{action:t,container_type:n,custom_properties:a,display_options:r,experience:o,story_type:s,title:d,description:u,objects:c}=i;if(!s)return null;let p=null==c?void 0:c.filter(e=>"contextual_search"===e.schema||"contextual_search"===e.type).map(e=>{var i,t;return{schema:"contextual_search",display:null!==(i=e.display)&&void 0!==i?i:"",term:null!==(t=e.term)&&void 0!==t?t:""}});return{actionText:null==t?void 0:t.text,actionUrl:null==t?void 0:t.url,customProperties:a,displayOptions:r?{numColumnsRequested:r.num_columns_requested,titleTextColor:r.title_text_color}:null,experience:o,storyType:(0,ed.Z)({containerTypeIsItemGrid:56===n,storyType:s})?"BUBBLE_ONE_COL":s,titleFormat:null==d?void 0:d.format,descriptionFormat:null==u?void 0:u.format,contextualSearchFromObjects:p}}}),ep=e=>(0,P.jsx)(ec,{input:{enabled:!1,data:e.storyId},children:({data:i})=>i&&(0,P.jsx)(eu,{...e,storyData:i})});var em=t(679420),e_=t(726091);function eh(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let eg={},ey=e=>{eg[e]&&eg[e].handlePullToRefresh()},ev=(e,i)=>{eg[e]=i},ef=e=>{delete eg[e]},ex=()=>{let{plpImageRenderData:e}=(0,M.HW)(),[i]=e;return i?i.pin_id:null};class eb extends n.PureComponent{constructor(...e){super(...e),eh(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:ex(),feedItem:null}:null}),eh(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),eh(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),eh(this,"gridContainerRef",(0,n.createRef)()),eh(this,"renderFeedPin",(e,i)=>{let{feedItemProps:t,location:n,performanceOptimization:l,renderSquarePins:a,showSeoMetadata:r,squarePins:o,trafficSource:s}=this.props,{auxData:d,componentType:u,feedback:c,imageOnly:p,impressionData:m,objectIdStr:_,oneTapSave:h,onFeedItemClick:g,onPinLinkClick:y,shouldAllowProductPriceIndicator:v,showSeoMetadata:f,viewData:x,viewParameter:b,viewType:S}=t||{},k=(n.search||"").includes("force_seo"),w=!!(null!=l&&l.lazyLoadBelowFoldIndex)&&i>l.lazyLoadBelowFoldIndex,I=!!(null!=l&&l.priorityFetchAboveFoldIndex)&&i<=l.priorityFetchAboveFoldIndex;return(0,P.jsx)(Z.default,{auxData:d,componentType:u||0,duploFeedItemProps:{onPinClick:g,onPinLinkClick:y,showSeoMetadata:r||k||f},duploIsSquarePin:a||o,duploLazyLoadImage:w,duploOneTapSave:h,duploPriorityFetchImage:I,duploQueryRef:null,duploShouldAllowProductPriceIndicator:v,feedback:c,imageOnlyOption:p?"image-only":"default",impressionData:m,objectIdStr:_,pinId:e.id,slotIndex:i,trackingParams:e.trackingParams,trafficSource:s,viewData:x,viewParameter:b,viewType:S||1})})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),ev(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),ef(this.props.feedKey)}componentDidUpdate(e){let{refreshing:i,unauthLandingPinStateForAuthHomefeed:t}=this.state,{feedItems:n,authHomefeedComponentDidUpdate:l}=this.props,a=i&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(a&&this.setState({refreshing:!1}),l&&t){let i=l({feedItems:n,prevFeedItems:e.feedItems,finishedRefresh:a,unauthLandingPinStateForAuthHomefeed:t});i&&this.setState({unauthLandingPinStateForAuthHomefeed:i})}}render(){let{deviceType:e,emptyState:i,feedItemProps:t,feedItems:l,feedItemsAdjustment:a,feedKey:d,gridConfig:c,pagination:p,pullToRefresh:_,renderFeedItem:g,serverRender:y,showBizNuxHomefeedLoader:v,trafficSource:f,visuallyCompleteProfilerOptions:x,i18n:b,pageSize:S}=this.props,{unauthLandingPinStateForAuthHomefeed:k}=this.state,w=null!=k&&k.feedItem&&l.length?[k.feedItem,...l]:l,{viewParameter:I,viewType:T}=t||{},{key:j}=c||{},A=d+(j?`|${j}`:""),E="user_search"===f,C=E?window.innerWidth-16:200,F={columnWidth:"desktop"===e?s.yF:C,renderItem:({data:e,itemIdx:i})=>{if(g){let t=g(e,i);if("FALLBACK_TO_DEFAULT"!==t)return t}switch(e.type){case"pin":return(0,P.jsx)(N.cn,{children:this.renderFeedPin(e,i)});case"user":return(0,P.jsx)(e_.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:E,viewParameter:I,viewType:T});case"board":return(0,P.jsx)(h.Z,{boardId:e.id,type:"grid",viewParameter:I,viewType:T});case"topic":return(0,P.jsx)(em.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:I,viewType:T});case"story":return"number"==typeof I?(0,P.jsx)(ep,{slotIndex:i,storyId:e.id,viewParameter:I,viewType:T||1}):null;case"FEED_BREAK_IN":return a&&"breakIn"===a.type&&a.value.content;default:return null}},gutterWidth:"desktop"===e?4*s.jC:"board"===f?4:void 0,loadItems:p.loadNext,minCols:E?1:2,...c},R=!v&&p.isLoadingNext&&0===w.length&&!this.state.refreshing,L=S&&25>parseInt(S,10),[O,M,Z]=(null==a?void 0:a.type)==="fullWidthBreakIn"?[w.slice(0,a.value.index),a.value.content,w.slice(a.value.index)]:[w,null,[]],B="desktop"===e&&"flashlight"===f,U=B?0:s.qG;return(0,P.jsxs)(r.xu,{"data-test-id":"MobileFeed",children:[(0,P.jsx)(z.Z,{enabled:!!_,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,P.jsxs)(r.xu,{marginStart:U,marginEnd:U,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,P.jsxs)(u.Z,{includeBackgroundImages:null==x?void 0:x.includeBackgroundImages,includeVideos:null==x?void 0:x.includeVideos,isAtEndOfFeed:!p.hasNext,itemCount:w.length,pinData:null==x?void 0:x.pins,children:[w.length?(0,P.jsx)(r.xu,{"data-test-id":"feed",marginTop:(0,N.kk)({isDesktop:"desktop"===e}),children:(0,P.jsx)(m.Z.Consumer,{children:e=>(0,P.jsx)(n.Fragment,{children:(0,P.jsxs)(N.c$,{children:[(0,P.jsx)(o.Z,{cacheKey:A,id:y?d:void 0,items:O,scrollContainerRef:e,serverRender:y,...F}),M,Z.length>0&&(0,P.jsx)(o.Z,{cacheKey:`${A}_afterBreak`,items:Z,scrollContainerRef:e,...F})]})})})}):p.isLoadingNext?(0,P.jsx)(N.gG,{}):null!=i?i:null,p.isLoadingNext&&"board"===f&&L&&(0,P.jsx)(r.$j,{accessibilityLabel:b._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),R&&(0,P.jsx)(r.xu,{column:12,paddingY:2,children:(0,P.jsx)(K.Z,{partialViewportWidth:B})}),v&&(0,P.jsx)(D,{homefeedLoading:p.isLoadingNext,gridContainerRef:this.gridContainerRef})]})]})}}function eS({feedItems:e,pagination:i,...t}){let{feedItemsAdjustment:n}=t,r=(0,a.useLocation)(),o=(0,_.ZP)(),s=(0,d.ZP)(),{isAuthenticated:u,isBot:p}=(0,c.B)(),{isBizNuxHomefeedLoadShown:m}=(0,l.useSelector)(({session:e})=>e),h=e;return(null==n?void 0:n.type)==="breakIn"?h=(0,O.N)({items:e,breakIn:n.value}):(null==n?void 0:n.type)==="offset"&&(h=e.slice(n.value)),(0,P.jsx)(eb,{...t,deviceType:o,feedItems:h,isAuthenticated:u,pagination:i,location:r,i18n:s,showBizNuxHomefeedLoader:!!m,showSeoMetadata:p||!u})}function eP({resource:{isAtEnd:e,isFetching:i,fetchMore:t,refresh:n},...a}){let r=(0,l.useSelector)(({feeds:e})=>{var i;return null!==(i=e[a.feedKey])&&void 0!==i?i:[]});return(0,P.jsx)(eS,{...a,feedItems:r,pagination:{hasNext:!e,isLoadingNext:i,loadNext:()=>t(),refetch:()=>n()}})}function ek({resourceConfig:e,...i}){let t=(0,p.Z)(e);return(0,P.jsx)(eP,{...i,resource:t})}},41669:(e,i,t)=>{"use strict";t.d(i,{Z:()=>P});var n=t(883119),l=t(563962),a=t(536042),r=t(245410),o=t(599226),s=t(98736),d=t(618569),u=t(63262),c=t(549201),p=t(272109),m=t(802071),_=t(230910),h=t(198060),g=t(471819),y=t(525104),v=t(712968),f=t(820166),x=t(618671),b=t(785893);let S=({children:e,pulsar:i,testId:t})=>i.show?(0,b.jsx)(n.xu,{position:"relative","data-test-id":t,children:(0,b.jsxs)(n.iP,{tapStyle:"none",onTap:i.onClick,children:[(0,b.jsx)(n.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,b.jsx)(n.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,b.jsx)(n.o3,{})})]})}):(0,b.jsx)(n.xu,{"data-test-id":t,children:e});function P({auxData:e,disabled:i,disableLog:t,followEventType:P,id:k,inline:w,invertColors:I,isFollowed:T,isIdeaPin:j,isLegoEnabled:A,isSecondaryButton:E,isUserFollowButton:C,isUserMe:F,onFollow:R,onUnfollow:L,pinId:D,shouldUseLegoColors:O,showPulsar:N,size:z,textType:M="FollowFollowing",unfollowEventType:K,viewParameter:Z,viewType:B,clientTrackingParams:U}){let H=(0,a.ZP)(),V=(0,c.HG)(),{showToast:G}=(0,u.F9)(),$=(0,d.Z)(),W=(0,l.Z)(),q=(0,o.Z)(),{checkExperiment:Y}=(0,r.F)(),X=(0,g.Z)(),J=(0,m.Z)(),Q=J&&J.isAuth,{unauthFollowUserId:ee,setUnauthFollowUserId:ei}=(0,x.f)(),et=(0,v.mN)()(k),en=(0,y.S6)()(null!=D?D:""),{link_domain:el,native_creator:ea,origin_pinner:er,pinner:eo}=en||{},es=(0,_.wS)(el,ea,er,eo),ed=null!=et?et:es;(0,p.Z)(()=>{!V&&Q&&ee&&k&&ee===k&&R(k)});let eu=X({fn:()=>{Q?T?(L(k),t||W({event_type:K,view_type:B,view_parameter:Z,object_id_str:k,aux_data:e,clientTrackingParams:U})):(R(k),C&&G(({hideToast:e})=>{if(!ed)return null;let i=ed.username?`/${ed.username}/`:"";return(0,b.jsx)(f.Z,{handleHide:e,text:H._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:k,href:i,imageUrl:ed.image_medium_url})}),t||W({event_type:P,view_type:B,view_parameter:Z,object_id_str:k,aux_data:e,clientTrackingParams:U})):((0,s.My)(`mweb_unauth_follow_button.tap.${String(B)}`),5===B&&26===P&&(0,s.My)("mweb_unauth_board_page_follow_button.tap"),(0,s.NC)(T?"press_profile_unfollow":"press_profile_follow"),$({action:"click",item:"board-follow-button"}),q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:j?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:V&&Y("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!V&&Y("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),V||ei(null!=k?k:""),(0,s.NC)("clickthrough"))},modalHeader:(0,h.N4)({i18n:H,toFollow:!T})}),ec=!T&&!!N,ep=()=>{if(F)return H._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===M)return T?H._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):H._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===M?H._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):H._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return T?e:H._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,b.jsx)(S,{pulsar:ec?{show:!0,onClick:eu}:{show:!1},testId:F||T?"board-unfollow-button":"board-follow-button",children:(0,b.jsx)(n.zx,{color:O||"AddRemove"===M||!A&&E||T?"gray":"red",disabled:F||i,fullWidth:w,onClick:ec?void 0:({event:i})=>{i.preventDefault(),i.stopPropagation(),t||W({event_type:101,component:13672,element:11951,object_id_str:k,view_type:B,view_parameter:Z,aux_data:e,clientTrackingParams:U}),eu()},selected:I?!T:O&&T||!!T&&E,size:z,text:ep(),accessibilityLabel:ep()})})}},818577:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(883119),l=t(785893);function a({text:e}){return(0,l.jsx)(n.xu,{display:"visuallyHidden",children:(0,l.jsx)(n.X6,{accessibilityLevel:1,children:e})})}},162664:(e,i,t)=>{"use strict";t.d(i,{c:()=>l,t:()=>a});var n=t(435399);function l({children:e}){let{height:i}=(0,n.J)();return e(i)}function a(){let{height:e}=(0,n.J)();return e}},435399:(e,i,t)=>{"use strict";t.d(i,{J:()=>d,Z:()=>m});var n=t(667294),l=t(583592),a=t(515640),r=t(589665),o=t(785893);let{Provider:s,useHook:d}=(0,l.Z)("Header"),u={childList:!0,attributes:!0,subtree:!0},c={height:r.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,i){switch(i.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:i.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:i.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:i.payload};default:throw Error("action type not supported")}}function m({children:e}){let i=(0,n.useRef)(null),[{height:t,isInBiznuxFullscreen:l,repinPinId:d,repinStartAnimation:m,showAccountMenuFlyout:_},h]=(0,n.useReducer)(p,c);(0,n.useEffect)(()=>{let e=document.getElementById(r.WZ);return e&&"undefined"!=typeof MutationObserver&&(i.current=new MutationObserver(()=>{e&&h({type:"updateHeight",payload:e.clientHeight})}),i.current.observe(e,u)),()=>{var e;null===(e=i.current)||void 0===e||e.disconnect()}});let g=(0,n.useMemo)(()=>({height:t,isInBiznuxFullscreen:l,repinPinId:d,repinStartAnimation:m,showAccountMenuFlyout:_,updateHeaderState:h}),[h,t,l,d,m,_]);return(0,o.jsx)(s,{value:g,children:(0,o.jsx)(a.t,{children:e})})}},589665:(e,i,t)=>{"use strict";t.d(i,{L1:()=>a,Rz:()=>s,WZ:()=>r,cI:()=>l,fe:()=>o,hu:()=>n});let n=64,l=80,a=22,r="HeaderContent",o=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},934211:(e,i,t)=>{"use strict";t.d(i,{Hv:()=>d,WQ:()=>s});var n=t(667294),l=t(583592),a=t(223654),r=t(785893);let{Provider:o,useHook:s}=(0,l.Z)("HeaderShadow");function d({children:e}){let[i,t]=(0,n.useState)(!1),[l,s]=(0,n.useState)(0),[d,u]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=(0,a.Z)(()=>{t(window.scrollY>0),s(window.scrollY)},50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,r.jsx)(o,{value:{currentScrollPosition:l,isScrolled:i,setSubheaderShadow:u,subheaderShadow:d},children:e})}},367184:(e,i,t)=>{"use strict";t.d(i,{Z:()=>_});var n=t(667294),l=t(245410),a=t(616550),r=t(883119),o=t(388011),s=t(536042),d=t(785893);function u({text:e,isSelected:i,icon:t,animationType:n,position:l,hasStartPulling:a,isExecuted:o}){return(0,d.jsxs)(r.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,d.jsx)(r.xu,{color:i?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:a?4:0,dangerouslySetInlineStyle:i&&o?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:i&&"move"===n?40:0}},children:(0,d.jsx)(r.JO,{size:100*l<24?100*l:24,icon:t,accessibilityLabel:e,color:i?"light":"dark"})}),(0,d.jsx)(r.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:i?1:0,transition:"all .3s ease-out"}},children:(0,d.jsx)(r.xv,{align:"center",size:"100",children:e})})]})}function c({enabled:e,onSelect:i,refreshing:t}){let l=(0,n.useRef)(null),[a,r]=(0,n.useState)(0),[o,s]=(0,n.useState)(!1),d=t?0:a/250,u=d>0,c=()=>{s(!1),r(0)};(0,n.useEffect)(()=>{if(e){let e=e=>{window.scrollY<=0&&!t&&(l.current=e.touches[0].clientY)},n=e=>{if(l.current){let i=e.touches[0].clientY,t=(i-l.current)*.5;t>0&&(r(t),e.preventDefault())}},o=()=>{l.current&&(s(!0),i({pullDistance:a,position:d,resetState:c}),l.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",o),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("touchend",o)}}},[e,i,a,t,d]);let p=l.current;return{pullDistance:a,hasStartPulling:u,position:d,startYRefCurrent:p,PULL_MENU_DISTANCE:250,isExecuted:o}}function p({enabled:e,onPull:i,refreshing:t}){let n=(0,s.ZP)(),l=(0,a.useHistory)(),{logContextEvent:p}=(0,o.v)(),m=e=>e>=.6,_=e=>e>.4&&e<.6,h=()=>{p({view_type:1,event_type:158,view_parameter:92}),i()},g=()=>{p({view_type:1,event_type:10144,view_parameter:92}),l.push("edit/")},{position:y,hasStartPulling:v,PULL_MENU_DISTANCE:f,isExecuted:x}=c({enabled:e,onSelect:e=>{let{position:i,resetState:t}=e;_(i)?setTimeout(()=>{h(),t()},500):m(i)?setTimeout(()=>{g(),t()},500):t()},refreshing:t}),b=n._('Refresh', 'pullMenu.refresh', 'Pull down on grid to refresh items'),S=n._('Edit Feed', 'pullMenu.goTuner', 'Pull down on grid to edit your feed');return(0,d.jsx)(r.xu,{children:e&&(0,d.jsxs)(r.xu,{display:"flex",alignItems:"center",direction:"column",height:y*f,justifyContent:"center",marginBottom:v?4:0,children:[(0,d.jsx)(u,{text:S,isSelected:m(y),icon:"edit",animationType:"move",position:y,hasStartPulling:v,isExecuted:x}),(0,d.jsx)(u,{text:b,isSelected:_(y),icon:"refresh",position:y,hasStartPulling:v,isExecuted:x})]})})}function m({enabled:e,onPull:i,refreshing:t}){let n=(0,s.ZP)(),{logContextEvent:l}=(0,o.v)(),{position:a,startYRefCurrent:u,pullDistance:p}=c({enabled:e,onSelect:e=>{let{pullDistance:t,resetState:n}=e;t>=120&&(l({view_type:1,event_type:158,view_parameter:92}),i()),n()},refreshing:t}),m=n._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,d.jsx)(r.xu,{children:e&&(0,d.jsx)(r.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:120*a,dangerouslySetInlineStyle:{__style:{opacity:Math.min(a,1),transition:null===u?"all .3s ease-out":void 0}},children:(0,d.jsx)(r.JO,{size:40,icon:u&&p<120?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:m})})})}function _({enabled:e,onPull:i,refreshing:t}){let{checkExperiment:a}=(0,l.F)(),{anyEnabled:r}=a("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,d.jsx)(n.Fragment,{children:r?(0,d.jsx)(p,{enabled:e,onPull:i,refreshing:t}):(0,d.jsx)(m,{enabled:e,onPull:i,refreshing:t})})}},460914:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(883119),l=t(785893);function a({children:e,onMouseEnter:i,onMouseLeave:t,onTouch:a,rounding:r,fullWidth:o=!1,pressState:s="none",accessibilityLabel:d,role:u}){let c=(Array.isArray(s)?s:[s]).includes("compress");return(0,l.jsx)(n.iP,{fullWidth:o,onMouseEnter:i&&(({event:e})=>i(e)),onMouseLeave:t&&(({event:e})=>t(e)),onTap:a&&(({event:e})=>a(e)),rounding:r,tapStyle:c?"compress":"none",accessibilityLabel:d,role:u,children:e})}},397831:(e,i,t)=>{"use strict";t.d(i,{C:()=>s,f:()=>o});var n=t(667294),l=t(583592),a=t(785893);let{Provider:r,useHook:o}=(0,l.Z)("MostRecentPin");function s({children:e}){let[i,t]=(0,n.useState)(),[l,o]=(0,n.useState)(),s=(0,n.useCallback)(e=>{let i=l?l.slice(0,10):[],t=[e].concat(i.filter(i=>i!==e));o(t)},[l]),d=(0,n.useMemo)(()=>({id:i,plpImageSignatures:l,setMostRecentPinId:t,setMostRecentPinImage:s}),[i,l,s]);return(0,a.jsx)(r,{value:d,children:e})}},199999:(e,i,t)=>{"use strict";t.d(i,{D:()=>l,a:()=>a});var n=t(583592);let{Provider:l,useMaybeHook:a}=(0,n.Z)("unauthPageWrapperContext")},187768:(e,i,t)=>{"use strict";t.d(i,{K:()=>r,T:()=>o});var n=t(667294),l=t(785893);let a=(0,n.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),r=()=>(0,n.useContext)(a);function o({children:e}){let[i,t]=(0,n.useState)(Object.freeze({})),r=(0,n.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>i[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:n})=>t({...i,[e]:n})}),[i]);return(0,l.jsx)(a.Provider,{value:r,children:e})}},827192:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>iV,pinRepPaddingInBoint:()=>iD});var n,l,a,r,o,s,d,u=t(667294),c=t(702664),p=t(167912),m=t(616550),_=t(883119),h=t(40660),g=t(521262),y=t(563962),v=t(117651),f=t(402833),x=t(604094),b=t(765456),S=t(803817),P=t(536042),k=t(630089),w=t(525571),I=t(958083),T=t(624417),j=t(740494),A=t(465991),E=t(245410),C=t(950695),F=t(895200),R=t(282802),L=t(643183),D=t(446077),O=t(98736),N=t(618569),z=t(938818),M=t(549201),K=t(272109),Z=t(567648),B=t(873610),U=t(768865),H=t(843843),V=t(328939),G=t(480462),$=t(348597),W=t(230910),q=t(836),Y=t(261453),X=t(411224),J=t(493214),Q=t(870243),ee=t(988014),ei=t(460914),et=t(107877),en=t(951202),el=t(341027),ea=t(785893);let er=({data:{pinProduct:{maxPrice:e,minPrice:i,standardPrice:t,price:n},domain:l}})=>(0,ea.jsxs)(u.Fragment,{children:[l&&(0,ea.jsx)(_.xv,{color:"default",size:"100",children:l}),(0,ea.jsx)(_.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:(0,ea.jsx)(en.Z,{textSize:"100",currentPrice:(0,el.Z)({maxPrice:e,minPrice:i,price:n}),originalPrice:t})})]}),eo=void 0!==n?n:n=t(788536);function es({pinKey:e}){var i,t,n;let{data:l}=(0,S.sr)(eo,e,{type:"pin",useLegacyAdapter:e=>({linkDomain:e.link_domain&&{__typename:"Domain"},richMetadata:e.rich_metadata&&{recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}}))},richSummary:e.rich_summary&&{siteName:e.rich_summary.site_name,products:e.rich_summary.products&&e.rich_summary.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}}))}})});if(!l)return null;let a=(0,W.kb)({hasLinkDomain:!!l.linkDomain,richMetadata:l.richMetadata&&{recipe:l.richMetadata.recipe&&{fromAggregatedData:l.richMetadata.recipe.fromAggregatedData},products:(null!==(i=l.richMetadata.products)&&void 0!==i?i:[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))},richSummary:l.richSummary&&{products:(null!==(t=l.richSummary.products)&&void 0!==t?t:[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))}});return a&&a.price?(0,ea.jsx)(er,{data:{pinProduct:a,domain:null===(n=l.richSummary)||void 0===n?void 0:n.siteName}}):null}var ed=t(510336),eu=t(333741);let ec=void 0!==l?l:l=t(991102),ep=(0,u.lazy)(()=>t.e(26162).then(t.bind(t,121326))),em=({title:e})=>{let i=(0,M.HG)(),t=(0,N.Z)();return(0,ea.jsx)(_.xu,{"data-test-id":"related-pins-title",children:(0,ea.jsx)(_.iP,{onTap:()=>{t({action:"click",item:"related-pins-title"})},children:(0,ea.jsx)(J.Z,{size:i?"300":"100",weight:"bold",lineClamp:2,children:e})})})},e_=({credits:e,data:i,hasAffiliatedProducts:t,hidePinMetadata:n,isPromotedPin:l,isSponsoredPin:a,logCreditsClick:r,marginTop:o,pinDescription:s,pinGraphqlRef:d,pinId:c,pinnedToBoardId:p,pinReactionCounts:h,recipeReview:g,shouldShowReactions:y,showPriceIndicatorInPinCardDetails:v,title:f,type:b})=>{var S,k,w,I,T,j,A,E,C;let F=(0,P.ZP)(),D=(0,m.useLocation)(),z=(0,N.Z)(),{isAuthenticated:K}=(0,R.B)(),Z=(0,M.HG)(),B=(0,m.useHistory)(),U=f||s||"oneTap"===b,{pinner:H}=i,V=(0,et.gC)()(p||String(null===(S=i.board)||void 0===S?void 0:S.entityId)),G=l&&(null===(k=i.promoter)||void 0===k?void 0:k.entityId)===(null===(w=i.nativeCreator)||void 0===w?void 0:w.entityId),$=ee.Q0?2:o||(U&&!n?1:0);return(0,ea.jsxs)(_.xu,{flex:"grow",children:[(0,ea.jsx)(_.xu,{display:"flex",marginTop:n?0:o||1,children:(0,ea.jsxs)(_.xu,{flex:"grow",children:[(a||t)&&!G&&(0,ea.jsx)(_.xu,{marginBottom:1,children:(0,ea.jsx)(_.xu,{flex:"grow",overflow:"hidden",children:(0,ea.jsx)(ed.Z,{hasAffiliatedProducts:t,isPromoted:l,sponsorName:i.sponsorship?(0,ea.jsx)(_.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(I=i.sponsorship)||void 0===I?void 0:I.status})})}),f&&(0,ea.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:!n&&(0,ea.jsx)(em,{title:f})}),Z&&!K&&s&&!(0,ee.$Y)(D)&&!(0,ee.E0)(D)&&(0,ea.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,ea.jsx)(_.iP,{onTap:()=>{z({action:"click",item:"related-pins-description"})},children:(0,ea.jsx)(_.xv,{size:"100",inline:!0,children:s})})}),v&&(0,ea.jsx)(es,{pinKey:d?{type:"graphqlRef",data:d}:{type:"deprecated",data:c}}),g]})}),y&&h&&Object.keys(h).length>0&&(0,ea.jsx)(_.xu,{height:18,display:void 0,justifyContent:"center",children:(0,ea.jsx)(x.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,ea.jsx)(L.Z,{children:(0,ea.jsx)(ep,{pinReactionCounts:h})})})}),!v&&e?(0,ea.jsx)(ei.Z,{onTouch:i=>{i.stopPropagation(),i.preventDefault(),e.link&&B.push(e.link),r()},pressState:"none",children:(0,ea.jsx)(_.xu,{children:(!n||a||G)&&(0,ea.jsxs)(_.xu,{display:"flex",marginTop:$,marginBottom:n?2:0,position:"relative",direction:"row",children:[(0,ea.jsx)(_.xu,{flex:"none",display:void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,ea.jsx)(_.iP,{onTap:()=>{z({action:"click",item:"related-pins-avatar-image"})},children:(0,ea.jsx)(Q.qE,{accessibilityLabel:e.title||e.subtitle||F._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,ea.jsx)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,ea.jsx)(_.iP,{onTap:()=>{z({action:"click",item:"related-pins-name"})},children:(0,ea.jsxs)(u.Fragment,{children:[e.title&&(0,ea.jsx)(_.xv,{lineClamp:1,size:"100",weight:a&&!G||t?"normal":"bold",children:e.title===(null==H?void 0:H.fullName)&&(null!=H&&H.isVerifiedMerchant||null!=H&&null!==(T=H.verifiedIdentity)&&void 0!==T&&T.verified)?(0,ea.jsx)(eu.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:H.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!a&&!n||G)&&(0,ea.jsx)(_.xv,{lineClamp:a||t?void 0:1,size:Z?"200":"100",weight:Z?"bold":"normal",children:e.subtitle}):!K&&V&&"protected"!==V.privacy?(0,ea.jsx)(_.xu,{"data-test-id":"related-pin-text-below-name",children:(0,ea.jsx)(_.rU,{underline:"hover",href:null!==(j=V.url)&&void 0!==j?j:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,O.NC)("click_board_pin_attribution_profile"),z({action:"click",item:"related-pin-text-below-name"})},children:(0,ea.jsx)(_.xv,{size:"200",children:V.name})})}):null]})})})]})})}):Z&&!!H&&((0,ee.L6)(D)||(0,ee.cD)(D)||(0,ee.$Y)(D))&&(0,ea.jsxs)(_.xu,{display:"flex",marginTop:U?2:0,children:[(0,ea.jsx)(_.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,ea.jsx)(_.iP,{onTap:()=>{z({action:"click",item:"related-pins-avatar-image"})},children:(0,ea.jsx)(Q.qE,{name:H.username||"",size:"sm",src:null!==(A=H.imageSmallUrl)&&void 0!==A?A:void 0})})}),(0,ea.jsxs)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,ea.jsx)(_.rU,{underline:"hover",href:`/${H.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,O.NC)("click_board_pin_attribution_board"),z({action:"click",item:"related-pins-name"})},children:(0,ea.jsx)(_.xv,{size:"200",weight:"bold",children:H.fullName||H.username})}),V&&"protected"!==V.privacy?(0,ea.jsx)(_.xu,{"data-test-id":"related-pin-text-below-name",children:(0,ea.jsx)(_.rU,{underline:"hover",href:null!==(E=V.url)&&void 0!==E?E:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,O.NC)("click_board_pin_attribution_profile"),z({action:"click",item:"related-pin-text-below-name"})},children:(0,ea.jsx)(_.xv,{size:"200",children:null!==(C=V.name)&&void 0!==C?C:""})})}):null]})]})]})},eh=e=>{let{pinId:i,pinGraphqlRef:t}=e,{data:n,childDataKey__DEPRECATED:l}=(0,S.sr)(ec,t?{type:"graphqlRef",data:t}:{type:"deprecated",data:i},{type:"pin",useLegacyAdapter:e=>({entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status}})});return n&&(0,ea.jsx)(e_,{...e,data:n,pinGraphqlRef:"graphqlRef"===l.type?l.data:null})};var eg=t(792953),ey=t(671915);let ev=void 0!==a?a:a=t(441959),ef=(e,i)=>{let t=(0,p.useRelayEnvironment)();return(0,ea.jsx)(ey.t,{invite_code:e,relayEnvironment:t,inviteQuery:ev,children:e=>{let t=null!=e&&e.data?e.data.sender:null,n=t&&t.first_name?t.first_name.substring(0,30):"";if(!n)return null;let l=t&&!t.is_default_image?t.image_medium_url:"",a=(0,k.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:n});return(0,ea.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,ea.jsx)(_.zd,{height:32,width:32,children:(0,ea.jsx)(Q.qE,{name:n,src:l})}),(0,ea.jsx)(_.xu,{width:"80%",paddingY:2,children:(0,ea.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:a})})]})}})},ex=(e,i)=>(0,ea.jsx)(ey.Z,{invite_code:e,children:e=>{let t=e?e.sender:null,n=t&&t.first_name?t.first_name.substring(0,30):"";if(!n)return null;let l=t&&!t.is_default_image?t.image_medium_url:"",a=(0,k.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:n});return(0,ea.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,ea.jsx)(_.zd,{height:32,width:32,children:(0,ea.jsx)(Q.qE,{name:n,src:l})}),(0,ea.jsx)(_.xu,{width:"80%",paddingY:2,children:(0,ea.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:a})})]})}}),eb=(e,i)=>{let{checkExperiment:t}=(0,E.F)(),n=t("graphql_migration_sharelink_sgrowth_web").anyEnabled;return n?ef(e,i):ex(e,i)},eS=({inviteCode:e})=>{let i=(0,P.ZP)();return(0,ea.jsx)(_.xu,{minHeight:82,children:(0,ea.jsx)(x.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,ea.jsx)(L.Z,{fallback:(0,ea.jsx)(eg.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:eb(e,i)})})})};var eP=t(388011),ek=t(570476),ew=t(448709),eI=t(898252),eT=t(176172),ej=t(700746),eA=t(348672),eE=t(550140),eC=t(63262),eF=t(739425),eR=t(994405),eL=t(169492),eD=t(624524),eO=t(471819),eN=t(527386),ez=t(724097),eM=t(922204),eK=t(260070),eZ=t(712968),eB=t(648575),eU=t(252315);let eH=new _.Ry(1);function eV({buttonText:e,clientTrackingParams:i,color:t="primary",deeplinkUri:n,experience:l,inline:a=!0,minWidth:r,onTouch:o,onUnsave:s,pinId:d,pinnedToBoardId:p,shape:h,shouldShowSavedButton:g,viewType:v,viewParameter:f,showSaveHandoffExperience:x}){var b;let S=(0,P.ZP)(),k=(0,c.useDispatch)(),w=(0,m.useHistory)(),I=(0,m.useLocation)(),T=(0,eU.M)(),j=I.pathname.startsWith("/pin"),A=(0,c.useSelector)(({session:e})=>e.hasSavedUnauthPin),C=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),F=null===(b=(0,eZ.Tt)())||void 0===b?void 0:b.pin_count,R=(0,y.Z)(),L=(0,N.Z)(),{checkExperiment:D}=(0,E.F)(),O=(0,eN.be)(),z=e=>w.push(e),{showToast:M,showRepinConfirmation:K}=(0,eM.Z)(),Z=()=>{var e;k((0,eB.Z)({checkExperiment:D,history:w,i18n:S,logContextEvent:R,onSuccess:()=>{l&&k(O(l.placement_id,l.experience_id))},originalPinId:d,pinId:d,trackingParams:{clientTrackingParams:i,pinnedToBoardId:p},showRepinConfirmation:x&&!j?()=>void 0:K,disableRepinAnimation:C===d,pinCount:F,historyPush:z,savePinId:null!==(e=null==T?void 0:T.save)&&void 0!==e?e:()=>{}})).catch(e=>M(({hideToast:i})=>(0,ea.jsx)(eE.ZP,{type:"error",text:e.message||S._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i})))},B=(0,u.useRef)(null),U=x&&!A,V=(0,eO.Z)(),G=V({fn:e=>{e.stopPropagation(),e.preventDefault(),o&&o(e),g?g&&s&&s():Z()},modalHeader:(0,eD.Bx)(S)});(0,u.useEffect)(()=>{U&&!B.current&&(L({action:"trigger",item:"unauth-save-button-quicksave"}),R({event_type:14581}),Z(),k((0,eK.e2)())),B.current=U});let $=()=>S._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),W=()=>e||S._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return A&&!j?null:(0,ea.jsx)(_.xu,{"data-test-id":"save-button-mobile",zIndex:eH,children:n?(0,ea.jsx)(H.di,{accessibilityLabel:$(),color:t,customStyles:{padding:"14px 16px"},deeplinkUri:n,inline:a,minHeight:48,minWidth:r,onTouch:G,pressState:["compress","background"],shape:h,size:"lg",text:W(),to:w.location.pathname,upsellType:"save",viewType:v,viewParameter:f}):(0,ea.jsx)(ez.Z,{accessibilityLabel:$(),color:t,customStyles:{padding:"14px 16px"},inline:a,minHeight:48,minWidth:r,onTouch:G,pressState:"compress",shape:h,size:"300",text:W()})})}var eG=t(86829),e$=t(540459),eW=t(77875),eq=t(503973);function eY(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class eX extends u.PureComponent{constructor(...e){var i;super(...e),i=this,eY(this,"state",{saveState:void 0}),eY(this,"legoFixedZIndex",new _.Ry(2)),eY(this,"onAddPin",async function(){let{clientTrackingParams:e,checkExperiment:t,dispatch:n,i18n:l,oneTapSave:a,pinId:r,pinnedToBoardId:o,showToast:s,viewType:d,historyPush:u,repinContext:c}=i.props;try{var p;let l=await n((0,eW.w)({checkExperiment:t,i18n:i.props.i18n,logContextEvent:i.props.logContextEvent,originalPinId:r,pinId:r,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==a?void 0:a.section,showToast:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:o},viewType:d,historyPush:u,savePinId:null!==(p=null==c?void 0:c.save)&&void 0!==p?p:()=>{}}));i.setState({saveState:"saved"}),n((0,eG.a)({boardId:null==a?void 0:a.boardId,localPinId:l.id,pinId:r}))}catch(e){s(({hideToast:i})=>(0,ea.jsx)(eE.ZP,{type:"error",text:e.message||l._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:i})),i.setState({saveState:void 0})}}),eY(this,"onDeletePin",async function(){let{dispatch:e,clientTrackingParams:t,i18n:n,pinId:l,savedInfo:a,showToast:r,repinContext:o}=i.props;if(a){e((0,eG.k)({boardId:a.boardId,localPinId:a.localPinId,pinId:l})),null==o||o.unsave(l);try{await e((0,e$.q)({pinId:a.localPinId,boardId:a.boardId,clientTrackingParams:t})),r(({hideToast:e})=>(0,ea.jsx)(eE.ZP,{text:n._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e})),i.setState({saveState:void 0})}catch(e){r(({hideToast:e})=>(0,ea.jsx)(eE.ZP,{type:"error",text:n._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e})),i.setState({saveState:"saved"})}}}),eY(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();let{saveState:i}=this.state,{history:t,pinId:n,isOneTapExploreLocalTab:l,pinnedToBoard:a,directSaveExpGroup:r,oneTapSave:o}=this.props,s=r.includes("overlay");["saving","deleting"].includes(i)||l&&a||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),l||!o&&s?t.push({pathname:`/pin/${n}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,eD.Bx)(this.props.i18n)})),eY(this,"shouldDisplayAsSaved",({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:t})=>e?!!i:!!t)}render(){let{children:e,clientTrackingParams:i,directSaveExpGroup:t,homepageExperience:n,i18n:l,isBoardIdeas:a,isOneTapExploreLocalTab:r,isRTL:o,oneTapSave:s,pinId:d,pinnedToBoard:c,pinnedToBoardId:p,savedInfo:m,shouldShowSaveHandoffExp:h}=this.props,g=t.includes("overlay");if(!s&&!r&&!h&&!g)return e;let y=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!r,pinnedToBoard:c,savedInfo:m}),v={saved:"#000",unsaved:"rgba(255, 255, 255, 0.8)",savedText:"light",unsavedText:"dark"},f=y?(0,ea.jsx)(_.xv,{weight:"bold",color:"light",children:l._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,ea.jsx)(_.xv,{weight:"bold",color:"dark",children:l._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')}),x=null,b=t.includes("uselabel");return h?x=(0,ea.jsx)(eV,{buttonText:c?l._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:i,color:c?"default":"primary",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:p,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!c,showSaveHandoffExperience:h}):s?x=(0,ea.jsx)(_.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,ea.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y?v.saved:v.unsaved}},paddingX:2,paddingY:2,rounding:"circle",children:(0,ea.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,ea.jsx)(_.JO,{accessibilityLabel:y?l._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):l._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:y?"check":a?(0,eq.f)():"add",color:y?v.savedText:v.unsavedText,size:16})})})}):g&&(x=(0,ea.jsx)(_.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,ea.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y?v.saved:v.unsaved}},paddingX:b?3:2,paddingY:2,rounding:b?"pill":"circle",children:(0,ea.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:b?f:(0,ea.jsx)(_.JO,{accessibilityLabel:y?l._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):l._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:y?"check":(0,eq.f)(),color:y?v.savedText:v.unsavedText,size:16})})})})),(0,ea.jsxs)(u.Fragment,{children:[e,(0,ea.jsx)(_.xu,{bottom:!0,left:o,padding:2,position:"absolute",right:!o,zIndex:this.legoFixedZIndex,children:x})]})}}function eJ(e){let{showToast:i}=(0,eC.F9)(),t=(0,m.useLocation)(),n=(0,P.ZP)(),l=(0,y.Z)(),a=(0,eO.Z)(),r=(0,c.useDispatch)(),o=(0,m.useHistory)(),{isRTL:s,isAuthenticated:d}=(0,R.B)(),p=(0,eU.M)(),_=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),h=d&&!!_&&_===e.pinId,{pins:g,clear:v}=(0,eL.Z)(),f=(0,u.useRef)(!1),x=(0,eF.mB)(t.search),b=x.ideas_referrer,S=(0,M.HG)(),{checkExperiment:k}=(0,E.F)(),w=(0,eR.J1)(),I=!S&&b===String(25),T=e=>o.push(e),j=(0,c.useSelector)(i=>i.pins[e.pinId]&&i.pins[e.pinId].savedInfo),A=(0,c.useSelector)(i=>i.pins[e.pinId]&&i.pins[e.pinId].pinned_to_board),C=(0,c.useSelector)(e=>e.experiences[40001]);return(0,K.Z)(()=>{d&&!f.current&&g.length>0&&(f.current=!0,l({event_type:14577,aux_data:{num_unauth_saved_pins:g.length}}),[...g,..._&&k(w).anyEnabled?[{id:_}]:[]].forEach(({id:i})=>{var t;r((0,eB.Z)({checkExperiment:k,history:o,i18n:n,logContextEvent:l,onSuccess:()=>{},originalPinId:i,pinId:i,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>void 0,disableRepinAnimation:!0,historyPush:T,savePinId:null!==(t=null==p?void 0:p.save)&&void 0!==t?t:()=>{}})).catch(e=>{(0,O.My)(`error.unauth_profile_pin_merge.${e}`)})}),v())}),(0,ea.jsx)(eX,{...e,checkExperiment:k,i18n:n,requireAuthForLimitedLogin:a,history:o,logContextEvent:l,showToast:i,shouldShowSaveHandoffExp:h,isRTL:s,historyPush:T,useSmallSaveIcon:I,repinContext:p,savedInfo:j,pinnedToBoard:A,homepageExperience:C,dispatch:r})}eJ.displayName="OneTapSave";var eQ=t(310131);let e0=({index:e,carouselSlots:i,imageSpec:t,color:n,onError:l,onLoad:a})=>(0,ea.jsx)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:i.map((i,r)=>{var o,s,d;let{slotId:u,title:c,details:p,imageSizeMap:m}=i,h=m?m[t]:null,g=h&&null!==(o=h.url)&&void 0!==o?o:"";return(0,ea.jsx)(_.xu,{minWidth:"100%",dangerouslySetInlineStyle:{__style:{transform:`translate(${-100*e}%, 0%)`,transition:"transform 0.25s ease-in-out"}},"data-test-id":`carousel-swiper-${null!=u?u:r}`,children:(0,ea.jsx)(ek.Z,{alt:c||p||"",color:n,naturalHeight:null!==(s=null==h?void 0:h.height)&&void 0!==s?s:1,naturalWidth:null!==(d=null==h?void 0:h.width)&&void 0!==d?d:1,onError:l,onLoad:a,src:g,loading:"auto",fetchPriority:"auto"},null!=u?u:r)},null!=u?u:r)})});var e1=t(55193),e2=t(371362);function e6({boardUrl:e,boardName:i,directSaveExpGroup:t,isQuicksave:n,sectionName:l,sectionSlug:a}){let r=(0,P.ZP)(),o=(0,m.useHistory)(),s=new _.Ry(1),d=!!a&&`${e}${a}/`;return t.includes("footer")?(0,ea.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,ea.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:t.includes("overlay")?0:4,children:(0,ea.jsx)(_.iP,{onTap:i=>{i.event.preventDefault(),o.push(n?"/me/":d||e)},children:(0,ea.jsx)(_.xu,{position:"absolute",bottom:!0,left:!0,right:!0,marginStart:4,marginBottom:4,marginEnd:4,children:(0,ea.jsxs)(_.xu,{position:"relative",children:[(0,ea.jsx)(_.xu,{children:(0,ea.jsx)(_.xv,{color:"light",children:r._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin')})}),(0,ea.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:[(0,ea.jsx)(_.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:(0,ea.jsx)(_.xv,{color:"light",children:l?(0,k.nk)(r._('{{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay, sectionName:the section name that the pin is saved to'),{sectionName:(0,ea.jsx)(_.xv,{color:"light",weight:"bold",inline:!0,children:(0,e2.ZP)(l,22)},`pincard-${l}`)}):(0,k.nk)(r._('{{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay, boardName:the board name that the pin is saved to'),{boardName:(0,ea.jsx)(_.xv,{color:"light",weight:"bold",inline:!0,children:n?r._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,e2.ZP)(i,22)},`pincard-${i}`)})})}),(0,ea.jsx)(_.xu,{position:"absolute",right:!0,bottom:!0,marginBottom:1,children:(0,ea.jsx)(_.JO,{accessibilityLabel:r._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin'),icon:"arrow-forward",size:"16",color:"light"})})]})]})})})})}):t.includes("overlay")?(0,ea.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,children:(0,ea.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:t.includes("overlay")?0:4,children:(0,ea.jsx)(_.iP,{fullWidth:!0,fullHeight:!0,onTap:i=>{i.event.preventDefault(),o.push(n?"/me/":d||e)}})})}):(0,ea.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,ea.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:t.includes("overlay")?0:4,children:(0,ea.jsx)(_.iP,{onTap:i=>{i.event.preventDefault(),o.push(n?"/me/":d||e)},children:(0,ea.jsx)(_.xv,{color:"light",children:l?(0,k.nk)(r._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,ea.jsx)(_.xv,{color:"light",weight:"bold",inline:!0,children:(0,e2.ZP)(l,22)},`pincard-${l}`)}):(0,k.nk)(r._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,ea.jsx)(_.xv,{color:"light",weight:"bold",inline:!0,children:n?r._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,e2.ZP)(i,22)},`pincard-${i}`)})})})})})}var e3=t(391670),e4=t(51536);let e8=({clickLoggingOptions:e,domain:i,link:t,onClick:n})=>{var l;let a=null===(l=(0,e3.lO)())||void 0===l?void 0:l.logging,r=(0,P.ZP)(),o=(0,y.Z)(),s=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:{}}].map(i=>({component:0,element:162,view_type:null==a?void 0:a.viewType,view_parameter:null==a?void 0:a.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i}));return(0,ea.jsx)(_.iP,{onTap:({event:e})=>{e.stopPropagation(),s().forEach(e=>o(e)),n(e)},children:(0,ea.jsxs)(_.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,ea.jsx)(_.xu,{marginEnd:1,children:(0,ea.jsx)(_.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:r._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,ea.jsx)("a",{href:t,onClick:e=>{e.stopPropagation(),s().forEach(e=>o(e)),n(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,ea.jsx)(_.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,e4.Z)(i,27)})})]})})},e7=({domainLinkData:e})=>{let i=(0,P.ZP)(),t=(0,f.g)();return(0,ea.jsxs)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,ea.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,ea.jsx)(_.X6,{size:"400",align:"center",color:"light",children:i._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,ea.jsx)(_.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,ea.jsx)(e8,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==t?void 0:t.pinLinkClickHandler)||(()=>{})})})]})};var e5=t(698303),e9=t(525104),ie=t(935340),ii=t(738162);let it=void 0!==r?r:r=t(182964),il="Left",ia="Right",ir=({width:e,height:i,minY:t,maxY:n})=>{let l=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:t<=0?"0%":l(-1*t*i),bottom:n>=1?"0%":l(-((1-n)*1)*i)}},io=({children:e,margin:i,disableRounding:t})=>(0,ea.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,ea.jsx)(_.zd,{wash:!0,rounding:t?0:eT.mv,children:e})}),is=({clientTrackingParams:e,color:i,data:t,description:n,directSaveExpGroup:l,domainLinkData:a,image:r,imageAltText:o,imageCrop:s,isBoardIdeas:d,isOneTapExploreLocalTab:c,isSquarePin:p,lazyLoadImage:h,onError:g,oneTapSave:y,onLoad:f,pinId:x,priorityFetchImage:b,disableDefaultContextMenu:S,pinnedToBoardId:k,productPrice:w,disableRounding:I,storyDataExists:T,title:j,type:A,videoDuration:C,viewType:F,slotIndex:L,isPromotedPin:D,setIsLongPressEnabledForAuth:z,childDataKey__DEPRECATED:K,setCarouselIndex:Z,carouselIndex:B,viewParameter:U})=>{var H,V,G,$,W,q,Y,X,J,Q,ei,et,en,el;let er=(0,P.ZP)(),eo=(0,eA.Z)(),{checkExperiment:es}=(0,E.F)(),[ed,eu]=(0,u.useState)(!1),[ec,ep]=(0,u.useState)(!1),{isAuthenticated:em}=(0,R.B)(),e_=(0,M.ZP)(),eh=(0,eU.M)(),eg=k&&!!(null!=eh&&eh.isSaved(x)),ey=a&&a.link?"with-link":"without-link",ev=!em&&"desktop"!==e_,ef=(0,u.useRef)(Date.now()),ex=(0,u.useRef)(null),eb=(0,N.Z)(),{shouldOpenInStream:eS,carouselData:ew,isEligibleForPdp:eT}=t,eE=(0,ii.I)(),{logContextEvent:eC}=(0,eP.v)(),eF=D&&T&&es("ads_mweb_idea_ad").anyEnabled,eR=es("ads_show_carousel_on_mweb").anyEnabled,eL=(0,u.useCallback)(()=>{ec||ep(!0)},[ec]);(0,u.useEffect)(()=>(eR&&"undefined"!=typeof window&&window.addEventListener("scroll",eL),()=>{"undefined"!=typeof window&&window.removeEventListener("scroll",eL)}),[eR,eL]),(0,u.useEffect)(()=>{ed&&!em&&eb({action:"view",item:"unauth-video-autoplay-on-hover"})},[ed,eb,em]),(0,u.useEffect)(()=>{var e,i;let t=`board-image-preload-${L-1}`,n=null!==(e=null===(i=document.getElementById(t))||void 0===i?void 0:i.getAttribute("href"))&&void 0!==e?e:"";eE&&5===F&&n&&(0,ie.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:em,deviceType:e_,isEqual:n===r.url}})},[]);let eD=(0,e1.Z)(K,"PinCardVisual"),eO=e=>{var i,t,n,l;let a=null!==(i=null==ew?void 0:null===(t=ew.carouselSlots)||void 0===t?void 0:t.length)&&void 0!==i?i:0,r=B;e===il&&B<a-1?r=B+1:e===ia&&B>0&&(r=B-1),Z(r),eD({pinId:x,currentIndex:B,nextIndex:r,carouselData:{carouselSlots:null==ew?void 0:null===(n=ew.carouselSlots)||void 0===n?void 0:n.map(({slotId:e})=>({id:e})),entityId:null!==(l=null==ew?void 0:ew.entityId)&&void 0!==l?l:""},viewParameter:U,viewType:F,componentType:14887,isEligibleForPdp:null!=eT&&eT})},eN=(e,i)=>{let t=e.x-i.x,n=e.y-i.y;return Math.abs(t)>Math.abs(n)?t>0?ia:il:n>0?"Down":"Up"},ez=eR&&ew?(0,ea.jsx)(_.xu,{display:"flex",marginEnd:1,marginStart:1,marginTop:3,position:"relative",children:(0,ea.jsx)(eQ.default,{addEllipsis:!0,ellipsisVariant:"dark",alwaysShowNavigationArrows:!1,carouselIndex:B,carouselData:{carouselSlots:null===(H=ew.carouselSlots)||void 0===H?void 0:H.map(({slotId:e,title:i})=>({id:e,title:i})),entityId:null!==(V=ew.entityId)&&void 0!==V?V:"",index:ew.index},handleCarouselSwipe:e=>{Z(e)},pinKey:null==K||"graphqlRef"===K.type?K:{type:"deprecated",data:x},viewParameter:U,viewType:F,componentType:14888,hideNavigationArrows:!0})}):null,eM=eR&&ew?(0,ea.jsx)(e0,{index:B,carouselSlots:ew.carouselSlots?ew.carouselSlots.map(({slotId:e,details:i,imageSignature:t,title:n,imagesSpec_236x:l})=>({details:i,slotId:e,imageSignature:t,title:n,imageSizeMap:{"236x":{width:null==l?void 0:l.width,height:null==l?void 0:l.height,url:null==l?void 0:l.url}}})):[],imageSpec:"236x",color:i,onError:g,onLoad:f}):(0,ea.jsx)(ek.Z,{alt:o||j||n||"",color:i,naturalHeight:null!==(G=r.height)&&void 0!==G?G:1,naturalWidth:null!==($=r.width)&&void 0!==$?$:1,onError:g,onLoad:f,src:null!==(W=r.url)&&void 0!==W?W:"",fit:p?"cover":void 0,loading:h?"lazy":"auto",fetchPriority:b?"high":"auto"}),eK=(0,m.useLocation)(),{scope:eZ}=(0,m.useParams)(),eB=()=>(0,ee.C$)(eK)?"homefeed":(0,ee.L6)(eK)?"related_pins":(0,ee.En)(eK)?"search":"unknown",eH=()=>(0,ee.C$)(eK)?92:(0,ee.L6)(eK)?140:(0,ee.En)(eK)?(0,ej._R)((0,ej.oD)(eZ)):void 0,eV=l.includes("enabled"),eG=eV?!k&&!!(null!=eh&&eh.isSaved(x)):(null===(q=t.board)||void 0===q?void 0:q.layout)==="quick_saves",e$=eV?em&&(eg||eG):em&&eg;return(0,ea.jsxs)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:[(0,ea.jsxs)(_.xu,{onContextMenu:e=>{if("desktop"!==e_){let i=eB();(0,O.My)(`${em?"auth":"unauth"}.mweb_pin_feed.pin_image.long_press`,{page:i}),(!em||es("mweb_long_press_menu_v2").anyEnabled)&&(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==e_&&(ep(!1),(0,O.My)("unauth.mweb.related_pin.image.touch.start"),(!em||es("mweb_long_press_menu_v2").anyEnabled)&&(null==S||S()),ef.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){let i=e.changedTouches[0];i&&(ex.current={x:i.pageX,y:i.pageY})}},onTouchEnd:e=>{if("desktop"!==e_){let i=eB();(0,O.My)("unauth.mweb.related_pin.image.touch.end");let t=Date.now()-ef.current,n=t>500,l=ex.current;if(e.changedTouches&&e.changedTouches.length>0&&l){let t=e.changedTouches[0],a={x:t.pageX,y:t.pageY},r=eN(a,l),o=Math.pow(t.pageX-l.x,2)+Math.pow(t.pageY-l.y,2);if(!eR||r!==il&&r!==ia||n||ec||(e.preventDefault(),e.stopPropagation(),eO(r)),t&&o>100)return;if(n&&!em&&("related_pins"===i||es("pcons_enable_context_menu_all_feeds").anyEnabled))null==S||S(),eo({pinId:x,location:"related-pins-long-press"}),e.stopPropagation();else if(n&&em){let i=eH();void 0!==i&&es("mweb_long_press_menu_v2").anyEnabled&&(null==S||S(),null==z||z(!0),e.stopPropagation()),eC({event_type:103,view_parameter:eH()})}}}},"data-test-id":`pincard-${A}-${ey}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ev||es("prevent_open_on_hover").anyEnabled?void 0:()=>eu(!0),onMouseLeave:ev?void 0:()=>eu(!1),position:"relative",rounding:I?0:4,children:[(0,ea.jsxs)(eJ,{clientTrackingParams:e||"",oneTapSave:y,isBoardIdeas:d,isOneTapExploreLocalTab:c,pinId:x,directSaveExpGroup:l,pinnedToBoardId:k,viewType:F,children:[(()=>{var e,i,n,l,a;if("gif"===A&&!eg)return(0,ea.jsx)(e5.Z,{text:er._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===A&&C&&!eg)return(0,ea.jsx)(e5.Z,{text:C});if("storyPin"===A&&T&&!eg&&!1!==eS){let l=(null===(e=t.storyPinData)||void 0===e?void 0:e.pageCount)||0,a=(null===(i=t.storyPinData)||void 0===i?void 0:i.staticPageCount)||0,r=(null===(n=t.storyPinData)||void 0===n?void 0:n.totalVideoDuration)||0;if(r>0){let e=r+a*eI.oN;return(0,ea.jsx)(e5.Z,{text:(0,v.Z)(e)})}if("number"==typeof l&&l>0)return(0,ea.jsx)(e5.Z,{icon:"idea-pin",text:l.toString()})}if(eF&&T&&!eg&&!1!==eS&&D){let e=(null===(l=t.storyPinData)||void 0===l?void 0:l.staticPageCount)||0,i=(null===(a=t.storyPinData)||void 0===a?void 0:a.totalVideoDuration)||0;if(i>0){let t=i+e*eI.oN;return(0,ea.jsx)(e5.Z,{text:(0,v.Z)(t)})}}return"product"===A&&w?(0,ea.jsx)(e5.Z,{text:w}):null})(),(0,ea.jsx)(io,{disableRounding:I,margin:s?ir({width:null!==(Y=r.width)&&void 0!==Y?Y:1,height:null!==(X=r.height)&&void 0!==X?X:1,minY:s.minY,maxY:s.maxY}):void 0,children:p?(0,ea.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,ea.jsx)(_.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:eM})}):eM})]}),ed&&!em&&(0,ea.jsx)(e7,{domainLinkData:a}),e$&&(0,ea.jsx)(e6,{boardName:null!==(J=null===(Q=t.board)||void 0===Q?void 0:Q.name)&&void 0!==J?J:"",boardUrl:null!==(ei=null===(et=t.board)||void 0===et?void 0:et.url)&&void 0!==ei?ei:"",directSaveExpGroup:l,sectionName:null==y?void 0:null===(en=y.section)||void 0===en?void 0:en.title,sectionSlug:null==y?void 0:null===(el=y.section)||void 0===el?void 0:el.slug,isQuicksave:eG})]}),ez]})},id=(0,ew.Z)({useGraphQLAdapter:e=>{let i=(0,p.useFragment)(it,e);return{pin:i,childDataKey__DEPRECATED:{type:"graphqlRef",data:i}}},useLegacyAdapter:({pinId:e,pinnedToBoardId:i})=>{var t,n;let l=(0,e9.S6)()(e),a=(0,et.gC)();if(!l)return null;let r=a(i||String(null===(t=l.board)||void 0===t?void 0:t.id));return{pin:{board:r&&{layout:r.layout,name:r.name,url:r.url},shouldOpenInStream:l.should_open_in_stream,storyPinData:l.story_pin_data&&{pageCount:l.story_pin_data.page_count,staticPageCount:l.story_pin_data.static_page_count,totalVideoDuration:l.story_pin_data.total_video_duration},carouselData:l&&l.carousel_data?{index:l.carousel_data.index,entityId:l.carousel_data.id||l.id,carouselSlots:null===(n=l.carousel_data.carousel_slots)||void 0===n?void 0:n.map(e=>{var i;return{slotId:e.id,details:e.details,imageSignature:e.image_signature,title:e.title,imagesSpec_236x:(null===(i=e.images)||void 0===i?void 0:i["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width}}})}:null,isEligibleForPdp:l.is_eligible_for_pdp},childDataKey__DEPRECATED:{type:"deprecated",data:l}}}}),iu=e=>(0,ea.jsx)(id,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:i})=>i&&(0,ea.jsx)(is,{...e,childDataKey__DEPRECATED:i.childDataKey__DEPRECATED,data:i.pin})});var ic=t(649796);let ip={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},im=(e,i,t)=>(0,ea.jsx)(_.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,ea.jsx)(_.rU,{display:"inlineBlock",href:i,tapStyle:"none",underline:"hover",children:t})},e);function i_({color:e,getFeedbackText:i,margin:t,onUnfollow:n,showing:l,unfollowed:a}){let r=(0,P.ZP)(),[o,s]=(0,u.useState)(l?"fadeIn":"initial"),d=(0,u.useRef)(null),c=(0,y.Z)();(0,u.useEffect)(()=>("initial"===o&&l&&(d.current=window.requestAnimationFrame(()=>s("fadeIn"))),()=>{d.current&&window.cancelAnimationFrame(d.current)}),[o,s,l]);let{subTitle:p,title:m,unfollow:h}=i(im),g=m,v=p;h&&a&&(g=h.title,v=h.subTitle);let f=()=>h?(0,ic.t)(h.action,h.actionOptions,n,c):void 0;return l&&(0,ea.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...ip[o]}},margin:t,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,ea.jsxs)(_.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,ea.jsxs)(_.xu,{"data-test-id":"reported-overlay",padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,ea.jsxs)(_.xu,{children:[(0,ea.jsx)(_.X6,{size:"400",color:"light",children:g}),!!v&&(0,ea.jsxs)(_.xu,{marginTop:1,children:[(0,ea.jsx)(_.xv,{color:"light",size:"200",inline:!0,children:v}),(0,ea.jsx)(_.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,ea.jsx)(_.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:r._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!a&&h&&(0,ea.jsx)(_.xu,{paddingY:1,children:(0,ea.jsx)(_.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:f})})]}),!a&&h&&(0,ea.jsx)(_.xu,{paddingY:1,children:(0,ea.jsx)(_.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:f})})]})})}var ih=t(187768);function ig(e){let i=(0,P.ZP)(),{pinId:t,clientTrackingParams:n,directSaveExpGroup:l}=e,a=(0,eU.M)(),r=(0,m.useHistory)(),{showToast:o}=(0,eC.F9)(),s=(0,c.useSelector)(e=>e.pins[t]&&e.pins[t].savedInfo),d=!!(null!=a&&a.isSaved(t))||s,u=(0,c.useDispatch)(),p=l.includes("uselabel"),h=async e=>{if(e.stopPropagation(),e.preventDefault(),d){if(s){u((0,eG.k)({boardId:s.boardId,localPinId:s.localPinId,pinId:t})),null==a||a.unsave(t);try{await u((0,e$.q)({pinId:s.localPinId||"",boardId:s.boardId,clientTrackingParams:n})),o(({hideToast:e})=>(0,ea.jsx)(eE.ZP,{text:i._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))}catch(e){o(({hideToast:e})=>(0,ea.jsx)(eE.ZP,{type:"error",text:i._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))}}}else r.push({pathname:`/pin/${t}/repin`,state:{isOneTapSave:!0}})},g=d?(0,ea.jsx)(_.xv,{weight:"bold",size:"100",children:i._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,ea.jsx)(_.xv,{weight:"bold",size:"100",children:i._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')});return p?(0,ea.jsx)(_.iP,{onTap:({event:e})=>{h(e)},rounding:"circle",children:(0,ea.jsx)(_.xu,{color:"transparent",paddingX:2,paddingY:1,rounding:"pill",children:(0,ea.jsx)(_.xu,{children:g})})}):(0,ea.jsx)(_.hU,{icon:d?"check":(0,eq.f)(),size:"sm",iconColor:"darkGray",padding:1,accessibilityLabel:d?i._('Undo save', 'PinFooterSaveButton.Unsave', 'String saying "Undo save" after saving a Pin to undo save'):i._('Save', 'PinFooterSaveButton.Save', 'String saying "Save" to ask user to save a pin'),onClick:({event:e})=>{h(e)}})}var iy=t(31407);function iv({maxRating:e,rating:i,text:t}){return(0,ea.jsxs)(_.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,ea.jsx)(iy.Z,{max_rating:e||"",rating:i||"",width:10}),t&&(0,ea.jsx)(u.Fragment,{children:(0,ea.jsx)(_.xu,{marginStart:1,overflow:"hidden",children:(0,ea.jsx)(_.xv,{size:"100",lineClamp:1,children:t})})})]})}var ix=t(190253),ib=t(141418);let iS=void 0!==o?o:o=t(937711);function iP({dedupeVisualAnnotations:e,description:i,gridTitle:t,pinId:n,richMetadataTitle:l,richSummaryDisplayName:a,storyPinDataId:r,storyPinDataMetadataPinTitle:o,title:s,queryRef:d}){let u=(0,p.useFragment)(iS,d);return(0,ea.jsxs)(_.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,ea.jsx)(_.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,ea.jsx)(_.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,A.fs)({pinTitle:s,gridTitle:t,richSummaryDisplayName:a,richMetadataTitle:l,storyPinDataId:r,storyPinDataMetadataPinTitle:o})||i})}),(0,ea.jsx)(_.xu,{children:(0,ea.jsx)(ib.Z,{pinId:n,size:"sm",graphqlRef:u,dedupeVisualAnnotations:e})})]})}var ik=t(117918),iw=t(204722);let iI=void 0!==s?s:s=t(143453),iT=({attribute:e,deviceType:i,location:t})=>{let n=(0,N.S)(t);(0,O.My)("unauth.product_attribution.click",{item:e,page:n,device:i})},ij=({isSquarePin:e,price:i,shouldDisplayMerchant:t})=>{if(i&&e)return t?90:68},iA=({maxPrice:e,minPrice:i,price:t})=>e&&i?`${i}-${e}`:t;function iE({dedupeVisualAnnotations:e,description:i,domain:t,graphqlRef:n,gridTitle:l,isSquarePin:a,pinId:r,priceSummary:o,richMetadataTitle:s,richSummaryDisplayName:d,storyPinDataId:c,storyPinDataMetadataPinTitle:p,title:h}){let g=(0,M.ZP)(),y=(0,m.useLocation)(),v=o&&(o.price||o.standardPrice||iA(o)),f=(0,u.useMemo)(()=>a?2:v?3:2,[a,v]);if(!r)return null;let x=(0,A.fs)({pinTitle:h,gridTitle:l,richSummaryDisplayName:d,richMetadataTitle:s,storyPinDataId:c,storyPinDataMetadataPinTitle:p})||i,b=`/pin/${r}/`;return(0,ea.jsx)(_.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:ij({isSquarePin:a,price:v}),children:(0,ea.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,ea.jsx)(_.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,ea.jsxs)(H.MZ,{to:b,accessibilityLabel:x,deeplinkUri:b,children:[v&&(0,ea.jsx)(_.iP,{onTap:()=>iT({deviceType:g,attribute:"price",location:y}),children:(0,ea.jsx)(_.xv,{size:"100",weight:"bold",children:v})}),(0,ea.jsx)(_.xu,{marginTop:1,children:(0,ea.jsx)(_.iP,{onTap:()=>iT({deviceType:g,attribute:"title",location:y}),children:(0,ea.jsx)(_.xv,{size:"100",weight:"bold",lineClamp:f,children:x})})}),t&&v&&(0,ea.jsx)(_.xu,{marginTop:1,children:(0,ea.jsx)(_.iP,{onTap:()=>iT({deviceType:g,attribute:"merchant",location:y}),children:(0,ea.jsx)(_.xv,{size:"100",lineClamp:1,children:t})})})]})}),"desktop"!==g&&(0,ea.jsx)(_.xu,{children:(0,ea.jsx)(ib.Z,{dedupeVisualAnnotations:e,pinId:r,size:"sm",graphqlRef:n})})]})})}let iC=(0,ew.Z)({useGraphQLAdapter:({queryRef:e})=>(0,p.useFragment)(iI,e),useLegacyAdapter:()=>null});function iF({queryRef:e,...i}){return(0,ea.jsx)(iC,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:i.pinId}},children:({data:e})=>(0,ea.jsx)(iE,{...i,graphqlRef:e})})}var iR=t(197838);let iL=void 0!==d?d:d=t(256468),iD=({isDesktop:e})=>e?0:1,iO=e=>!!(e.promoter&&!e.isDownstreamPromotion),iN=e=>{let{attribution:i,embed:t,isEligibleForWebCloseup:n,richSummary:l,videos:a,storyPinDataId:r}=e,o=t||(null==i?void 0:i.embed);return n?"oneTap":a||(null==o?void 0:o.type)==="video"?"video":(null==o?void 0:o.type)==="gif"?"gif":(null==l?void 0:l.typeName)==="product"?"product":(null==l?void 0:l.typeName)==="recipe"?"recipe":r?"storyPin":"image"},iz=e=>{let{adDestinationUrl:i,link:t,trackedLink:n}=e;return i||n||t||""},iM=e=>{var i,t,n;let l=null===(i=e.videos)||void 0===i?void 0:i.videoList;return l?(0,v.Z)(null!==(t=null===(n=l[Object.keys(l)[0]])||void 0===n?void 0:n.duration)&&void 0!==t?t:0):""},iK=e=>{var i;let[t]=(null===(i=e.richSummary)||void 0===i?void 0:i.products)||[];if(!t)return null;let{offerSummary:n}=t;return n&&(n.price||n.maxPrice)},iZ=e=>e&&e.includes("/user/default")?void 0:e,iB=(0,u.lazy)(()=>Promise.all([t.e(68138),t.e(21032)]).then(t.bind(t,698147)));function iU({auxData:e,componentType:i,debugInfo:t,disableAppUpsell:n,disableReaction:l,disableRounding:a,duploConversationPin:r,duploDedupeVisualAnnotations:o,duploDisablePinCardPadding:s,duploFeedItemProps:d,duploIsSquarePin:p,duploLazyLoadImage:v,duploOneTapSave:S,duploPinCardDetailsMargin:z,duploPriorityFetchImage:J,duploQueryRef:Q,duploShouldAddNiiSearchParamToImageUrls:ee,duploShouldAllowProductPriceIndicator:ei,feedback:et,imageOnlyOption:en,impressionData:el,objectIdStr:er,pin:eo,slotIndex:es,topLevelTrafficSource:ed,topLevelTrafficSourceDepth:eu,trackingParams:ec,trafficSource:ep,viewData:em,viewParameter:e_,viewType:eg}){var ey,ev,ef,ex,eb,eP,ek,ew,eI,eT,ej,eA,eE,eC,eF,eR,eL,eD,eO,eN;let ez;let eM=(0,P.ZP)(),eK=(0,f.g)(),eZ=(0,m.useLocation)(),eB=(0,M.HG)(),eU=(0,X.Z)(),eH=(0,C.yz)(),eV=(0,b._)({id:1000107}),eG=(0,y.Z)(),e$=(0,N.Z)(),{country:eW,isAuthenticated:eq,isBot:eY,isSocialBot:eX}=(0,R.B)(),{viewedSharedPins:eJ}=(0,c.useSelector)(({session:e})=>e),eQ=(0,c.useSelector)(({experiences:e})=>{let i=e[1000107];return!!i&&500678===i.experience_id}),e0=(0,c.useSelector)(({session:e,users:i})=>(0,w.Z)(i[e.userId].created_at)),{getPinFeedbackStatus:e1,setPinFeedbackStatus:e2}=(0,ih.K)(),[e6,e3]=(0,u.useState)(!1),[e4,e8]=(0,u.useState)(!1),[e7,e5]=(0,u.useState)(!1),[e9,ie]=(0,u.useState)(null!==(ey=null===(ev=eo.carouselData)||void 0===ev?void 0:ev.index)&&void 0!==ey?ey:0),ii=(0,u.useRef)(),it=(0,Z.Z)(),il=eo.entityId,ia=!!eo.storyPinDataId&&!1===eo.shouldOpenInStream,ir=e=>ee&&e?{...e,url:e.url&&(0,D.H5)(e.url)}:e,io=ir(eo.imageSpec_136x136),is=ir(eo.imageSpec_170x),id=ir(eo.imageSpec_236x),ic=ir(eo.imageSpec_474x),ip=ir(eo.imageSpec_736x),im=ir(eo.imageSpec_orig),iy={...[["136x136",io],["170x",is],["236x",id],["474x",ic],["736x",ip],["orig",im]].reduce((e,[i,t])=>{var n,l,a,r;return t&&(e[i]={dominant_color:null!==(n=t.dominantColor)&&void 0!==n?n:void 0,height:null!==(l=t.height)&&void 0!==l?l:void 0,url:null!==(a=t.url)&&void 0!==a?a:void 0,width:null!==(r=t.width)&&void 0!==r?r:void 0}),e},{})},{checkExperiment:ib}=(0,E.F)(),iS=Object.keys(iy).reduce((e,i)=>{var t;return i&&null!==(t=iy[i])&&void 0!==t&&t.url?{...e,[i]:iy[i].url}:e},{}),iI=e=>{var i,t;return(0,T.Z)({embedSrc:null===(i=eo.embed)||void 0===i?void 0:i.src,embedType:null===(t=eo.embed)||void 0===t?void 0:t.type,imagesUrls:iS,preferredResolution:e,excludeOriginals:!eY&&!eX})},iT=iN(eo),ij=(0,B.z)();(0,K.Z)(()=>{if(ij&&!eB&&"image"===iT){let i=iy["236x"]||iy["136x136"],t=iI("736x");if(t){var e;let n={pin:{dominantColor:eo.dominantColor,link:eo.link,mobileLink:eo.mobileLink,richMetadata:eo.richMetadata&&{__typename:"RichPinDataView",article:eo.richMetadata.article&&{__typename:"ArticleMetadata"},recipe:eo.richMetadata.recipe&&{__typename:"RecipeMetadata"},products:null===(e=eo.richMetadata.products)||void 0===e?void 0:e.map(()=>({__typename:"RichPinProductMetadata"}))},trackedLink:eo.trackedLink},derived:{homefeedRecommendationReason:92===e_&&eo.recommendationReason?{reason:eo.recommendationReason.reason,reasonId:eo.recommendationReason.reasonId}:null,imageUrl:t,placeholder:i&&{width:i.width,height:i.height,url:i.url}}};ij.setData(il,n)}}}),(0,K.Z)(()=>{if(!eq&&0===es&&3070===e_){var e,i,t;let n=eZ.pathname,{imageSignature:l,entityId:a,imageSpec_236x:r,description:o}=eo;(0,Y.H$)(n,l,a,r&&{dominant_color:null!==(e=r.dominantColor)&&void 0!==e?e:void 0,height:null!==(i=r.height)&&void 0!==i?i:void 0,url:r.url,width:null!==(t=r.width)&&void 0!==t?t:void 0},o)}});let iA=92===e_&&(null===(ef=eJ&&eJ[il])||void 0===ef?void 0:ef.inviteCode),iE=p?{height:136,url:null==id?void 0:id.url,width:136}:[id,is,io,ip,ic,im].find(e=>e&&e.url)||{width:1,height:1,url:""},iC=null===(ex=eo.videos)||void 0===ex?void 0:null===(eb=ex.videoList)||void 0===eb?void 0:eb.v720P,iL=(0,G.Z)({isEligibleForPdp:eo.isEligibleForPdp,isOosProduct:eo.isOosProduct,isStaleProduct:eo.isStaleProduct,pinShoppingFlags:null!==(eP=eo.shoppingFlags)&&void 0!==eP?eP:void 0}),iU=()=>{let t=(0,$.Z)(ec,eo.trackingParams);if((0,O.My)(`unauth_pin_rep.click.${String(e_)}`),eG({view_type:eg,view_parameter:e_,element:eo.storyPinDataId?12372:35,event_type:101,component:i,object_id_str:il,clientTrackingParams:t,aux_data:{commerce_data:iL,grid_index:es,image_signature:eo.imageSignature,...e}}),"oneTap"!==iT&&eG({event_type:8948,view_type:eg,view_parameter:e_,object_id_str:il,clientTrackingParams:t,aux_data:{image_signature:eo.imageSignature,commerce_data:iL,closeup_navigation_type:"click",grid_index:es,cosmic_ray_count:"3",...e}}),!eq)switch(e$({action:"click",item:"pin"}),eg){case 3:(0,O.NC)("click_pin_related_image");break;case 5:(0,O.NC)("click_board_pin_image");break;case 210:(0,O.NC)("click_topic_pin_image");break;case 605:(0,O.NC)("click_shopping_category_pin_image");break;case 606:(0,O.NC)("click_videos_category_pin_image")}"oneTap"===iT&&(eG({event_type:8948,view_type:eg,view_parameter:e_,object_id_str:il,clientTrackingParams:t,aux_data:{image_signature:eo.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,q.jC)({view_type:eg,view_parameter:e_,element:eo.storyPinDataId?12372:35,component:i,object_id_str:il,aux_data:{commerce_data:iL,grid_index:es,image_signature:eo.imageSignature,...e},clientTrackingParams:t}),eG({component:i,event_type:13,view_type:3,clientTrackingParams:t,aux_data:{closeup_navigation_type:"web_closeup",image_signature:eo.imageSignature},object_id_str:il}))},iH=e1({pinId:il}),iV=iO(eo),iG=()=>{var e,i,t,n,l,a,r,o,s,d,u,c,p,m;let _=({user:e,linkToBoard:i})=>{var t;return{link:i?(null===(t=eo.board)||void 0===t?void 0:t.url)||`/pin/${eo.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:iZ(null==e?void 0:e.imageMediumUrl)||iZ(null==e?void 0:e.imageSmallUrl)}};if(iO(eo))return eo.sponsorship&&(null===(o=eo.promoter)||void 0===o?void 0:o.entityId)!==(null===(s=eo.nativeCreator)||void 0===s?void 0:s.entityId)?{title:null===(d=eo.nativeCreator)||void 0===d?void 0:d.fullName,subtitle:null===(u=eo.promoter)||void 0===u?void 0:u.fullName,..._({user:eo.nativeCreator})}:{title:eM._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null===(c=eo.promoter)||void 0===c?void 0:c.fullName,..._({user:eo.promoter})};if(null!==(e=eo.sponsorship)&&void 0!==e&&e.creator)return{title:null===(p=eo.nativeCreator)||void 0===p?void 0:p.fullName,subtitle:null===(m=eo.sponsorship.sponsor)||void 0===m?void 0:m.fullName,..._({user:eo.nativeCreator})};if(!eo.isEligibleForPdp){if(eo.nativeCreator)return{title:eo.nativeCreator.fullName,subtitle:"",..._({user:eo.nativeCreator})};switch(e_){case 3375:if(!(null!==(i=eo.linkDomain)&&void 0!==i&&null!==(t=i.officialUser)&&void 0!==t&&t.isPrimaryWebsiteVerified))return;let e=null!==(n=eo.storyPinData)&&void 0!==n&&n.hasProductPins?eo.nativeCreator:eo.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,..._({user:e})};case 0:case 3173:return null!==(l=eo.storyPinData)&&void 0!==l&&l.hasProductPins?{title:"",subtitle:null===(a=eo.nativeCreator)||void 0===a?void 0:a.fullName,..._({user:eo.nativeCreator,linkToBoard:!0})}:{title:eo.board&&"protected"===eo.board.privacy?eM._('Saved by', 'Grid pin annotation', 'Grid pin annotation'):(null===(r=eo.pinner)||void 0===r?void 0:r.fullName)||"",subtitle:"",..._({user:eo.pinner,linkToBoard:!0})};default:return}}},i$=(0,I.hP)({boardFollowedByMe:!!(null!==(ek=eo.board)&&void 0!==ek&&ek.followedByMe),feedbackType:null==et?void 0:et.type,viewParameter:e_,promotion:eo&&eo.promoter&&{isDownstreamPromotion:!!eo.isDownstreamPromotion},pinnerFollowedByMe:!!(null!==(ew=eo.pinner)&&void 0!==ew&&ew.explicitlyFollowedByMe),recommendationReason:eo.recommendationReason&&{hasBoard:!!eo.recommendationReason.board,reason:null!==(eI=eo.recommendationReason.reason)&&void 0!==eI?eI:void 0}}),iW=e=>{var i,t,n;let l={i18n:eM,makeNavigateLink:e};switch(i$){case"pfy":return(0,I.Ud)({...l,feedback:{type:"pfy"}});case"pfyBoard":return(0,I.Ud)({...l,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(i=eo.recommendationReason)||void 0===i?void 0:i.board)&&{name:null!==(t=eo.recommendationReason.board.name)&&void 0!==t?t:"",url:null!==(n=eo.recommendationReason.board.url)&&void 0!==n?n:""}}});case"topic":return(0,I.Ud)({...l,feedback:{type:"topic",sourceInterest:eo.sourceInterest&&eo.sourceInterest.name&&eo.sourceInterest.urlName?{name:eo.sourceInterest.name,url_name:eo.sourceInterest.urlName}:null}});case"followed":return(0,I.Ud)({...l,feedback:{type:"followed",followed:eo.pinner&&eo.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:eo.pinner.fullName&&eo.pinner.username?{full_name:eo.pinner.fullName,username:eo.pinner.username}:null}:{type:"board",board:eo.board&&eo.board.name&&eo.board.url?{name:eo.board.name,url:eo.board.url}:null}}});case"promoted":return(0,I.Ud)({...l,feedback:{type:"promoted",promoter:!eo.adMatchReason&&eo.promoter&&eo.promoter.fullName?{full_name:eo.promoter.fullName,username:eo.promoter.username}:null}});default:return null}},{attributionSourceId:iq,category:iY,linkDomain:iX,description:iJ,gridTitle:iQ,imageSignature:i0,richMetadata:i1,richSummary:i2,title:i6,sponsorship:i3,storyPinData:i4,carouselData:i8}=eo,[i7,i5]="string"==typeof iQ?[iQ,""]:[null==i2?void 0:i2.displayName,iJ],i9=null,te=ib("ads_show_carousel_on_mweb").anyEnabled;te&&i8&&i8.carouselSlots&&((ez=i8.carouselSlots[e9]).link&&"oneTap"===iT&&(i9=ez.link),ez.title&&(i7=ez.title),ez.details&&(i5=ez.details));let ti=null==i4?void 0:i4.isDeleted,tt=(0,$.Z)((eZ&&eZ.state||{}).trackingParams||ec,eo.trackingParams),tn="product"===iT&&!eq,{experimentsClient:tl}=(0,R.B)(),ta=eQ&&3375!==e_&&(tl.checkExperiment("mweb_pin_grid_image_only_v2").anyEnabled||tl.checkExperiment("mweb_pin_grid_image_only_v2_new_user").anyEnabled),tr=eQ&&!(i2&&43===e_&&!e0||3375===e_)||ta,to=null===(eT=eo.pinJoin)||void 0===eT?void 0:eT.visualAnnotation;o&&to&&(to=o({pinId:il,visualAnnotations:to}));let ts=(0,A.rw)(null!==(ej=eo.description)&&void 0!==ej?ej:"",eo.descriptionHtml||"",to,eo.altText||"",eo.autoAltText||""),td=eq?i5:(0,j.Z)({storyPinDataId:eo.storyPinDataId,pinDescription:eo.description,richMetadataDescription:null!==(eA=null===(eE=eo.richMetadata)||void 0===eE?void 0:eE.description)&&void 0!==eA?eA:"",richSummaryDisplayName:null!==(eC=null===(eF=eo.richSummary)||void 0===eF?void 0:eF.displayName)&&void 0!==eC?eC:"",closeupDescription:null!==(eR=eo.closeupDescription)&&void 0!==eR?eR:"",closeupUnifiedDescription:null!==(eL=eo.closeupUnifiedDescription)&&void 0!==eL?eL:""});null===i9&&(i9="oneTap"===iT?eo.trackedLink||eo.link:eq?(0,A.BY)(il):(0,A.bN)({pinId:il,seoUrl:eo.seoUrl}));let tu=null;if(!it&&iV&&null!==(eD=window.document.featurePolicy)&&void 0!==eD&&eD.allowsFeature("attribution-reporting")&&ib("m10n_ara_click_web_mobile").anyEnabled)try{let e=(0,g.m_)(null!=iq?iq:"0",iz(eo),!0,eo.campaignId,eo.advertiserId);tu=`attributionsrc=${encodeURIComponent(e)}`}catch(e){h.Z.increment("webapp.arapi.click.funnel",.1,{status:"failed",error:e.name})}let tc={accessibilityLabel:ts||i7||i5||eM._('Pin', 'Pin accessibility label', 'Pin accessibility label'),country:eW,deeplinkUri:i9,external:"oneTap"===iT,externalQueryParams:{pin:il,client_tracking_params:ec},features:tu,isAppUpsellDisabled:n,onTouch:e=>{var i;if(iU(),null==d||null===(i=d.onPinClick)||void 0===i||i.call(d),eB){let i=494===eg,t=e.metaKey;if(t||i)(0,O.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(e_)}`),e.preventDefault(),window.open(`/pin/${il}/`,"_blank").focus();else if(!eq&&eK){let{pinImageClickHandler:i}=eK;i({event:e,pinId:il,linkTarget:"duploClientNav",seoUrl:eo.seoUrl})}}else if(!eq&&((0,O.My)("unauth_mweb_pin_rep.click",{viewType:eg}),[3,2].includes(eg))){let{group:i}=ib("mweb_unauth_lop_broad_to_narrow_new_tab_targeting",{dangerouslySkipActivation:!0});if(!i)return;let t=!1;switch(eg){case 3:(i.includes("view_type_closeup")||i.includes("view_type_all"))&&(t=ib("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled);break;case 2:(i.includes("view_type_search")||i.includes("view_type_all"))&&(t=ib("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled)}(0,O.My)("unauth_mweb_pin_rep.click.new_tab_exp",{viewType:eg,expName:"mweb_unauth_lop_broad_to_narrow_new_tab_targeting",expGroup:i,enabled:t}),t&&(e.preventDefault(),e.stopPropagation(),window.open(i9,"_blank").focus())}},pinCategory:eo.category,pressState:"none",rounding:4,title:eM._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:i9,state:{trackingParams:ec,trafficSource:ep,topLevelTrafficSource:ed,topLevelTrafficSourceDepth:eu}},upsellType:"direct",viewParameter:e_,viewType:eg,clientTrackingParams:tt},tp=(0,W.kb)({hasLinkDomain:!!iX,richMetadata:i1&&{recipe:i1.recipe&&{fromAggregatedData:i1.recipe.fromAggregatedData},products:null===(eO=i1.products)||void 0===eO?void 0:eO.map(({__typename:e,...i})=>i)},richSummary:i2&&{products:i2.products}}),tm=!ei&&["shop_feed"].includes(ep),t_=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),th=eq&&!!t_&&t_===il,tg=!eq||th||S?"":ib("mweb_direct_save_from_grid_v2").group||ib("mweb_direct_save_from_grid_v2_new_user").group||"",ty=tg.includes("footer"),tv=s?0:iD({isDesktop:eB});return(0,ea.jsx)(V.dL,{auxData:{commerce_data:iL,pwa_type:eH,...e},component:i,impressionData:{richTypes:eo.shoppingFlags||[],imageURL:iE.url||"",isPromoted:iO(eo),attributionSourceId:eo.attributionSourceId,link:iz(eo),campaignId:eo.campaignId,advertiserId:eo.advertiserId,...iC?{isNativeVideoAndWatchable:!!iC&&!!iC.url&&!!iC.height&&!!iC.width||void 0,videoIdStr:iC&&(null===(eN=eo.videos)||void 0===eN?void 0:eN.entityId)||void 0}:{},...el},isPaused:!e6,loggingId:eo.entityId,objectIdStr:er,slotIndex:es,trackingParams:ec,viewData:em,viewParameter:e_,viewType:eg,children:({impressionTrackerRef:e})=>{var n,s,c,m,h,g,y,f,b,P,w,T,j,A,E,C,R,D,N,M,K,Z,B,V,G,W,q,Y;return(0,ea.jsx)(_.xu,{ref:e,children:(0,ea.jsxs)(_.xu,{"data-test-id":"pin","data-test-pin-id":il,marginBottom:eB?0:2,position:"relative",children:[(0,ea.jsxs)(_.xu,{"data-test-id":ts||i7||i5?"pin-with-alt-text":"pin-missing-alt-text",padding:tv,marginBottom:0,onContextMenu:eB&&(eo.nativeCreator||eo.pinner)?e=>{e.stopPropagation(),e.preventDefault(),eU((0,ea.jsx)(iw.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:il,graphqlRef:Q})),(0,O.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,dangerouslySetInlineStyle:{__style:e4?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},children:[(0,ea.jsxs)(H.MZ,{...tc,children:[!!iA&&(0,ea.jsx)(eS,{inviteCode:iA}),ti?(0,ea.jsx)(ik.Z,{isPinRep:!0}):(0,ea.jsx)(iu,{pinGraphqlRef:Q,clientTrackingParams:tt,color:null!==(n=eo.dominantColor)&&void 0!==n?n:"",description:i5&&(!tr||0===e_)?i5.trim():void 0,domainLinkData:eo.domain&&eo.link?{clickLoggingOptions:{auxData:{objectId:il,grid_index:es,sanitized_url:eo.link}},domain:eo.domain,link:eo.link,onClick:null==d?void 0:d.onPinLinkClick}:void 0,disableRounding:a,image:iE&&{dominant_color:null!==(s=iE.dominantColor)&&void 0!==s?s:void 0,height:null!==(c=iE.height)&&void 0!==c?c:void 0,url:null!==(m=iE.url)&&void 0!==m?m:void 0,width:null!==(h=iE.width)&&void 0!==h?h:void 0},imageAltText:ts,imageCrop:!p&&eo.imageCrop&&"number"==typeof eo.imageCrop.minY&&"number"==typeof eo.imageCrop.maxY?{minY:eo.imageCrop.minY,maxY:eo.imageCrop.maxY}:void 0,isBoardIdeas:3173===e_||13184===i,isSquarePin:p,lazyLoadImage:v,onError:()=>e3(!1),oneTapSave:S,onLoad:()=>e3(!0),priorityFetchImage:J,disableDefaultContextMenu:()=>e8(!0),pinId:il,pinnedToBoardId:null!==(g=null===(y=eo.pinnedToBoard)||void 0===y?void 0:y.entityId)&&void 0!==g?g:"",productPrice:"product"===iT&&ei&&!tn?iK(eo):null,slotIndex:es,storyDataExists:!!i4,title:tr&&0!==e_?void 0:i7,type:iT,videoDuration:iM(eo),viewParameter:e_,viewType:eg,directSaveExpGroup:tg,isPromotedPin:iV,setIsLongPressEnabledForAuth:e5,setCarouselIndex:ie,carouselIndex:e9})]}),"image-only"!==en&&(eq||eB)&&(0,ea.jsxs)(_.xu,{children:[!eq&&eB&&3475!==e_&&43!==e_&&(0,ea.jsx)(iR.ZP,{dedupeVisualAnnotations:o,pinId:il,mode:"inlineWithScrollArrows",graphqlRef:Q}),!tn&&(0,ea.jsxs)(_.xu,{position:"relative",children:[(0,ea.jsx)(H.MZ,{...tc,children:(0,ea.jsx)(_.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:ii})}),(0,ea.jsx)(_.iP,{onTap:()=>{var e;null===(e=ii.current)||void 0===e||e.click()},accessibilityLabel:tc.accessibilityLabel,children:(0,ea.jsxs)(_.xu,{display:"flex",height:p?tm?104:72:void 0,marginEnd:z||1,marginStart:z||1,marginTop:tg.includes("enabled")?1:0,position:"relative",children:[(0,ea.jsx)(eh,{pinGraphqlRef:Q,marginTop:z,hidePinMetadata:(null==eV?void 0:eV.display_data.hideDesc)||!1,credits:iG(),hasAffiliatedProducts:!!(null!=i4&&i4.hasProductPins),isPromotedPin:iV,isSponsoredPin:!!i3,logCreditsClick:()=>{var e;return eG({view_type:3,element:27,event_type:102,object_id_str:il,component:eo.storyPinDataId?230:void 0,clientTrackingParams:(0,$.Z)(ec,eo.trackingParams),aux_data:{pin_id:il,...null!==(e=eo.sponsorship)&&void 0!==e&&e.creator&&eo.sponsorship.sponsor?{creator_id:eo.sponsorship.creator.entityId,sponsor_id:eo.sponsorship.sponsor.entityId}:{}}})},pinDescription:td,pinId:il,pinnedToBoardId:null!==(f=null===(b=eo.pinnedToBoard)||void 0===b?void 0:b.entityId)&&void 0!==f?f:"",pinReactionCounts:null===(P=eo.reactionCountsData)||void 0===P?void 0:P.reduce((e,{reactionCount:i,reactionType:t})=>({...e,[String(null!=t?t:0)]:null!=i?i:0}),{}),recipeReview:"recipe"===iT&&!tr&&!!(null!=i2&&null!==(w=i2.aggregateRating)&&void 0!==w&&w.reviewCount)&&(0,ea.jsxs)(_.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,ea.jsx)(iv,{maxRating:i2.aggregateRating.bestRating||"",rating:i2.aggregateRating.ratingValue||"",text:""}),!!i2.displayCookTime&&(0,ea.jsxs)(u.Fragment,{children:[(0,ea.jsx)(_.xu,{paddingX:1,children:(0,ea.jsx)(_.xv,{size:"100",children:"\xb7"})}),(0,ea.jsx)(_.xv,{size:"100",children:(0,U.IS)({...(0,F.u)(i2.displayCookTime),i18n:eM})})]})]}),shouldShowReactions:!l&&(0,ix.J6)({boardIsCollaborative:null===(T=eo.board)||void 0===T?void 0:T.isCollaborative,isDownstreamPromotion:eo.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:ia,isPromoted:eo.isPromoted,storyPinDataId:eo.storyPinDataId,videosId:null===(j=eo.videos)||void 0===j?void 0:j.entityId})&&3475!==e_&&606!==eg&&!(eV&&eV.display_data.hideReactions),showPriceIndicatorInPinCardDetails:tm,title:i7,type:iT}),(0,ea.jsxs)(_.xu,{right:!0,display:"flex",children:[!eq||ta||ti||r?null:(0,ea.jsx)(_.xu,{marginStart:1,marginTop:z,children:(0,ea.jsx)(_.xu,{height:26,width:24,children:(0,ea.jsx)(x.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,ea.jsx)(L.Z,{children:(0,ea.jsx)(iB,{adMatchReason:eo.adMatchReason,bestPinImgSrc:iI(),feedback:et,feedbackType:i$,getRecommendationDescription:iW,graphqlRef:Q,hideSaveOption:null!==(A=eo.promotedIsRemovable)&&void 0!==A&&A,imageSignature:null!=i0?i0:void 0,isAdsOnlyPin:null!==(E=eo.promotedIsRemovable)&&void 0!==E&&E,pinCategory:iY,pinDescription:td,pinId:il,pinTitle:i6,sourceType:iV?"ad":0===e_?"following":void 0,viewParameter:e_,viewType:eg,trackingParams:ec,isLongPressEnabledForAuth:e7,setIsLongPressEnabledForAuth:e5})})})})}),ty?(0,ea.jsx)(_.xu,{right:!0,children:(0,ea.jsx)(_.xu,{children:(0,ea.jsx)(ig,{pinId:il,pin:eo,directSaveExpGroup:tg,clientTrackingParams:tt})})}):null]})]})})]})]}),tn&&(0,ea.jsx)(iF,{dedupeVisualAnnotations:o,queryRef:Q,description:eo.description,domain:null===(C=eo.richSummary)||void 0===C?void 0:C.siteName,isSquarePin:p,gridTitle:null!==(R=eo.gridTitle)&&void 0!==R?R:void 0,pinId:il,priceSummary:tp&&{maxPrice:tp.maxPrice,minPrice:tp.minPrice,price:tp.price,standardPrice:tp.standardPrice},richMetadataTitle:null===(D=eo.richMetadata)||void 0===D?void 0:D.title,richSummaryDisplayName:null===(N=eo.richSummary)||void 0===N?void 0:N.displayName,storyPinDataId:eo.storyPinDataId,storyPinDataMetadataPinTitle:null===(M=eo.storyPinData)||void 0===M?void 0:null===(K=M.metadata)||void 0===K?void 0:K.pinTitle,title:eo.title})]}),"reported"===iH?(0,ea.jsx)(i_,{color:null!==(Z=eo.dominantColor)&&void 0!==Z?Z:"",getFeedbackText:()=>({title:eM._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:eM._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:il,showing:!0}):(0,ea.jsx)(i_,{color:null!==(B=eo.dominantColor)&&void 0!==B?B:"",getFeedbackText:e=>{let i;let{promoter:t}=eo;if(iO(eo)&&null!=t&&t.fullName)return{title:"",subTitle:(0,k.nk)(eM._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:t.fullName})};switch(i$){case"followed":let{board:n,pinner:l}=eo;n&&l&&(i=(0,I.oK)({boardId:n.entityId,i18n:eM,makeNavigateLink:e,display:l.explicitlyFollowedByMe?{type:"board",data:{name:n.name,url:n.url}}:{type:"pinner",data:{full_name:l.fullName,username:l.username}}}));break;case"topic":let{sourceInterest:a}=eo;a&&(i=(0,I.Iv)({i18n:eM,makeNavigateLink:e,sourceInterest:{id:a.entityId,name:a.name,url_name:a.urlName}}))}return i?{title:eM._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:iW(e),unfollow:i}:{title:eM._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:eM._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}},margin:tv,onUnfollow:()=>e2({pinId:il,pinFeedbackStatus:"unfollowed"}),pinId:il,showing:!!iH,unfollowed:"unfollowed"===iH,viewParameter:e_,viewType:eg}),!eB&&(null==d?void 0:d.showSeoMetadata)&&!tn&&(0,ea.jsx)(_.xu,{"data-test-id":"related-pins-title",children:(0,ea.jsx)(_.iP,{onTap:()=>{e$({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,ea.jsx)(iP,{dedupeVisualAnnotations:o,description:eo.description,gridTitle:null!==(V=eo.gridTitle)&&void 0!==V?V:void 0,pinId:il,richMetadataTitle:null===(G=eo.richMetadata)||void 0===G?void 0:G.title,richSummaryDisplayName:null===(W=eo.richSummary)||void 0===W?void 0:W.displayName,storyPinDataId:eo.storyPinDataId,storyPinDataMetadataPinTitle:null===(q=eo.storyPinData)||void 0===q?void 0:null===(Y=q.metadata)||void 0===Y?void 0:Y.pinTitle,title:eo.title,queryRef:Q})})}),t]})})}})}let iH=e=>{var i,t,n,l,a,r,o,s,d,u,c,p;let m=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},_=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},h=e.reaction_counts;return{adMatchReason:e.ad_match_reason,adDestinationUrl:e.ad_destination_url,advertiserId:e.advertiser_id,altText:e.alt_text,attribution:e.attribution&&{embed:e.attribution.embed&&{type:e.attribution.embed.type}},attributionSourceId:e.attribution_source_id,autoAltText:e.auto_alt_text,board:e.board&&{entityId:e.board.id,followedByMe:e.board.followed_by_me,isCollaborative:e.board.is_collaborative,name:e.board.name,privacy:e.board.privacy,url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,category:e.category,closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,debug:e.debug,descriptionHtml:e.description_html,description:e.description,domain:e.domain,dominantColor:e.dominant_color,embed:e.embed&&{height:e.embed.height,src:e.embed.src,type:e.embed.type,width:e.embed.width},entityId:e.id,gridTitle:e.grid_title,imageCrop:e.image_crop&&{minY:e.image_crop.min_y,maxY:e.image_crop.max_y},imageSignature:e.image_signature,imageSpec_136x136:_(null===(i=e.images)||void 0===i?void 0:i["136x136"]),imageSpec_170x:_(null===(t=e.images)||void 0===t?void 0:t["170x"]),imageSpec_236x:_(null===(n=e.images)||void 0===n?void 0:n["236x"]),imageSpec_474x:_(null===(l=e.images)||void 0===l?void 0:l["474x"]),imageSpec_736x:_(null===(a=e.images)||void 0===a?void 0:a["736x"]),imageSpec_orig:_(null===(r=e.images)||void 0===r?void 0:r.orig),isDownstreamPromotion:e.is_downstream_promotion,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isOosProduct:e.is_oos_product,isPromoted:e.is_promoted,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name,entityId:null!==(o=e.link_domain.official_user.id)&&void 0!==o?o:"",imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,username:e.link_domain.official_user.username,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified}},link:e.link,mobileLink:e.mobile_link,nativeCreator:m(e.native_creator),pinnedToBoard:e.pinned_to_board&&{entityId:null!==(s=e.pinned_to_board.id)&&void 0!==s?s:""},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation},pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},promoter:m(e.promoter),promotedIsRemovable:e.promoted_is_removable,reactionCountsData:h&&Object.keys(h).map(e=>({reactionType:Number(e),reactionCount:h[e]})),richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title,article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata",fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>{var i,t,n,l;return{__typename:"RichPinProductMetadata",name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.min_price,price:null===(n=e.offer_summary)||void 0===n?void 0:n.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}})},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{bestRating:e.rich_summary.aggregate_rating.best_rating,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,displayCookTime:e.rich_summary.display_cook_time,siteName:e.rich_summary.site_name,typeName:e.rich_summary.type_name,products:e.rich_summary.products&&e.rich_summary.products.map(e=>{var i,t,n,l;return{name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.min_price,price:null===(n=e.offer_summary)||void 0===n?void 0:n.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}})},seoUrl:e.seo_url,shoppingFlags:e.shopping_flags,shouldOpenInStream:e.should_open_in_stream,sourceInterest:e.source_interest&&{entityId:null!==(d=e.source_interest.id)&&void 0!==d?d:"",name:e.source_interest.name,urlName:e.source_interest.url_name},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(u=e.sponsorship.creator.id)&&void 0!==u?u:"",fullName:e.sponsorship.creator.full_name,imageMediumUrl:e.sponsorship.creator.image_medium_url,imageSmallUrl:e.sponsorship.creator.image_small_url,username:e.sponsorship.creator.username},sponsor:e.sponsorship.sponsor&&{entityId:null!==(c=e.sponsorship.sponsor.id)&&void 0!==c?c:"",fullName:e.sponsorship.sponsor.full_name,imageMediumUrl:e.sponsorship.sponsor.image_medium_url,imageSmallUrl:e.sponsorship.sponsor.image_small_url,username:e.sponsorship.sponsor.username}},storyPinDataId:e.story_pin_data_id,storyPinData:e.story_pin_data&&{hasProductPins:e.story_pin_data.has_product_pins,isDeleted:e.story_pin_data.is_deleted,metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},title:e.title,trackedLink:e.tracked_link,trackingParams:e.tracking_params,videos:e.videos&&{entityId:null!==(p=e.videos.id)&&void 0!==p?p:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,width:e.videos.video_list.V_720P.width,url:e.videos.video_list.V_720P.url}}},recommendationReason:e.recommendation_reason&&{reason:e.recommendation_reason.reason,reasonId:e.recommendation_reason.reason_id,board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url}},carouselData:e.carousel_data&&{index:e.carousel_data.index,carouselSlots:e.carousel_data.carousel_slots?e.carousel_data.carousel_slots.map(e=>({title:e.title,details:e.details,link:e.link})):[]}}};function iV({pinId:e,duploQueryRef:i,...t}){let n=(0,z.Qy)(),{data:l,childDataKey__DEPRECATED:a}=(0,S.sr)(iL,i?{type:"graphqlRef",data:i}:{type:"deprecated",data:e},{type:"pin",useLegacyAdapter:iH});return!!l&&(0,ea.jsx)(iU,{...t,debugInfo:n&&l.debug&&(0,ea.jsx)(z.Wu,{data:l.debug}),pin:l,duploQueryRef:"graphqlRef"===a.type?a.data:null})}},698303:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o});var n=t(883119),l=t(377234),a=t(536042),r=t(785893);function o({text:e,icon:i,largeIdentifier:t,largeMargin:o}){let s=(0,a.ZP)();return(0,r.jsxs)(n.xu,{zIndex:new n.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,l.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"PinTypeIdentifier",display:"flex",margin:o?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:t?4:void 0,height:t?36:24,top:!0,children:[i&&(0,r.jsx)(n.xu,{marginEnd:t?2:1,children:(0,r.jsx)(n.JO,{accessibilityLabel:s._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:i,inline:!0,size:t?18:12})}),(0,r.jsx)(n.xv,{inline:!0,size:t?"200":"100",weight:"bold",children:e})]})}},548802:(e,i,t)=>{"use strict";t.d(i,{x:()=>o,y:()=>s});var n=t(667294),l=t(583592),a=t(785893);let{Provider:r,useMaybeHook:o}=(0,l.Z)("ProfileViewContext");function s({children:e}){let[i,t]=(0,n.useState)(),[l,o]=(0,n.useState)(new Map),[s,d]=(0,n.useState)(),[u,c]=(0,n.useState)(),p=(0,n.useCallback)((e,i)=>{o(new Map(l.set(e,i)))},[l]),m=(0,n.useMemo)(()=>({boardPinDensity:i,boardSortOrder:l,profileBoardView:s,profilePinDensity:u,setBoardPinDensity:t,updateBoardSortOrder:p,setProfileBoardView:d,setProfilePinDensity:c}),[i,l,s,u,p]);return(0,a.jsx)(r,{value:m,children:e})}},190253:(e,i,t)=>{"use strict";function n(e){let i=Object.keys(e);if(i.length>0){let t=i.sort((i,t)=>e[t]-e[i]).slice(0,3);return t}return null}function l(e){let i=Object.values(e);if(i.length>0){let e=i.reduce((e,i)=>e+i,0);return e}return 0}function a({boardIsCollaborative:e,isDownstreamPromotion:i,isPromoted:t,storyPinDataId:n,videosId:l,isEligibleForStaticImageIdeaPin:a}){return!t&&!i&&(!!l||!!n)&&(null==e||!e)&&!a}t.d(i,{At:()=>n,J6:()=>a,Ud:()=>l})},525104:(e,i,t)=>{"use strict";t.d(i,{AF:()=>o,H0:()=>s,S6:()=>d,_S:()=>u});var n=t(702664),l=t(583592),a=t(785893);let{Provider:r,useHook:o,useMaybeHook:s}=(0,l.Z)("Pins");function d(){let e=o();return i=>e[i]}function u({children:e}){let i=(0,n.useSelector)(({pins:e})=>e,n.shallowEqual);return(0,a.jsx)(r,{value:i,children:e})}},712968:(e,i,t)=>{"use strict";t.d(i,{Tt:()=>c,cm:()=>u,kW:()=>s,kY:()=>p,mN:()=>d});var n=t(702664),l=t(583592),a=t(802071),r=t(785893);let{Provider:o,useHook:s}=(0,l.Z)("Users");function d(){let e=s();return i=>e[i]}function u(){let e=s();return i=>{let t=Object.keys(e).find(t=>e[t].username===i);return e[null!=t?t:""]}}function c(){let{id:e}=(0,a.Z)(),i=s();return i[null!=e?e:""]}function p({children:e}){let i=(0,n.useSelector)(({users:e})=>e,n.shallowEqual);return(0,r.jsx)(o,{value:i,children:e})}},141418:(e,i,t)=>{"use strict";t.d(i,{Z:()=>T});var n,l=t(667294),a=t(702664),r=t(167912),o=t(883119),s=t(943072),d=t(536042),u=t(282802),c=t(819079),p=t(98736),m=t(618569),_=t(348672),h=t(549201),g=t(377234),y=t(88622),v=t(894121),f=t(785893);function x({showFullScreenInfo:e,isOpen:i,interstitialUpsellDismissed:t,children:n}){let l=(0,d.ZP)(),a=(0,h.HG)(),r=(0,h.Wb)();return r||a?(0,f.jsx)(y.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!r,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,f.jsx)(o.xu,{color:(0,g.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,g.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:a?"100vw":"100%",zIndex:new o.Ry(1),children:(0,f.jsx)(o.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:t?0:12,children:n})})}):(0,f.jsx)(v.default,{accessibilityModalLabel:l._('Close', 'Close modal window', 'Close modal window'),isOpen:i,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:l._('Close', 'Close modal window', 'Close modal window'),children:n})}var b=t(50169);let S=void 0!==n?n:n=t(599271);function P({dedupeVisualAnnotations:e,iconColor:i,size:t,isMainPin:n,isAuth:r,pinCreditPrefix:c,onClickTitleOrDomain:g,pinId:y,renderOnlyHiddenSEOContent:v=!1,graphqlRef:S,shoppingKlpUrls:P}){let k=(0,d.ZP)(),w=(0,m.Z)(),{isBot:I}=(0,u.B)(),{unauthInterstitialDismissed:T}=(0,a.useSelector)(({session:e})=>e),[j,A]=(0,l.useState)(!1),E=(0,h.HG)(),C=(0,h.Wb)(),F=(0,_.Z)(),R=!C&&!r,L=S?{type:"graphqlRef",data:S}:{type:"deprecated",data:y},D=(0,f.jsxs)(o.xu,{padding:5,dangerouslySetInlineStyle:R?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,f.jsx)(o.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,f.jsx)(o.hU,{accessibilityLabel:k._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,p.My)("mweb.unauth.see_more.dismissed"),w({action:"click",item:"close-seo-vase-see-more-button"}),A(!1),n&&(0,p.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,f.jsx)(o.xu,{marginBottom:R?0:8,children:(0,f.jsx)(o.xv,{align:R?"start":"center",weight:R?void 0:"bold",children:(0,f.jsx)("span",{className:"deprecatedTextSizeXL",children:R?null:k._('More information', 'more information label', 'more information label')})})}),(0,f.jsx)(b.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:c,onClickTitleOrDomain:g,pinId:y,shoppingKlpUrls:P,pinKey:L})]});return v?(0,f.jsx)(o.xu,{display:"none",children:D}):(0,f.jsxs)(o.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,f.jsx)(o.hU,{accessibilityLabel:k._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:null!=i?i:"gray",size:t||"md",onClick:({event:i})=>{i.stopPropagation(),(0,p.My)(`mweb.unauth.see_more.shown.${n?"main_pin":"related_pins"}`),w({action:"click",item:"seo-vase-see-more-button"}),C||r?(A(!0),n&&(0,p.My)("mweb.unauth.see_more.main_pin.shown")):F({pinId:y||"",location:n?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,f.jsx)(b.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:c,onClickTitleOrDomain:g,pinId:y,shoppingKlpUrls:P,pinKey:L})})}}),I&&!E?(0,f.jsx)(o.xu,{display:j?"flex":"none",children:D}):(0,f.jsx)(x,{showFullScreenInfo:j,isOpen:j&&!C,interstitialUpsellDismissed:!!T,children:D}),C&&j&&(0,f.jsx)(s.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:D})]})}function k(e){let i=(0,r.useFragment)(S,e.graphqlRef);return(0,f.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,graphqlRef:i,shoppingKlpUrls:e.shoppingKlpUrls})}function w(e){return(0,f.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,shoppingKlpUrls:e.shoppingKlpUrls})}function I(e){return(0,c.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,f.jsx)(w,{...e})}function T(e){return e.graphqlRef?(0,f.jsx)(k,{...e}):e.lazyLoadAnnotations?(0,f.jsx)(I,{...e}):(0,f.jsx)(w,{...e})}},729239:(e,i,t)=>{"use strict";t.d(i,{Z:()=>h});var n=t(667294),l=t(883119),a=t(604541),r=t(24286),o=t(282442),s=t(946579),d=t(549201),u=t(272109),c=t(372836),p=t(367184),m=t(812889),_=t(785893);function h({customLayoutType:e,emptyState:i,feedItems:t,feedKey:h,pagination:{hasNext:g,isLoadingNext:y,loadNext:v,refetch:f},pullToRefresh:x,renderFeedItem:b,serverRender:S}){let P=(0,d.HG)(),[k,w]=(0,n.useState)(!1),I="userSearch"===e?window.innerWidth-16:200,T=y&&0===t.length&&!k,j="desktopFlashlight"===e?0:r.qG;return(0,u.Z)(()=>(window.addEventListener("online",v),()=>window.removeEventListener("online",v))),(0,_.jsxs)(l.xu,{"data-test-id":"MobileFeed",children:[(0,_.jsx)(p.Z,{enabled:!!x,onPull:()=>{f(),w(!0)},refreshing:k}),(0,_.jsxs)(l.xu,{marginStart:j,marginEnd:j,"data-test-id":"grid",opacity:k?.5:1,children:[(0,_.jsx)(o.Z,{isAtEndOfFeed:!g,itemCount:t.length,children:t.length?(0,_.jsx)(l.xu,{"data-test-id":"feed",marginTop:(0,c.kk)({isDesktop:P}),children:(0,_.jsx)(s.Z.Consumer,{children:i=>(0,_.jsx)(n.Fragment,{children:(0,_.jsx)(c.c$,{children:(0,_.jsx)(a.Z,{cacheKey:h,id:S?h:void 0,items:t,scrollContainerRef:i,serverRender:S,columnWidth:P?r.yF:I,renderItem:({data:e,itemIdx:i})=>b(e,i),gutterWidth:P?4*r.jC:void 0,loadItems:v,minCols:"userSearch"===e?1:2})})})})}):y?(0,_.jsx)(c.gG,{}):null!=i?i:null}),T&&(0,_.jsx)(l.xu,{column:12,paddingY:2,children:(0,_.jsx)(m.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},510336:(e,i,t)=>{"use strict";t.d(i,{Z:()=>d,j:()=>s});var n=t(883119),l=t(536042),a=t(630089),r=t(245410),o=t(785893);let s=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:i,sponsorName:t,sponsorshipStatus:d,textColor:u}){let c;let p=(0,l.ZP)(),m=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;return i?c=(0,a.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:t}):d||0===d?t&&!s.includes(d)?c=(0,a.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:t}):2!==d&&(c=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(c=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,o.jsxs)(n.xv,{color:u,size:"100",children:[m&&!i&&"Ad  "||"",(0,o.jsx)(a.r7,{text:c})]})}},462887:(e,i,t)=>{"use strict";t.d(i,{Z:()=>d,j:()=>s});var n=t(883119),l=t(536042),a=t(630089),r=t(245410),o=t(785893);let s=[0,2,3];function d({hasAffiliateProducts:e,href:i,isPromoted:t,onNavigateSponsorClick:d,sponsorName:u,sponsorUsername:c,sponsorshipStatus:p,textWeight:m="bold"}){let _;let h=(0,l.ZP)(),g=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,y=(0,r.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,v=i||(c?`/${c}/`:null),f=v&&u?(0,o.jsx)(n.rU,{href:v,onClick:d,children:(0,o.jsx)(n.xv,{weight:m,size:"200",children:u})},u):void 0;return t?_=(0,a.nk)(h._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:f}):p||0===p?u&&!s.includes(p)?_=(0,a.nk)(h._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:f}):y&&2===p||(_=h._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(_=h._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,o.jsxs)(n.xv,{inline:!0,size:"200",lineClamp:2,children:[g&&!t&&"Ad  "||"",_]})}},618671:(e,i,t)=>{"use strict";t.d(i,{f:()=>o,w:()=>s});var n=t(667294),l=t(583592),a=t(785893);let{Provider:r,useHook:o}=(0,l.Z)("Session");function s({children:e}){let[i,t]=(0,n.useState)(void 0),l=(0,n.useCallback)(()=>t(void 0),[]),o=(0,n.useMemo)(()=>({unauthFollowUserId:i,setUnauthFollowUserId:t,removeUnauthFollowUserId:l}),[i,l]);return(0,a.jsx)(r,{value:o,children:e})}},197838:(e,i,t)=>{"use strict";t.d(i,{ZP:()=>k});var n,l=t(667294),a=t(167912),r=t(883119),o=t(536042),s=t(874261),d=t(465991),u=t(282802),c=t(98736),p=t(618569),m=t(549201),_=t(525104),h=t(646081),g=t(785893);let y=`
div::-webkit-scrollbar {
  display: none;
}
`,v=void 0!==n?n:n=t(717988);function f({direction:e,handleClick:i,testId:t,isRTL:n}){let l=(0,o.ZP)(),a=(0,p.Z)(),s=n?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,g.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},onClick:e=>{a({action:"click",item:"board-pills-arrow"}),i(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":t,children:(0,g.jsx)(r.xu,{position:"absolute",left:"left"===e,right:"right"===e,borderStyle:"none",children:(0,g.jsx)(r.xu,{"data-test-id":"board-pills-arrow",children:(0,g.jsx)(r.JO,{accessibilityLabel:l._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"left"!==e?s[0]:s[1],size:8,color:"subtle"})})})})}function x({name:e,url:i}){let[t,n]=(0,l.useState)(!1),a=(0,p.Z)(),{country:o,locale:s}=(0,u.B)(),d=(0,m.HG)();return(0,g.jsx)(r.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:(0,g.jsx)(r.xv,{color:t?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:i?(0,g.jsx)(r.rU,{display:"inlineBlock",tapStyle:"compress",href:i,rounding:8,onClick:()=>{a({action:"click",item:"vase-tag"}),i.split("/").length>=2&&"shopping"===i.split("/")[1]&&(0,c.My)(`${d?"dweb":"mweb"}.vase.shoppingKlp.click`,{country:o,locale:s})},underline:"hover",children:e}):e})})}function b({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i,mode:t,shoppingKlpUrls:n}){let a=(0,l.useRef)(null),[o,c]=(0,l.useState)(!1),[m,_]=(0,l.useState)(!1),h=(0,p.Z)(),{isRTL:v}=(0,u.B)();(0,l.useEffect)(()=>{let e=a.current,i=()=>{if("inlineWithScrollArrows"===t&&a.current){let e=a.current,i=Math.abs(e.scrollLeft||0),t=Math.abs(e.scrollWidth||0),n=i>4,l=i+e.clientWidth<t-4,r=v?n:l,o=v?l:n;c(r),_(o)}else c(!1),_(!1)};return i(),null==e||e.addEventListener("scroll",i),()=>{null==e||e.removeEventListener("scroll",i)}},[t,v]);let b=e=>i=>{i.preventDefault(),i.stopPropagation(),"right"===e&&h({action:"click",item:"board-pills-arrow-button-right"});let t=a.current;if(!t)return;let n=("left"===e?-1:1)*t.clientWidth*.5;t.scrollBy(n,0)},{annotationsWithLinks:S}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i});S.map(e=>{let i=e.name||"";return i});let P=[...S];return n&&(P=n.reduce((e,i)=>(e.push({name:function(e){let i=e.split("/"),t=i[2].split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return t}(i),url:i}),e),P)),(0,g.jsx)(r.kC,{alignItems:"center",justifyContent:"end",children:(0,g.jsxs)(r.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,g.jsx)(s.Z,{unsafeCSS:y}),m&&(0,g.jsx)(f,{direction:"left",handleClick:b("left"),testId:"left-scroll-arrow",isRTL:v}),(0,g.jsx)(r.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:a,children:P.map(({name:e,url:i})=>(0,g.jsx)(x,{name:e,url:i},i||e))}),o&&(0,g.jsx)(r.xu,{"data-test-id":"board-pills-arrow-button-right",children:(0,g.jsx)(f,{direction:"right",handleClick:b("right"),testId:"right-scroll-arrow",isRTL:v})})]})})}function S({dedupeVisualAnnotations:e,graphqlRef:i,mode:t,pinId:n,shoppingKlpUrls:l}){var r;let o=(0,a.useFragment)(v,i),s=(0,h.Z)(o),d=(null==o?void 0:null===(r=o.pinJoin)||void 0===r?void 0:r.visualAnnotation)||[];return(e&&(d=e({pinId:n,visualAnnotations:d})),d.length<1)?null:(0,g.jsx)(b,{mode:t,pinJoinVisualAnnotation:d,pinJoinAnnotationsWithLinks:s||void 0,shoppingKlpUrls:l})}function P(e){var i,t,n;let l=(0,_.S6)()(e.pinId),a=(null==l?void 0:null===(i=l.pin_join)||void 0===i?void 0:i.visual_annotation)||[];return a.length<1?null:(0,g.jsx)(b,{mode:e.mode,pinJoinVisualAnnotation:null==l?void 0:null===(t=l.pin_join)||void 0===t?void 0:t.visual_annotation,pinJoinAnnotationsWithLinks:null==l?void 0:null===(n=l.pin_join)||void 0===n?void 0:n.annotations_with_links,shoppingKlpUrls:e.shoppingKlpUrls})}function k(e){return e.graphqlRef?(0,g.jsx)(S,{...e}):(0,g.jsx)(P,{...e})}},50169:(e,i,t)=>{"use strict";t.d(i,{Z:()=>S});var n,l=t(667294);t(167912);var a=t(883119),r=t(803817),o=t(536042),s=t(630089),d=t(898252),u=t(465991),c=t(282802),p=t(51536),m=t(98736),_=t(618569),h=t(549201),g=t(32762),y=t(785893);function v({boardUrl:e,boardName:i,boardPrivacy:t,pinnerFullName:n,pinnerImageSmallUrl:l,pinnerImageLargeUrl:r}){let o=(0,h.HG)(),s=(0,_.Z)();if(!e||!i)return null;let d=e.split("/")[1],u=n||d,c=l||r;return(0,y.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[c?(0,y.jsx)(a.Tg,{href:`/${d}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,m.My)(`pcons.${o?"desktop":"mobile"}.see-more-button-creator`),s({action:"click",item:"see-more-button-creator"})},children:(0,y.jsx)(a.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,y.jsx)(a.Ee,{naturalHeight:32,naturalWidth:32,alt:u,fit:"cover",color:"rgb(231, 186, 176)",src:c})})},"profile-link"):null,(0,y.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,y.jsx)(a.xu,{"data-test-id":"see-more-button-creator-full-name",children:(0,y.jsx)(a.iP,{onTap:()=>{(0,m.My)(`pcons.${o?"desktop":"mobile"}.see-more-button-creator-full-name`),s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,y.jsx)(a.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,y.jsx)(a.rU,{href:`/${d}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:u},"profile-link")},"profileLink")})}),"protected"===t?null:(0,y.jsx)(a.xv,{color:"default",inline:!0,size:"100",children:(0,y.jsx)(a.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=i?i:""},"board-link")},"boardLink")]})]})}var f=t(197838);let x=void 0!==n?n:n=t(298262);function b({dedupeVisualAnnotations:e,pin:i,pinId:t,queryRef:n,onClickTitleOrDomain:r,pinCreditPrefix:x,shoppingKlpUrls:b}){var S,P,k,w,I,T,j,A,E;let C=(0,o.ZP)(),F=(0,h.ml)(),R=(0,h.Wb)(),{isAuthenticated:L,isBot:D}=(0,c.B)(),O=(0,_.Z)(),N=r||null,[z,M]=(0,l.useState)(!1),K=(0,g.si)(),Z=(0,g.Re)(),B=(0,u.fs)({pinTitle:i.title,gridTitle:i.gridTitle,richSummaryDisplayName:null===(S=i.richSummary)||void 0===S?void 0:S.displayName,richMetadataTitle:null===(P=i.richMetadata)||void 0===P?void 0:P.title,storyPinDataId:i.storyPinDataId,storyPinDataMetadataPinTitle:null===(k=i.storyPinData)||void 0===k?void 0:null===(w=k.metadata)||void 0===w?void 0:w.pinTitle})||i.description,U=(B||"").length>Z,{description:H}=(0,u.eK)({richMetadataDescription:null===(I=i.richMetadata)||void 0===I?void 0:I.description,richSummaryDisplayName:null===(T=i.richSummary)||void 0===T?void 0:T.displayName,closeupUnifiedDescription:i.closeupUnifiedDescription}),V=H.length>K,[G,$]=(0,l.useState)(!V&&!U),W=(0,d._S)(i.domain)?i.domain:"";return(0,y.jsxs)(a.xu,{children:[(0,y.jsxs)(a.xu,{children:[(0,y.jsxs)(a.xu,{as:"figcaption",paddingX:R?11:0,children:[(0,y.jsx)(a.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:z||D?B:(0,p.Z)(B||"",Z)}),!!B&&(0,y.jsx)(a.xu,{height:H?8:0}),H&&(V||U)?(0,y.jsx)(a.xu,{"data-test-id":"vase-pin-description",children:(0,y.jsxs)(a.iP,{onTap:()=>{z||L||((0,m.NC)("click_open_description_in_sheet"),O({action:"click",item:"more-description-in-sheet"})),$(!G),M(!z)},fullWidth:!1,children:[(0,y.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:z||D?H:(0,p.Z)(H,K)}),(0,y.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,y.jsx)(a.xv,{weight:"bold",size:"200",inline:!0,children:z||D?C._('Less', 'Toggle less description button', 'Toggle less description button'):C._('More', 'Toggle more description button', 'Toggle more description button')})})]})}):(0,y.jsx)(a.xu,{"data-test-id":"vase-pin-description",children:(0,y.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:H})})]}),!L&&!D&&F&&(G||D)&&!!W&&(0,y.jsx)(a.xu,{marginTop:2,children:(0,y.jsx)(a.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,s.nk)(C._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,y.jsx)(a.xu,{display:"inlineBlock",children:(0,y.jsx)(a.xv,{inline:!0,size:"200",children:x})},"pinCreditsPrefix"),pinCredit:(0,y.jsxs)(a.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:[N&&(0,y.jsx)(a.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),O({action:"click",item:"pin-domain-link"}),(0,m.My)("mweb_pin_page.pin_link.clickthrouh"),L||(0,m.NC)("click_pin_closeup_link_clickthrough"),N()},tapStyle:"compress",children:(0,y.jsx)(a.xv,{size:"200",lineClamp:1,children:(0,y.jsx)("span",{style:{textDecoration:"underline"},children:W})},"pinLinkDomain")}),i.link&&!N&&(0,y.jsx)(a.rU,{href:i.link,children:(0,y.jsx)(a.xv,{size:"200",underline:!0,children:W})})]},"pinCredits")})})})]}),!!i.board&&(G||D)&&(0,y.jsx)(a.xu,{marginTop:4,children:(0,y.jsx)(v,{boardUrl:i.board.url||void 0,boardName:i.board.name||void 0,boardPrivacy:i.board.privacy||void 0,pinnerFullName:(null===(j=i.pinner)||void 0===j?void 0:j.fullName)||void 0,pinnerImageSmallUrl:null===(A=i.pinner)||void 0===A?void 0:A.imageSmallUrl,pinnerImageLargeUrl:null===(E=i.pinner)||void 0===E?void 0:E.imageLargeUrl})}),(0,y.jsx)(a.xu,{marginTop:4,children:(0,y.jsx)(f.ZP,{dedupeVisualAnnotations:e,pinId:t,mode:"expanded",graphqlRef:n,shoppingKlpUrls:b})})]})}function S({pinKey:e,pinId:i,...t}){let{data:n,childDataKey__DEPRECATED:l}=(0,r.sr)(x,e,{type:"pin",useLegacyAdapter:e=>({board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,link:e.link,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title})});return n&&(0,y.jsx)(b,{...t,pinId:i,pin:n,queryRef:"graphqlRef"===l.type?l.data:null})}},676794:(e,i,t)=>{"use strict";t.d(i,{Z:()=>u});var n=t(667294),l=t(618446),a=t.n(l),r=t(788241),o=t(266769),s=t(785893);class d extends n.Component{componentDidMount(){let{setCurrentPageData:e,viewData:i,viewParameter:t,viewType:n}=this.props;e({viewData:i,viewParameter:t,viewType:n})}componentDidUpdate(e){let{setCurrentPageData:i,viewData:t,viewParameter:n,viewType:l}=this.props;n===e.viewParameter&&l===e.viewType&&a()(t,e.viewData)||i({viewData:t,viewParameter:n,viewType:l})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:i,component:t,objectIdStr:n,viewData:l,viewParameter:a,viewType:r,clientTrackingParams:d}=this.props;return(0,s.jsx)(o.Z,{auxData:e,component:t,objectIdStr:n,clientTrackingParams:d,viewData:l,viewParameter:a,viewType:r,children:i})}}function u(e){let{setViewContextData:i,clearViewContextData:t}=(0,r.sV)();return(0,s.jsx)(d,{...e,clearCurrentPageData:t,setCurrentPageData:i})}},266769:(e,i,t)=>{"use strict";t.d(i,{Z:()=>s});var n=t(667294),l=t(563962),a=t(98736);let r=e=>Object.keys(e).reduce((i,t)=>(void 0===e[t]&&delete i[t],i),{...e}),o=({viewType:e,viewParameter:i,viewData:t,auxData:n,objectIdStr:l,component:o,clientTrackingParams:s,element:d},u)=>{let c=r({event_type:13,view_type:e,view_parameter:i,view_data:t,aux_data:n,object_id_str:l,component:o,clientTrackingParams:s,element:d});-1===Object.keys(c).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),u(c)};function s(e){let{auxData:i,clientTrackingParams:t,children:a,component:r,element:s,objectIdStr:d,viewData:u,viewParameter:c,viewType:p}=e,m=(0,l.Z)(),_=JSON.stringify(i),h=JSON.stringify(u);return(0,n.useEffect)(()=>{o(e,m)},[m,_,t,r,s,d,h,c,p]),n.Children.only(a)}},700453:(e,i,t)=>{"use strict";t.d(i,{B:()=>h,Z:()=>g});var n=t(667294),l=t(616550),a=t(40660),r=t(388011),o=t(788241),s=t(988014),d=t(282802),u=t(98736),c=t(618569),p=t(799006),m=t(951599),_=t(785893);let h=(e,i)=>"/"===e.pathname?"/":(0,s.am)(e)&&i?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function g({children:e,componentType:i,app_upsell_type:t}){let s=(0,l.useLocation)(),{flushContextEvents:g,logContextEvent:y}=(0,r.v)(),{viewType:v,viewParameter:f}=(0,o.SU)(),x=(0,c.Z)(),{userAgent:{platform:b}}=(0,d.B)();(0,n.useEffect)(()=>{x({action:"view",item:"download-button",within:t})},[s,t,x]);let S=(0,n.useRef)(!1);(0,n.useEffect)(()=>{v&&202!==v?(y({component:i||13106,element:10308,event_type:9976,view_type:v,view_parameter:f,aux_data:{app_upsell_type:t,app_upsell_is_dupe:S.current}}),S.current=!0):a.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:i,view_type:v,view_parameter:f,app_upsell_type:t,app_upsell_is_dupe:S.current})},[i,y,f,v,t]);let P=(0,p.Z)();return(0,n.useEffect)(()=>{P||(0,u.My)(`mweb.app_upsell.forbidden_upsell.${t}`)},[P,t]),(0,_.jsx)(m.Z,{children:n=>e({handleOpenApp:e=>{if(x({action:"click",item:"download-button",within:t}),(0,u.NC)("press_open_app",!0),y({component:i||13106,element:10308,event_type:102,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:t}}),y({component:i||13106,element:10308,event_type:9977,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:t}}),g(!0),n){var l;y({component:i||13106,element:10308,event_type:1701,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:t}}),n(null!==(l=null==e?void 0:e.deepLinkUri)&&void 0!==l?l:h(s,"android"===b),t)}}})})}},277192:(e,i,t)=>{"use strict";t.d(i,{Z:()=>h});var n=t(883119),l=t(894121),a=t(536042),r=t(599551),o=t(282802),s=t(549201),d=t(700453),u=t(115771),c=t(536540),p=t(352865),m=t(785893);let _=({deepLinkUri:e,isOpen:i,onDismiss:t,onOpenInApp:u,to:_,app_upsell_type:h})=>{let g=(0,a.ZP)(),y=(0,s.Wb)(),{isBot:v,userAgent:{platform:f,raw:x}}=(0,o.B)(),b=(0,p.Rp)({isBot:v,platform:f,userAgent:x}),S=(0,r.Z)({href:null!=_?_:""}),P=y?60:40;return(0,m.jsx)(l.default,{accessibilityModalLabel:"",isOpen:i,mobileHideCloseIcon:!0,type:"app_upsell_v1",zIndex:new n.Ry(101),closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,m.jsx)(d.Z,{componentType:14157,app_upsell_type:h,children:({handleOpenApp:i})=>(0,m.jsxs)(n.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,m.jsx)(n.xu,{display:"inlineBlock",position:"absolute",children:(0,m.jsx)(n.xu,{"data-test-id":"appUpsell-continue",children:(0,m.jsx)(n.hU,{accessibilityLabel:g._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e})=>{t({event:e}),S&&!e.defaultPrevented&&S({event:e})},size:"lg",iconColor:"gray"})})}),(0,m.jsxs)(n.xu,{paddingX:2,paddingY:6,children:[(0,m.jsx)(n.xu,{paddingY:2,justifyContent:"center",display:"flex",children:b?(0,m.jsx)(c.Z,{size:P}):(0,m.jsx)(n.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:P})}),(0,m.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,m.jsx)(n.xu,{paddingY:2,children:(0,m.jsx)(n.X6,{align:"center",size:"400",children:b?g._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):g._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app')})}),(0,m.jsx)(n.xv,{align:"center",size:"300",children:b?g._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):g._('Continue in the app for the full experience', 'mweb.app_upsell.description4', 'description on app upsell modal')}),(0,m.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,m.jsx)(n.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{i({deepLinkUri:e}),u()},text:g._('Open app', 'mweb.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest Lite app')})})]})]})]})})})};function h({clientTrackingParams:e,deepLinkUri:i,isOpen:t,onDismiss:n,onOpenInApp:l,shouldTrackDismiss:a,to:r,viewParameter:o,viewType:s,app_upsell_type:d}){return(0,m.jsx)(u.Z,{clientTrackingParams:e,viewType:s,viewParameter:o,children:(0,m.jsx)(_,{deepLinkUri:i,isOpen:t,onDismiss:e=>{a&&(0,u.y)(),n(e)},onOpenInApp:()=>{(0,u.y)(),l()},to:r,app_upsell_type:d})})}},115771:(e,i,t)=>{"use strict";t.d(i,{Z:()=>c,y:()=>u});var n=t(667294),l=t(500797),a=t(611756),r=t(173085),o=t(567648),s=t(266769),d=t(785893);let u=()=>{(0,a.Nh)("appUpsell",Date.now()),(0,a.qn)("firstUpsellTime")||(0,a.Nh)("firstUpsellTime",Date.now()),(0,r.Nh)("showedAppUpsellCurrentSession",!0)};function c({children:e,clientTrackingParams:i,viewParameter:t,viewType:a}){let r=(0,o.Z)();return r||(0,l.FP)(window)?null:(0,d.jsx)(s.Z,{viewType:a,viewParameter:t,component:13106,clientTrackingParams:i,children:(0,d.jsx)(n.Fragment,{children:e})})}},799006:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(702664);let l=()=>(0,n.useSelector)(({session:{canUseNativeApp:e}})=>e)},808067:(e,i,t)=>{"use strict";t.d(i,{Z:()=>P});var n=t(667294),l=t(616550),a=t(883119),r=t(563962),o=t(62152),s=t(536042),d=t(734417),u=t(630089),c=t(282802),p=t(98736),m=t(777849),_=t(910717),h=t(549201),g=t(802071),y=t(561445),v=t(455900),f=t(41669),x=t(328939),b=t(785893);let S=({children:e})=>{let i=(0,g.Z)(),t=(0,h.HG)(),n=i&&i.isAuth;return t&&n?(0,b.jsx)(a.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,b.jsx)(a.xv,{lineClamp:1,weight:"bold",children:e})};function P({archivedDate:e,boardUrl:i,canEdit:t,collaborators:g,collaboratorsCount:P=0,containerBackgroundColor:k,coverPhoto:w,followedByMe:I,fullSizeDrawer:T,sensitivityScreen:j,handleInviteResponse:A,hideMeta:E,id:C,invite:F,imagesLego:R=[],isBoardInviteAccepted:L,isActive:D,isAuthenticated:O,isCollaborative:N,isCollaborator:z,isOwner:M,isProtected:K,isSecret:Z,isTemporarilyDisabled:B,lastModifiedDate:U,layout:H,locale:V,name:G,numCols:$,onEditClick:W,onFollow:q,onUnfollow:Y,owner:X,pinCount:J=0,sectionCount:Q,showFollowButton:ee,viewParameter:ei,viewType:et,viewerId:en,slotIndex:el}){let ea=(0,s.ZP)(),er=(0,o.Z)(),eo=(0,d.Z)(),{pathname:es}=(0,l.useLocation)(),ed=(0,r.Z)(),eu=(0,h.HG)(),{isRTL:ec}=(0,c.B)(),ep=eu&&O,em="square"===H?y.M0:y.z9,e_=!/\/search\/boards\//.test(es),eh=e=>{O||(0,p.NC)("press_follow_board"),q&&q(e)},eg=e=>{O||(0,p.NC)("press_unfollow_board"),Y&&Y(e)},ey=R.map(e=>({url:e.url,name:G})),ev=!!X&&!t&&ee,ef=!M&&!z&&!!(null!=j&&j.show_warning),ex={board_id:C,reason:null==j?void 0:j.reason};(0,n.useEffect)(()=>{ef&&ed({event_type:13,component:13861,view_type:215,aux_data:ex})},[]);let eb=X?X.id:void 0,eS=[...g.filter(({id:e})=>e===eb),...g.filter(({id:e})=>e===en&&e!==eb),...g.filter(({id:e})=>![eb,en].includes(e))].map(e=>{var i,t;return{name:null!==(i=ep?e.full_name:e.username)&&void 0!==i?i:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(t=e.image_medium_url)&&void 0!==t?t:""}}),eP=P>=eS.length?P-eS.length:0;eP=eP>99?100:eP;let ek=[...eS,...Array(eP).fill({name:"",src:""})],ew=ep?24:16,eI=ew/3*((eS.length>2?3:eS.length)*2+1),{cardWithFollowCalculated:eT}=(0,n.useMemo)(()=>{let i=0;return!e&&e_&&(i+=1),Q&&(i+=1),e&&!eu&&(i+=1),{cardWithFollowCalculated:210+14*i}},[e,eu,e_,Q]);return(0,b.jsx)(x.fS,{slotIndex:el||0,component:13669,loggingId:C,impressionData:{imageURL:null==w?void 0:w.url},auxData:{board_pin_count:null!=J?J:0,board_id:C},viewParameter:ei,viewType:et,children:({impressionTrackerRef:l})=>(0,b.jsxs)(a.xu,{"data-test-id":`boardCard-${G}`,position:"relative",height:ev?`max(calc(25vh + 10px), ${eT}px)`:"100%",ref:l,width:ep?em:"100%",children:[(0,b.jsx)(v.Z,{canEdit:t,containerBackgroundColor:k,coverPhoto:w,images:ey,isProtected:K,isSecret:Z,fullSize:T,showSensitivityScreen:ef,isActive:D,onEditClick:W,layout:H,isTemporarilyDisabled:B}),!E&&(0,b.jsx)(n.Fragment,{children:F&&!B?(0,b.jsxs)(n.Fragment,{children:[(0,b.jsxs)(a.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsxs)(a.xu,{width:"100%",children:[(0,b.jsx)(a.rU,{href:null!=i?i:"",children:(0,b.jsx)(a.xu,{marginTop:0,marginBottom:1,children:(0,b.jsx)(S,{children:G})})}),L?(0,b.jsx)(a.xv,{size:"200",lineClamp:1,children:ea._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,b.jsx)(a.xv,{size:"200",children:function(e,i){let{full_name:t,username:n}=e,l=(0,b.jsx)(a.rU,{href:`/${n}`,display:"inlineBlock",underline:"hover",children:t},"linkToUser");return(0,u.nk)(i._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:l})}(F.invited_by_user,ea)})]}),(0,b.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:eI,minWidth:eI,height:ew,children:(0,b.jsx)(a.HE,{accessibilityLabel:m.U+(ea._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ek})})]}),L?(0,b.jsx)(a.xu,{direction:"row",display:"flex",paddingX:2,children:(0,b.jsx)(a.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,b.jsx)(a.ZP,{href:null!=i?i:"",fullWidth:!0,size:"lg",text:ea._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,b.jsxs)(a.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,b.jsx)(a.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,b.jsx)(a.zx,{fullWidth:!0,onClick:()=>{null==A||A(!1)},size:"lg",text:ea._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,b.jsx)(a.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,b.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:()=>{null==A||A(!0)},size:"lg",text:ea._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,b.jsxs)(a.xu,{height:ep?void 0:y.s0,marginTop:ep?0:1,paddingX:2,paddingY:ep?2:0,children:[(0,b.jsxs)(a.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsx)(S,{children:G}),N&&!B&&(0,b.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:eI,minWidth:eI,height:ew,children:(0,b.jsx)(a.HE,{accessibilityLabel:m.U+(ea._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ek})})]}),(0,b.jsxs)(a.xu,{alignItems:eu?"center":"start",direction:eu?"row":"column",display:"flex",marginTop:1,children:[(0,b.jsxs)(a.xv,{size:"100",lineClamp:1,children:[(0,b.jsx)(m.Z,{}),(0,u.nk)(ea.ngettext('{{ count }} Pin', '{{ count }} Pins', J, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:eo(V,J,{})})]}),!!Q&&(0,b.jsx)(a.xv,{size:"100",children:(0,b.jsxs)(n.Fragment,{children:[eu?(0,b.jsx)(_.Z,{ariaHidden:!0}):void 0,(0,b.jsx)(m.Z,{}),(0,u.nk)(ea.ngettext('{{ count }} section', '{{ count }} sections', Q, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:Q})]})}),!e&&e_&&(0,b.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{display:ep?"inline-flex":"inline",paddingLeft:eu?7:0,paddingRight:ec?7:0}},children:(0,b.jsxs)(a.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,b.jsx)(m.Z,{}),er(U,!0)]})}),e&&!eu&&(0,b.jsxs)(a.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,b.jsx)(m.Z,{}),ea._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]})]}),ev&&(0,b.jsx)(a.xu,{marginTop:2===$?3:void 0,column:2===$?12:void 0,flex:"none",children:(0,b.jsx)(f.Z,{disabled:null==X?void 0:X.blocked_by_me,followEventType:26,id:C,isFollowed:I,onFollow:eh,onUnfollow:eg,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:ei,viewType:et})})]})})]})})}},586058:(e,i,t)=>{"use strict";t.d(i,{Z:()=>v});var n=t(702664),l=t(883119),a=t(563962),r=t(245410),o=t(282802),s=t(98736),d=t(618569),u=t(802071),c=t(808067),p=t(122686),m=t(13260),_=t(736595),h=t(107877),g=t(785893);let y=["thumbnail","imageOnly"];function v({boardId:e,containerBackgroundColor:i,forwardedRef:t,fullSize:v,showFollowButton:f=!0,showPinCount:x=!0,type:b,viewParameter:S,viewType:P,slotIndex:k}){var w,I,T;let j=(0,u.Z)(),A=j&&j.isAuth,E=(0,n.useDispatch)(),{locale:C}=(0,o.B)(),F=(0,d.Z)(),R=(0,h.gC)()(e),L=(0,p.Z)(),{checkExperiment:D}=(0,r.F)(),O=(0,a.Z)(),N=j.isAuth?j.id:"";if(!R)return null;let{owner:z}=R,M=[z,...R.collaborating_users||[]].filter(Boolean).map(({id:e,image_medium_url:i,username:t})=>({id:e,image_medium_url:i,username:t})),K=(null==z?void 0:z.id)===N,Z=M.filter(({id:e})=>e===N).length>0;if("secret"===R.privacy&&!Z)return null;let B="grid"===b||"thumbnail"===b?2:4,U=L(R,B),H={isCustom:R.has_custom_cover,url:U,position:(0,m.Bw)(R.cover_pin)},V=(0,m.Jx)(R,U).map(({url:e})=>({name:(0,m.po)(e),url:e})),G=!!R.is_temporarily_disabled&&(D("mweb_hide_u16_group_board").anyEnabled||D("unauth_hide_u16_group_board").anyEnabled),$=(0,g.jsx)(c.Z,{archivedDate:null!==(w=R.archived_by_me_at)&&void 0!==w?w:void 0,canEdit:!!R.access&&R.access.includes("write"),collaborators:M,collaboratorsCount:R.collaborator_count,containerBackgroundColor:i,coverPhoto:U?H:null,followedByMe:R.followed_by_me,fullSizeDrawer:v,hideMeta:y.includes(b),id:R.id,imagesLego:V,isAuthenticated:A,isCollaborative:R.is_collaborative,isCollaborator:Z,isOwner:K,isProtected:"protected"===R.privacy,isSecret:"secret"===R.privacy,isTemporarilyDisabled:G,lastModifiedDate:"full"===b?R.board_order_modified_at:"",locale:C,name:null!==(I=R.name)&&void 0!==I?I:"",numCols:B,onFollow:e=>E((0,_.Z)(e,O)),onUnfollow:e=>E((0,_.f)(e,O)),owner:z,pinCount:x&&R.pin_count?R.pin_count:void 0,sectionCount:null!==(T=R.section_count)&&void 0!==T?T:0,sensitivityScreen:R.sensitivity_screen,showFollowButton:f,viewParameter:S,viewType:P,viewerId:N,slotIndex:k});return!y.includes(b)&&R.url?(0,g.jsx)(l.Tg,{href:R.url,rounding:2,tapStyle:"compress",onTap:()=>{A||((0,s.NC)("click_go_to_board"),F({action:"click",item:"board-card"}))},children:(0,g.jsx)(l.xu,{ref:t,paddingY:3,children:$})}):$}},456660:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(883119),l=t(785893);function a({customCover:e,height:i,imgUrl:t,imgPos:a,width:r}){let o="center center";if(e&&a){let e=1;e=a.height/a.width>i/r?r/a.width:i/a.height;let t=a.x*e,n=a.y*e;o=`-${t}px -${n}px`}let s={backgroundImage:`url(${t})`,backgroundPosition:o,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:i,width:r}},children:(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:s},children:(0,l.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},455900:(e,i,t)=>{"use strict";t.d(i,{Z:()=>p});var n=t(883119),l=t(536042),a=t(282802),r=t(549201),o=t(561445),s=t(456660),d=t(548637),u=t(785893);let c={square:"100%"};function p(e){var i,t;let p=(0,l.ZP)(),{containerBackgroundColor:m="white",coverPhoto:_,fullSize:h,images:g,isProtected:y,isSecret:v,isTemporarilyDisabled:f,showSensitivityScreen:x,isActive:b,canEdit:S,onEditClick:P,layout:k}=e,w=(0,r.HG)(),{isRTL:I,isAuthenticated:T}=(0,a.B)(),j=w&&T,A=g[0],E=!_&&(null===(i=g[0])||void 0===i?void 0:i.name)||p._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),C=[,,].fill(),F=new n.Ry(1),R="square"===k?o.M0:o.z9,L="square"===k?o.FP:o.FC,D=null!=A&&A.url?(0,u.jsx)(n.Ee,{alt:E,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:A.url}):(0,u.jsx)(n.xu,{color:"secondary",height:"100%",width:"100%"}),O=f||x?{filter:"blur(20px)"}:{};return(0,u.jsx)(n.zd,{height:h?"100%":void 0,rounding:4,width:"100%",wash:b,children:(0,u.jsxs)(n.xu,{"aria-hidden":!0,display:"flex",height:j?L:"100%",direction:"row",children:[(0,u.jsx)(n.sg,{span:8,children:(0,u.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:O},position:"relative",height:h?"100%":void 0,children:(0,u.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:c.square}},overflow:"hidden",width:"100%",children:(0,u.jsxs)(n.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[(y||v)&&(0,u.jsx)(n.xu,{left:!I,right:I,margin:2,position:"absolute",top:!0,zIndex:F,children:(0,u.jsx)(d.Z,{backgroundColor:"default",iconColor:"default",privacy:v?"secret":"protected",size:j?32:24})}),w&&null!=_&&_.url?(0,u.jsx)(s.Z,{customCover:_.isCustom,imgPos:_.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(t=_.url)&&void 0!==t?t:"",width:Math.floor(R/3*2),height:L}):D]})})})}),(0,u.jsx)(n.sg,{span:4,children:(0,u.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:O},height:"100%",children:[S&&b&&(0,u.jsx)(n.xu,{left:I,right:!I,margin:2,position:"absolute",bottom:!0,zIndex:F,children:(0,u.jsx)(n.hU,{accessibilityLabel:p._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==P?void 0:P(e),size:"sm"})}),C.map((e,i)=>{let t=g[w?i:i+1];return(0,u.jsx)(n.xu,{position:"relative",height:h?"50%":void 0,children:(0,u.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:c.square}},overflow:"hidden",width:"100%",children:(0,u.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:0===i?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:null!=t&&t.url?(0,u.jsx)(n.Ee,{alt:t&&t.name||"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:t.url}):(0,u.jsx)(n.xu,{color:"secondary",height:"100%",width:"100%"})})})},i)})]})}),(f||x)&&(0,u.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:f?(0,u.jsx)(n.xu,{maxWidth:188,children:(0,u.jsx)(n.xv,{align:"center",color:"light",weight:"bold",size:"200",children:p._('This board is currently unavailable', 'drawerImageGroup.unavailableBoard.heading', 'Warning text for a board that is unavailable')})}):(0,u.jsx)(n.X6,{align:"center",color:"light",size:"400",children:p._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},561445:(e,i,t)=>{"use strict";t.d(i,{FC:()=>o,FP:()=>a,M0:()=>l,Xq:()=>s,s0:()=>n,z9:()=>r});let n=44,l=236,a=157,r=320,o=213,s=7},548637:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(883119),l=t(536042),a=t(785893);function r({backgroundColor:e="darkGray",iconColor:i="inverse",iconSize:t,privacy:r,size:o=20}){let s=(0,l.ZP)();return(0,a.jsx)(n.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:o,height:o,rounding:"circle",justifyContent:"center",children:(0,a.jsx)(n.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:i,icon:"secret"===r?"lock":"security",size:null!=t?t:o/2})})}},122686:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(549201),l=t(802071);function a(){let e=(0,n.HG)(),i=(0,l.Z)(),t=i&&i.isAuth;return e&&t?e=>{var i,t;let n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,l=null!==(i=null===(t=e.cover_pin)||void 0===t?void 0:t.image_url)&&void 0!==i?i:n,a=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return l||a}:(e,i)=>{var t,n;let l=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!l)return"";let a=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,r=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,o=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,s=null!==(t=null!==(n=null!=a?a:r)&&void 0!==n?n:o)&&void 0!==t?t:"",d=e.image_cover_url||"";return l||(i&&i>2&&s?s:"")||d}}},13260:(e,i,t)=>{"use strict";t.d(i,{Bw:()=>o,Jx:()=>r,po:()=>n});let n=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),l=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),a=e=>{if(!e)return()=>!0;let i=n(e);return e=>{var t;return"string"==typeof e?n(e)!==i:n(null!==(t=e.url)&&void 0!==t?t:"")!==i}},r=(e,i)=>e.images&&e.images["170x"]?e.images["170x"].filter(a(i)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(a(i)).map(l):[],o=e=>{var i;return null!==(i=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==i?i:{x:0,y:0,width:0,height:0}}},154522:(e,i,t)=>{"use strict";t.d(i,{Cq:()=>u,Dk:()=>p,Fk:()=>l,fS:()=>d,km:()=>c,lI:()=>r,lJ:()=>a,mS:()=>s,qW:()=>o});var n=t(883119);let l=new n.Ry(1),a=3,r=new n.Ry(a),o=2,s=new n.Ry(o),d=3,u=4,c=new n.Ry(5),p=new n.Ry(100)},741099:(e,i,t)=>{"use strict";t.d(i,{Z:()=>S});var n=t(667294),l=t(883119),a=t(536042),r=t(245410),o=t(397352),s=t(282802),d=t(552369),u=t(549201),c=t(464649),p=t(515367),m=t(616550),_=t(599226),h=t(657482),g=t(98736),y=t(618569),v=t(785893);function f({setShowClickthroughOverlay:e,isEligibleForPdp:i,isEligibleForDesktopSocialInviteOverlay:t,inviterFirstName:o,imageSignature:s,pinId:d}){let c=(0,a.ZP)(),p=(0,y.Z)(),f=(0,_.Z)(),{checkExperiment:x}=(0,r.F)(),b=(0,n.useRef)(),S=(0,u.ZP)(),P="desktop"===S,k=o&&t,w=P&&x("dweb_unauth_main_pin_visual_search_v2").group,I="enabled_2_no_upsell"===w||"enabled_rollout"===w||"enabled_1_nav_upsell_post_land"===w,T=k&&(c._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",o),j=I?c._('See something you like? Tap to search inside this image', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'):c._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),A=c._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),E=(0,m.useHistory)();return(0,v.jsx)(l.iP,{onMouseEnter:()=>{k&&(0,g.My)("dweb.main_pin.social.wash.view"),(0,g.My)("dweb.pin.wash.view")},onMouseLeave:()=>{k&&(0,g.My)("dweb.main_pin.social.wash.dismiss"),(0,g.My)("dweb.pin.wash.dismiss")},onTap:({event:e})=>{if(P){if(e.preventDefault(),p({action:"click",item:"pin-image"}),t&&o&&(0,g.My)("dweb.main_pin.social.wash.click"),I){let e=`/pin/${d}/visual-search/?`;s&&(e+=`imageSignature=${s}`),E.push(e),h.Z.setItem("VISUAL_SEARCH_SOURCE","MAIN_PIN_WASH")}else(0,g.My)("dweb_unauth_main_pin_image_click.signup_modal.show"),f({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}});i&&(0,g.My)("unauth.pdp.pin.img.click",{device:S})}},children:(0,v.jsxs)(l.xu,{zIndex:new l.Ry(2),children:[(0,v.jsx)(l.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:t?"center":void 0,direction:"column",position:"absolute",ref:b,"data-test-id":"main-pin-hover-overlay",children:(0,v.jsx)(l.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:I?260:240,direction:"column",children:(0,v.jsx)(l.xu,{marginTop:8,children:(0,v.jsx)(l.X6,{size:k?"500":"400",align:"center",color:"light",children:P?T||j:A})})})}),!P&&(0,v.jsx)(l.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,v.jsx)(l.hU,{icon:"cancel",iconColor:"white",onClick:({event:i})=>{i.stopPropagation(),e&&(e(!1),(0,g.My)("main.pin.wash.cancel"))},accessibilityLabel:c._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),size:"md"})})]})})}var x=t(963181),b=t(199999);let S=e=>{var i;let t=(0,a.ZP)(),{alt:m,clickthroughOverlayOptions:_,color:h,isFlashlightPage:g,naturalHeight:y,naturalWidth:S,placeholder:P,pinImageResizePercent:k=100,pwtElementTimingId:w,pwtSurfaceContext:I,setShowClickthroughOverlay:T,showSpinner:j,src:A,stickyFooter:E,isEligibleForPdp:C,pinId:F,imageSignature:R}=e,L=(0,c.Z)(),{checkExperiment:D}=(0,r.F)(),O=!L,{isAuthenticated:N}=(0,s.B)(),z=(0,u.ZP)(),M="desktop"===z,K=N&&!M&&D("auth_mweb_inline_action_bar").anyEnabled,Z=(0,n.useRef)(),[B,U]=(0,n.useState)(!O||!!A&&!!P&&P===A),H=(0,n.useRef)(""),V=()=>{I&&I.markConstraintComplete("PinPageMainImageRendered")};(0,n.useEffect)(()=>{let e=new Image;e.onload=()=>U(!0),e.src=A},[]);let G=(0,n.useRef)(null===(i=(0,b.a)())||void 0===i?void 0:i.setHasScrolledPastMainContent);(0,n.useEffect)(()=>{let e=(0,d.Z)(()=>{if(Z.current){var i;let t=window.scrollY>Z.current.offsetTop+Z.current.offsetHeight;null===(i=G.current)||void 0===i||i.call(G,t),t&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]);let[$,W]=(0,n.useState)();(0,n.useEffect)(()=>{Z.current&&W(Z.current.scrollHeight)},[]);let q=!g&&"tablet"===z,Y=O?(0,v.jsx)(o.Z,{alt:m,color:h,elementTiming:w,naturalHeight:y,naturalWidth:S,src:P,onLoad:V}):null;return(0,v.jsxs)(l.xu,{"data-test-id":"pin-closeup-image",dangerouslySetInlineStyle:{__style:{transition:100===k?"":"width 500ms ease-in-out"}},maxHeight:"100%",minHeight:100===k?$:void 0,maxWidth:"tablet"===z?x.g6:void 0,overflow:E?void 0:"hidden",position:"relative",width:g||"phone"===z?`${k}%`:M?508:x.Hg,rounding:g||"phone"===z?0:6,ref:Z,marginTop:"tablet"===z&&K?12:0,children:[!N&&_&&"enabled_3_no_wash_upsell_post_land"!==D("dweb_unauth_main_pin_visual_search_v2").group&&(0,v.jsx)(p.Z,{isImagePinForUnauthOnTablet:!1,children:(0,v.jsx)(f,{setShowClickthroughOverlay:T,inviterFirstName:H.current,isEligibleForPdp:C,imageSignature:R||"",pinId:F||""})}),Y&&(q?(0,v.jsx)(l.xu,{rounding:6,overflow:"hidden",children:Y}):Y),(0,v.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:B?1:0,transition:B&&!M?"opacity .5s ease-in-out":void 0,backgroundColor:h}},left:!0,position:O?"absolute":"relative",right:!0,rounding:q?6:5,overflow:q?"hidden":void 0,top:!0,children:O?(0,v.jsx)(l.Ee,{alt:m,naturalHeight:y,naturalWidth:S,src:A}):(0,v.jsx)(o.Z,{alt:m,color:h,elementTiming:w,naturalHeight:y,naturalWidth:S,src:A,onLoad:V})}),j&&(0,v.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:B?0:1,transition:B?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!B&&(0,v.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(l.$j,{accessibilityLabel:t._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),E]})}},251951:(e,i,t)=>{"use strict";t.d(i,{R:()=>a,q:()=>l});var n=t(583592);let{Provider:l,useHook:a}=(0,n.Z)("CloseupPageContext")},768865:(e,i,t)=>{"use strict";t.d(i,{IS:()=>v,Ys:()=>y,ZP:()=>I,j$:()=>b});var n,l=t(667294),a=t(167912),r=t(883119),o=t(101789),s=t(44081),d=t(536042),u=t(630089),c=t(245410),p=t(895200),m=t(282802),_=t(525104),h=t(785893);let g=void 0!==n?n:n=t(24789),y=({m:e,h:i,rm:t,rh:n},l,a=!1)=>e&&(!i||n<=0)?a?(0,u.nk)(l._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:t.toString()}):(0,u.nk)(l.ngettext('{{mins}} minute', '{{mins}} minutes', t, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:t.toString()}):i?a?(0,u.nk)(l._('{{hrs}}hr {{mins}}min', 'closeup.makeRecipeTimeText.hours', 'hrs: number showing the hours to complete a recipe, mins: number showing the minutes to complete a recipe'),{hrs:i.toString(),mins:e.toString()}):(0,u.nk)(l.ngettext('{{hrs}} hour', '{{hrs}} hours', n, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:n.toString()}):null,v=({m:e,h:i,rm:t,rh:n,i18n:l})=>e&&(!i||n<=0)?(0,u.nk)(l._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:t.toString()}):i?(0,u.nk)(l._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:i.toString(),mins:e.toString()}):null,f=(e,i)=>{let t=e&&e.length>0&&e.join(", "),n=i&&i.summary;return t&&n?`${t}  ${n}`:t||n},x=e=>e?e.reduce((e,i)=>{var t,n;return e+(null!==(t=null===(n=i.ingredients)||void 0===n?void 0:n.length)&&void 0!==t?t:0)},0):0,b=({displayCookTime:e,i18n:i,isShortened:t})=>y((0,p.u)(e),i,t);function S({category:e,ingredients:i,textSize:t="300"}){return(0,h.jsxs)(r.xu,{marginBottom:4,children:[e&&(0,h.jsx)(r.xu,{children:(0,h.jsx)(r.xv,{weight:"bold",size:t,children:e})}),(null!=i?i:[]).map(e=>{var i,n;return(0,h.jsx)(r.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,h.jsxs)(r.xv,{size:t,children:[" ",e.amt||null," ",e.name]})},`${null!==(i=e.name)&&void 0!==i?i:""}-${null!==(n=e.name)&&void 0!==n?n:""}`)})]})}let P=({categorizedIngredients:e,displayCookTime:i,image:t,ingredientCount:n,ingredientsDescription:a,name:u})=>{let p=(0,d.ZP)(),{checkExperiment:_}=(0,c.F)(),{isAuthenticated:g}=(0,m.B)(),y=g?_("auth_closeup_redesign").anyEnabled:_("unauth_closeup_redesign").anyEnabled,v=i?b({displayCookTime:i,i18n:p,isShortened:!0}):null;if(!v&&!n&&!a)return null;let f=p._('Ingredients', 'Closeup.PinRecipe.ingredientsLabel', 'Ingredients category heading for recipes');return(0,h.jsxs)(r.xu,{"data-test-id":"pin-recipe-container",direction:"column",display:"flex",marginTop:y?8:12,marginBottom:y?0:4,marginEnd:y?0:6,overflow:"hidden",children:[(0,h.jsx)("meta",{content:u,itemProp:"name"}),t&&(0,h.jsx)("meta",{content:t,itemProp:"image"}),(0,h.jsx)(r.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,h.jsx)(o.Z,{heading:f,children:(0,h.jsx)(s.Z,{children:e.map(({category:e,ingredients:i},t)=>{let n=`ingredient-${t}`;return(0,h.jsx)(l.Fragment,{children:(0,h.jsx)(r.xu,{marginBottom:4,children:(0,h.jsx)(S,{category:e,ingredients:i,textSize:"300"})})},n)})})})})]})},k=({graphqlRef:e})=>{let i=(0,a.useFragment)(g,e),{imageSpec_474x:t,richMetadata:n}=i,l=null==n?void 0:n.recipe,r=null==l?void 0:l.categorizedIngredients,o=x(r),s=(null==l?void 0:l.categorizedIngredients)&&f(l.diets,l.servingsSummary);return(0,h.jsx)(P,{categorizedIngredients:r,displayCookTime:null==l?void 0:l.displayCookTime,image:null==t?void 0:t.url,ingredientCount:o,ingredientsDescription:s,name:null==l?void 0:l.name})},w=({pinId:e})=>{var i,t;let n=(0,_.S6)()(e),l=(null==n?void 0:null===(i=n.rich_metadata)||void 0===i?void 0:i.recipe)||{},{display_cook_time:a,name:r,categorized_ingredients:o,diets:s,servings_summary:d}=l,u=x(o),c=o&&f(s,d);return(0,h.jsx)(P,{categorizedIngredients:o,displayCookTime:a,image:(null===(t=((null==n?void 0:n.images)||{})["474x"])||void 0===t?void 0:t.url)||"",ingredientCount:u,ingredientsDescription:c,name:r})};function I({graphqlRef:e,pinId:i}){return e?(0,h.jsx)(k,{graphqlRef:e}):(0,h.jsx)(w,{pinId:i})}},979275:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o});var n=t(883119),l=t(536042),a=t(282802),r=t(785893);let o=({onSendButtonClick:e,trackShareTap:i,color:t,size:o,bgColor:s})=>{let d=(0,l.ZP)(),{userAgent:{platform:u}}=(0,a.B)();return(0,r.jsx)(n.hU,{accessibilityLabel:d._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onClick:({event:t})=>{e(t),i()},size:o||"lg",bgColor:s||"transparent",iconColor:t||"darkGray",icon:"android"===u?"android-share":"share"})}},873610:(e,i,t)=>{"use strict";t.d(i,{w:()=>s,z:()=>o});var n=t(667294),l=t(583592),a=t(785893);let{Provider:r,useMaybeHook:o}=(0,l.Z)("CloseupPreviewContext");function s({children:e}){let[i,t]=(0,n.useState)(Object.freeze({})),l=(0,n.useMemo)(()=>({setData:(e,i)=>t(t=>({...t,[e]:i})),getData:e=>i[e]}),[i]);return(0,a.jsx)(r,{value:l,children:e})}},32762:(e,i,t)=>{"use strict";t.d(i,{Ph:()=>l,Re:()=>r,si:()=>a});var n=t(549201);let l=(e,i)=>e&&!i?e:null,a=()=>{let e=(0,n.ZP)();return"phone"!==e?180:130},r=()=>{let e=(0,n.ZP)();return"phone"!==e?180:80}},994405:(e,i,t)=>{"use strict";t.d(i,{J1:()=>d,Uw:()=>s,Yg:()=>c,ib:()=>m});var n=t(40660),l=t(245410),a=t(282802),r=t(549201);let o=()=>{let{isAuthenticated:e,isBot:i}=(0,a.B)();return i?"bot":e?"auth":"unauth"},s=({isDesktop:e,viewerType:i})=>"bot"===i?"seo_graphql_pin_page":"auth"===i?e?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":e?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page",d=()=>{let e=(0,r.HG)(),i=o();return s({isDesktop:e,viewerType:i})},u=({checkExperiment:e,isAuthMweb:i})=>{let t=i&&e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return t?e=>n.Z.increment("webapp.graphql.debug_auth_mweb_graphql_pin_page",1,{event:e,group:t}):null},c=()=>{let{isAuthenticated:e}=(0,a.B)(),i=(0,r.HG)(),{checkExperiment:t}=(0,l.F)();return u({checkExperiment:t,isAuthMweb:e&&!i})},p=0,m=({checkExperiment:e,isAuthMweb:i})=>{let t=u({checkExperiment:e,isAuthMweb:i});t&&(p+=1)<10&&t(`repin_${p}`)}},310131:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>y});var n,l=t(702664);t(167912);var a=t(883119),r=t(324509),o=t(450600),s=t(536042),d=t(925428),u=t(55193),c=t(533451),p=t(525104),m=t(785893);let _={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},h=(e,i,t,n,l,a)=>{a||void 0===n||(e.preventDefault(),e.stopPropagation(),n(i,t)),void 0!==l&&l(t)},g=void 0!==n?n:n=t(941729);function y({addEllipsis:e,alwaysShowNavigationArrows:i,carouselIndex:t,carouselData:n,ellipsisVariant:y,handleCarouselSwipe:v,isShowingLastSlide:f,pinKey:x,contextLogData:b,viewParameter:S,viewType:P,componentType:k,isEditMode:w,forwardNode:I,backNode:T,sliderStyleOverride:j,hideNavigationArrows:A}){var E,C;let F;let R=(0,s.ZP)(),L=(0,l.useDispatch)(),D=(0,p.S6)();if(null==x||"graphqlRef"===x.type)F=x;else{let e=D(x.data);F=null==e?null:{type:"deprecated",data:e}}let{data:O,childDataKey__DEPRECATED:N}=(0,o.u)(g,F,{useLegacyAdapter:e=>{var i;return{entityId:null!==(i=e.id)&&void 0!==i?i:"",isEligibleForPdp:e.is_eligible_for_pdp}}}),z=(0,u.Z)(N,"CarouselSliders"),M=(0,r.Z)(N),K=n||M&&{carouselSlots:M.carouselSlots.map(({slotId:e,title:i})=>({id:e,title:i})),entityId:null!==(E=M.carouselId)&&void 0!==E?E:"",index:M.index};if(!K)return null;let Z=(e,i)=>L((0,c.yR)(e,i)),{carouselSlots:B,index:U}=K,H=void 0!==t?t:null!=U?U:0,V=Math.max(0,H-1),G=Math.min((null!=B?B:[]).length-1,H+1),$=0===H,W=f||H===(null!=B?B:[]).length-1,q=(e,i)=>{var t,n,l;h(e,null!==(t=null==O?void 0:O.entityId)&&void 0!==t?t:"",i,Z,v,w),z({pinId:null!==(n=null==O?void 0:O.entityId)&&void 0!==n?n:"",currentIndex:H,nextIndex:i,carouselData:{carouselSlots:null==B?void 0:B.map(({id:e})=>({id:e})),entityId:K.entityId},viewParameter:S,viewType:P,componentType:k,contextLogData:b,isEditMode:w,isEligibleForPdp:null!==(l=null==O?void 0:O.isEligibleForPdp)&&void 0!==l&&l})},Y=T||(0,m.jsx)(a.JO,{color:"inverse",icon:"arrow-back",accessibilityLabel:R._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')}),X=A?null:I||(0,m.jsx)(a.JO,{color:"inverse",icon:"arrow-forward",accessibilityLabel:R._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')});return(0,m.jsxs)(a.xu,{display:"flex",justifyContent:A?"center":"between",position:"absolute",alignItems:"center",left:!0,right:!0,bottom:!0,top:!0,children:[!A&&(0,m.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{q(e,V)},onKeyUp:e=>{q(e,V)},style:{..._,...j,pointerEvents:$?"none":"auto"},children:(0,m.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:$&&!i?"hidden":"visible",opacity:$&&i?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:Y})}),e&&(0,m.jsx)(d.default,{pinKey:N,carouselIndex:t,carouselData:{carouselSlots:null===(C=K.carouselSlots)||void 0===C?void 0:C.map(({id:e,title:i})=>({id:e,title:i})),entityId:K.entityId,index:K.index},handleCarouselSwipe:v,variant:y||"default",viewParameter:S,viewType:P,componentType:k}),!A&&(0,m.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{q(e,G)},onKeyUp:e=>{q(e,G)},style:{..._,...j,pointerEvents:W?"none":"auto"},children:(0,m.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:W&&!i?"hidden":"visible",opacity:W&&i?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:X})})]})}},568998:(e,i,t)=>{"use strict";t.d(i,{Z:()=>b});var n,l=t(667294);t(422578);var a=t(883119),r=t(324509),o=t(450600),s=t(24286),d=t(536042),u=t(183929),c=t(176172),p=t(164377),m=t(525104),_=t(785893);function h(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let g=void 0!==n?n:n=t(476296),y=e=>{let i=e.reduce((e,i)=>{var t;let{imageSizeMap:n}=i,{height:l,width:a}=(null==n?void 0:n["736x"])||(null==n?void 0:n["236x"])||{},r=`${null!=a?a:1}x${null!=l?l:1}`,o=(null===(t=e[r])||void 0===t?void 0:t.times)||0;return{...e,[r]:{imageHeight:l,imageWidth:a,times:o+1}}},{}),t=Object.keys(i).reduce((e,t)=>i[t].times>e.times?i[t]:e,{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(i).length>1?{imageHeight:t.imageHeight,imageWidth:t.imageWidth}:null},v=(e,i,t,n,l,r,o,s,d,u,c,m,h,g,y,v)=>{var f,x,b,S,P,k,w,I,T,j,A,E,C,F,R,L;let D;let{imageSizeMap:O,details:N=""}=i,z=236,M=236,K="";l?(z=474,M=O&&Math.min(z/.8,z/((null!==(S=null===(P=O["564x"])||void 0===P?void 0:P.width)&&void 0!==S?S:1)/(null!==(k=null===(w=O["564x"])||void 0===w?void 0:w.height)&&void 0!==k?k:1))),K=O&&(null===(I=O["564x"])||void 0===I?void 0:I.url)):O&&O["736x"]?(M=O&&O["736x"]&&O["736x"].height,z=O&&O["736x"]&&O["736x"].width,K=O&&O["736x"]&&O["736x"].url):O&&O["236x"]&&(M=O&&O["236x"]&&O["236x"].height,z=O&&O["236x"]&&O["236x"].width,K=O&&O["236x"]&&O["236x"].url),h&&g&&(M=Math.min(h*g,null!==(T=M)&&void 0!==T?T:1)),D=r?`${null!==(j=null==O?void 0:null===(A=O["236x"])||void 0===A?void 0:A.url)&&void 0!==j?j:""} 1x`:l?`${null!==(E=null==O?void 0:null===(C=O["564x"])||void 0===C?void 0:C.url)&&void 0!==E?E:""} 1x`:[(null==O?void 0:O["474x"])&&`${null!==(F=O["474x"].url)&&void 0!==F?F:""} 2x`,(null==O?void 0:O["736x"])&&`${null!==(R=O["736x"].url)&&void 0!==R?R:""} 3x`,(null==O?void 0:O.orig)&&`${null!==(L=O.orig.url)&&void 0!==L?L:""} 4x`].filter(Boolean).join(", ");let Z=(0,p.GH)(N,e,n),B=m?void 0:M,U=m?void 0:z,{boxHeight:H,boxWidth:V}=y?{boxHeight:null==y?void 0:y.imageHeight,boxWidth:null==y?void 0:y.imageWidth}:{boxHeight:B,boxWidth:U};return(0,_.jsx)(a.xu,{"data-test-id":"carousel-slot-container",height:null!=H?H:void 0,width:null!=V?V:void 0,children:(0,_.jsx)(a.xu,{height:m?c:void 0,width:m||void 0,"data-test-id":`carousel-img-${n}`,children:(0,_.jsx)(a.Ee,{alt:Z,fit:m?"cover":"none",naturalHeight:null!==(f=M)&&void 0!==f?f:1,naturalWidth:null!==(x=z)&&void 0!==x?x:1,onError:o,onLoad:s,src:null!==(b=K)&&void 0!==b?b:"",srcSet:D,crossOrigin:v?"anonymous":void 0})})},`carousel-slot-${t}-${n}`)},f=({pinId:e,slot:i,slotIndex:t,onError:n,onLoad:l,widthToUse:r,gap:o},s)=>{let d=["564x","736x","474x","236x"].map(e=>{var t;return null===(t=i.imageSizeMap)||void 0===t?void 0:t[e]}).find(e=>null==e?void 0:e.url),{url:u,width:c,height:m}=d||{},{details:h=""}=i,g=(0,p.GH)(h,s,t);return(0,_.jsx)(a.xu,{"data-test-id":"carousel-slot-container",width:r,height:"100%",marginEnd:o,children:(0,_.jsx)(a.zd,{height:"100%",wash:!0,children:(0,_.jsx)(a.Ee,{alt:g,fit:"contain",naturalHeight:null!=m?m:1,naturalWidth:null!=c?c:1,onError:n,onLoad:l,src:null!=u?u:""})})},`carousel-slot-${e}-${t}`)};class x extends l.Component{constructor(...e){super(...e),h(this,"state",{showBadge:!0}),h(this,"renderBadge",()=>{let{carouselData:e,isCloseup:i,showCarouselBadge:t}=this.props;if(!e)return null;let{showBadge:n}=this.state,{carouselSlots:l,index:r}=e;return!i&&t?(0,_.jsx)(a.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:n?.8:0,transition:"opacity .3s"}},children:(0,_.jsx)(a.xv,{color:"inverse",children:`${(null!=r?r:0)+1}/${(null!=l?l:[]).length}`})}):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){let{showBadge:i}=this.state,{carouselData:t}=e,{carouselData:n}=this.props;if(!t||!n)return;let{index:l}=t,{index:a}=n;i&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),l!==a&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){var e;let i;let{isCloseup:t,carouselIndex:n,closeupHeight:l,closeupWidth:r=0,widthRatio:o=1,cropHeight:d,cropWidth:m,carouselData:h,disableTransition:g,highResOnly:x,lowResOnly:b,onError:S,onLoad:P,pinId:k,imageSignature:w,isEditMode:I,isDenseView:T,isThirdPartyAd:j}=this.props;if(!h)return null;if(o>1||o<0)throw Error("widthRatio should be between 0 and 1 inclusive");let{carouselSlots:A}=h,E=null!==(e=h.index)&&void 0!==e?e:0,C=void 0!==n?n:null!=E?E:0,F=!t&&m,{imageSizeMap:R}=A[C]||{};i=t?r:F||(x?474:T?s.Lo:s.yF);let L=Math.floor(i*o),D=(null==R?void 0:R["236x"])||{},O=d||D.height||0,N=m||D.width||236,z=l||O/N*L,M=y(A);return(0,_.jsxs)(a.xu,{height:z,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:c.Ml,"data-test-image-signature":w,children:[!I&&this.renderBadge(),(0,_.jsx)(u.Z,{carouselData:{...h,type:"canonical"},trackCarousel:!0,impressionType:"Pin",loggingId:k,slotIndex:null!=E?E:0,viewParameter:72,viewType:1,children:(0,_.jsx)(a.xu,{position:"absolute",height:z,width:L,overflow:"hidden"})},`carousel-impression-key-${C}`),(0,_.jsx)(a.xu,{width:L*A.length,dangerouslySetInlineStyle:{__style:{transition:g?"":"left .3s",left:(0,p.vF)(A.length,L,i,C)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:A.map((e,n)=>{if(t){let t=n===A.length-1;return f({pinId:k,slot:e,slotIndex:n,onError:S,onLoad:P,widthToUse:L,gap:L<i&&!t?1:0},this.props.i18n)}return v(this.props.i18n,e,k,n,x,b,S,P,r,l,d,m,z,L,M,j)})})]})}}function b({pinKey:e,...i}){let t;let n=(0,d.ZP)(),l=(0,m.S6)(),a=l(i.pinId);t=null==e||"graphqlRef"===e.type?e:null!=a?{type:"deprecated",data:a}:null;let{data:s,childDataKey__DEPRECATED:u}=(0,o.u)(g,t,{useLegacyAdapter:e=>({imageSignature:e.image_signature})}),c=(0,r.Z)(u),p=c&&{...c,carouselSlots:function(e){let i=["236x","474x","564x","736x"].map(i=>{let t=Math.min(...e.map(e=>{var t,n;return(null===(t=e.imageSizeMap)||void 0===t?void 0:null===(n=t[i])||void 0===n?void 0:n.height)||1/0})),n=Math.min(...e.map(e=>{var t,n;return(null===(t=e.imageSizeMap)||void 0===t?void 0:null===(n=t[i])||void 0===n?void 0:n.width)||1/0}));return{imageKey:i,height:t,width:n}});return e.map(e=>i.reduce((e,{imageKey:i,height:t,width:n})=>{var l;return null!==(l=e.imageSizeMap)&&void 0!==l&&l[i]?{...e,imageSizeMap:{...e.imageSizeMap,[i]:{...e.imageSizeMap[i],height:t,width:n}}}:e},e))}(c.carouselSlots)};return(0,_.jsx)(x,{...i,carouselData:p,i18n:n,imageSignature:null==s?void 0:s.imageSignature})}h(x,"defaultProps",{showCarouselBadge:!0})},164377:(e,i,t)=>{"use strict";t.d(i,{CU:()=>o,GH:()=>u,Iw:()=>d,gA:()=>c,tD:()=>s,vF:()=>p});let n=({index:e,numberOfSlides:i,slidesShownPerPosition:t})=>i-e-Math.floor(t)<1,l=({slidesShownPerPosition:e,slotAndGapWidth:i})=>{let t=e-parseInt(e,10);return i-t*i},a=({containerWidth:e,contentWidth:i,index:t,slotAndGapWidth:n})=>{let l=t-1,r=l*n;return i-r>=e?r:a({index:l,slotAndGapWidth:n,containerWidth:e,contentWidth:i})},r=({containerWidth:e,contentWidth:i,gap:t,index:n,slidesShownPerPosition:r,slotAndGapWidth:o})=>{let s=a({containerWidth:e,contentWidth:i,index:n,slotAndGapWidth:o}),d=l({slidesShownPerPosition:r,slotAndGapWidth:o});return s+d-t},o=({containerWidth:e,gap:i,index:t,numberOfSlides:l,slotWidth:a})=>{let o=a+i,s=o*l;if(s<=e)return 0;let d=e/o,u=n({index:t,numberOfSlides:l,slidesShownPerPosition:d}),c=u?r({containerWidth:e,contentWidth:s,gap:i,index:t,slidesShownPerPosition:d,slotAndGapWidth:o}):t*o;return c?Math.round(-c):0},s=({containerWidth:e,gap:i,index:t,numberOfSlides:n,slotWidth:l})=>{let a=l+i,r=a*n;if(r<=e||0===e)return!0;let s=o({containerWidth:e,gap:i,index:t,numberOfSlides:n,slotWidth:l}),d=r-e;return Math.abs(s)+i>=d},d=({containerWidth:e,currentIndex:i,gap:t,index:n,numberOfSlides:l,slotWidth:a})=>{let r=a+t,s=r*l;if(s<=e||0===e)return!0;let d=o({containerWidth:e,gap:t,index:i,numberOfSlides:l,slotWidth:a});return d+r*n<e+r},u=(e,i,t)=>e||`${i._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')} ${t}`,c=({highResOnly:e,lowResOnly:i,slot:t})=>{var n,l,a,r,o,s,d;let{images:u}=t;return i?`${null!==(r=null==u?void 0:null===(o=u["236x"])||void 0===o?void 0:o.url)&&void 0!==r?r:""} 1x`:e?`${null!==(s=null==u?void 0:null===(d=u["564x"])||void 0===d?void 0:d.url)&&void 0!==s?s:""} 1x`:[(null==u?void 0:u["474x"])&&`${null!==(n=u["474x"].url)&&void 0!==n?n:""} 2x`,(null==u?void 0:u["736x"])&&`${null!==(l=u["736x"].url)&&void 0!==l?l:""} 3x`,(null==u?void 0:u.orig)&&`${null!==(a=u.orig.url)&&void 0!==a?a:""} 4x`].filter(Boolean).join(", ")},p=(e,i,t,n,l=0)=>{if(t===i)return-(n*i*1);let a=i+l;return n===e-1?-1*n*a+Math.floor(t-i):-1*n*a}},251163:(e,i,t)=>{"use strict";t.d(i,{O:()=>d,Z:()=>u});var n=t(667294),l=t(883119),a=t(536042),r=t(837792),o=t(785893);let s={xs:12,sm:16,md:20,lg:24};function d({children:e}){let i=(0,a.ZP)();return(0,o.jsx)(l.u,{link:(0,o.jsx)(l.rU,{href:r.vBy,target:"blank",children:(0,o.jsx)(l.xv,{color:"inverse",size:"100",weight:"bold",children:i._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:i._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function u({hasVerifiedIdentity:e,iconOnly:i,isVerifiedMerchant:t,showText:r,size:u}){let c=(0,a.ZP)(),p=(0,o.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,o.jsx)(l.JO,{accessibilityLabel:c._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[u]}),r&&(0,o.jsx)(l.xu,{marginStart:2,children:(0,o.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:c._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,o.jsxs)(n.Fragment,{children:[t&&!i&&(0,o.jsx)(d,{children:p}),t&&i&&p,e&&!t&&(0,o.jsx)(l.JO,{accessibilityLabel:c._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[u]})]})}},808156:(e,i,t)=>{"use strict";t.d(i,{L:()=>o,r:()=>r});var n=t(788241),l=t(700746);let a=["search_articles_story","search_for_you_upsell","search_story_separator","search_story_landing_page_header","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","guided_search_entry_points_story"];function r({query:e,rs:i,scope:t},a){let r=(0,n.BE)(),o=!(null!=r&&r.viewType)&&!(null!=r&&r.viewParameter),s=(0,l.wF)(t);if(!o&&s){let{viewType:t,viewParameter:n}=null!=r?r:{};a({event_type:s,view_type:t,view_parameter:n,aux_data:{query:e,rs:i||"Unknown"}})}"hashtag_closeup"===i?a({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===i&&a({event_type:101,component:0,element:10349,view_type:142})}let o=(e=[])=>{let i=!0;return e.reduce((e,t)=>{var n;return i&&t.story_type&&a.includes(t.story_type)&&(null===(n=t.display_options)||void 0===n?void 0:n.num_columns_requested)===0?e.searchFullWidthStories.push(t):(i=!1,e.filteredResults.push(t)),e},{searchFullWidthStories:[],filteredResults:[]})}},666331:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(883119),l=t(313398),a=t(785893);function r({coverImages:e,height:i,isHovered:t,onClick:r,onMouseEnter:o,onMouseLeave:s,textType:d,text:u,url:c,width:p}){let m=e&&(e["236x"]||e["280x280"]);return(0,a.jsx)(l.Z,{backgroundColor:"gray",coverImage:m,height:i,isHovered:t,onClick:r,onMouseEnter:o,onMouseLeave:s,url:c,width:p,children:(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",height:i,justifyContent:"center",padding:3,position:"absolute",top:!0,width:p||"100%",children:"text"===d?(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,a.jsx)(n.X6,{align:"center",size:"500",color:"light",children:u})}):(0,a.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,a.jsx)(n.xv,{align:"center",weight:"bold",children:u})})})})}},313398:(e,i,t)=>{"use strict";t.d(i,{A:()=>r,Z:()=>o});var n=t(667294),l=t(883119),a=t(785893);let r={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function o({backgroundColor:e,children:i,coverImage:t,disableTabIndex:o,height:s,id:d,isHovered:u,onClick:c,onMouseDown:p,onMouseEnter:m,onMouseLeave:_,searchBoxRenderStopwatch:h,url:g,width:y}){var v,f;let[x,b]=(0,n.useState)(!1),S=()=>{m?m():b(!0)},P=()=>{_?_():b(!1)},k=u||x,w=k?r.hoverOverlay:r.bubbleOverlay;return(0,a.jsx)(l.Tg,{href:g,onBlur:P,onFocus:S,onMouseDown:p,onMouseEnter:S,onMouseLeave:P,onTap:()=>{null==c||c(d)},rounding:4,tabIndex:o?-1:void 0,children:(0,a.jsx)(l.zd,{rounding:4,width:y||"100%",height:s,children:null!=t&&t.url?(0,a.jsxs)(l.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(v=t.height)&&void 0!==v?v:1,naturalWidth:null!==(f=t.width)&&void 0!==f?f:1,onLoad:()=>{null==h||h.stop()},role:"presentation",src:t.url,children:[(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:w},height:"100%",width:"100%"}),"function"==typeof i?i({isHovered:k}):i]}):(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},233569:(e,i,t)=>{"use strict";t.d(i,{N:()=>r});let n=e=>`BREAK_IN_${e}`,l=new Map,a=e=>{let i=l.get(e);if(i)return i;let t=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:n(e)});return l.set(e,t),t},r=({breakIn:{index:e},items:i})=>i.length<e?i:[...i.slice(0,e),a(e),...i.slice(e)]},372836:(e,i,t)=>{"use strict";t.d(i,{G9:()=>c,c$:()=>m,cn:()=>_,gG:()=>p,kk:()=>u});var n=t(883119),l=t(549201),a=t(802071),r=t(460914),o=t(411224),s=t(827192),d=t(785893);let u=({isDesktop:e})=>{let i=(0,s.pinRepPaddingInBoint)({isDesktop:e});return i?-i:0},c=-2,p=()=>{let e=(0,l.HG)(),i=(0,s.pinRepPaddingInBoint)({isDesktop:e}),t=i?-i:0;return(0,d.jsx)(n.xu,{marginTop:t,marginBottom:t,paddingY:i})},m=({children:e})=>{let i=(0,l.HG)(),t=(0,a.Z)();return!t.isAuth&&i?(0,d.jsx)(o.x,{children:e}):e},_=({children:e})=>(0,d.jsx)(r.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){let i=e.target.getBoundingClientRect(),t=i.top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e})},884880:(e,i,t)=>{"use strict";t.d(i,{Z:()=>ek});var n,l,a,r=t(167912),o=t(616550),s=t(883119),d=t(448709),u=t(536042),c=t(245410),p=t(819079),m=t(769623),_=t(667294),h=t(29152),g=t(705882),y=t(870243),v=t(450600),f=t(630089),x=t(98736),b=t(785893);let S=void 0!==n?n:n=t(772522),P=e=>({board:e.board&&{entityId:e.board.id,name:e.board.name,privacy:e.board.privacy,url:e.board.url},pinner:e.pinner&&{entityId:e.pinner.id,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username}}),k=()=>{(0,x.NC)("click_best_pin_board",!0)},w=()=>{(0,x.NC)("click_best_pin_profile",!0)},I=({pin:e})=>{let{pinner:i}=e,{username:t,fullName:n}=null!=i?i:{},l=(null==i?void 0:i.imageMediumUrl)||(null==i?void 0:i.imageSmallUrl),a=`/${null!=t?t:""}/`;return(0,b.jsx)(s.Tg,{fullWidth:!1,rounding:"circle",href:a,onTap:w,children:(0,b.jsx)(y.qE,{size:"sm",src:null!=l?l:"",name:null!=n?n:"",outline:!0})})},T=({pin:e})=>{let i=(0,u.ZP)(),{board:t,pinner:n}=e,{name:l,privacy:a,url:r}=null!=t?t:{},o=(null==t?void 0:t.entityId)||"",{username:d,fullName:c}=null!=n?n:{},p=`/${null!=d?d:""}/`,m=(0,b.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:(0,b.jsx)(s.rU,{display:"inlineBlock",href:p,onClick:w,underline:"hover",children:c})},c);return"protected"===a?(0,f.nk)(i._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:m}):(0,f.nk)(i._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:m,boardName:(0,b.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:(0,b.jsx)(s.rU,{href:null!=r?r:"",onClick:k,children:l},"board")},o)})},j=({pinKey:e})=>{let{data:i}=(0,v.u)(S,e,{useLegacyAdapter:P});return(0,b.jsxs)(s.xu,{display:"flex",direction:"row",alignItems:"center",marginTop:3,"data-test-id":"pin-attribution",children:[(0,b.jsx)(I,{pin:i}),(0,b.jsx)(s.xu,{marginEnd:2}),(0,b.jsx)(s.xv,{size:"200",children:(0,b.jsx)(T,{pin:i})})]})};var A=t(563962);function E({pageType:e,pinCreditPrefix:i,pin:t,pinLink:n,viewParameter:l}){var a,r;let o=(0,u.ZP)(),d=(0,A.Z)();if("topic"!==e.page&&(!t.domain||"Uploaded by user"===t.domain))return null;let c="topic"!==e.page||e.isAuth?"100":"200",p="topic"===e.page&&!!t.nativeCreator,m=p?null===(a=t.nativeCreator)||void 0===a?void 0:a.fullName:t.domain;return(0,b.jsx)(s.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,b.jsx)(s.rU,{display:"inlineBlock",href:p?`/${(null===(r=t.nativeCreator)||void 0===r?void 0:r.username)||""}/`:n,onClick:()=>{"topic"===e.page?(0,x.NC)("click_topic_best_pin_link"):d({event_type:12,view_type:3,object_id_str:t.entityId,component:85,view_parameter:l})},rel:"nofollow",target:"blank",underline:"hover",children:(0,b.jsx)(s.xv,{size:c,children:(0,f.nk)(o._('{{ pinCreditPrefix }} {{ pinCredit }}', 'Tells the user where the pin is from in the form of "Saved from <website>"', 'Tells the user where the pin is from in the form of "Saved from <website>"'),{pinCreditPrefix:i,pinCredit:(0,b.jsx)(s.xv,{inline:!0,size:c,weight:"bold",children:(e.page,m)},p?"creatorProfile":"pinLinkDomain")})})})})}var C=t(921270),F=t(67162),R=t(803817),L=t(13596),D=t(624417),O=t(84812),N=t(465991),z=t(710334),M=t(769705),K=t(385075),Z=t(157785),B=t(277731),U=t(282802);let H=void 0!==l?l:l=t(369393),V=e=>{var i,t,n,l,a,r,o;return{category:e.category,closeupUnifiedDescription:e.closeup_unified_description,createdAt:e.created_at,domain:e.domain,embed:e.embed&&{src:e.embed.src,type:e.embed.type},entityId:e.id,gridTitle:e.grid_title,lastRepinDate:e.last_repin_date,nativeCreator:e.native_creator&&{fullName:e.native_creator.full_name,username:e.native_creator.username},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation&&e.pin_join.visual_annotation.map(e=>e)},repinCount:e.repin_count,richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{datePublished:e.rich_metadata.article.date_published},description:e.rich_metadata.description,products:e.rich_metadata.products&&e.rich_metadata.products.map(()=>({__typename:"RichPinProductMetadata"})),recipe:(null===(i=e.rich_metadata)||void 0===i?void 0:i.recipe)&&{categorizedIngredients:e.rich_metadata.recipe.categorized_ingredients&&e.rich_metadata.recipe.categorized_ingredients.map(()=>({__typename:"CategorizedIngredientsMetadata"})),fromAggregatedData:null===(t=e.rich_metadata)||void 0===t?void 0:null===(n=t.recipe)||void 0===n?void 0:n.from_aggregated_data,name:null===(l=e.rich_metadata)||void 0===l?void 0:null===(a=l.recipe)||void 0===a?void 0:a.name,$fragmentSpreads:R.qH,[F.sE]:null===(r=e.rich_metadata)||void 0===r?void 0:r.recipe},title:null===(o=e.rich_metadata)||void 0===o?void 0:o.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title}},G=e=>{let i=null;e.lastRepinDate&&(i=new Date(e.lastRepinDate));let t=null;return(e.createdAt&&(t=new Date(e.createdAt)),i)?t?i>t?i:t:i:t},$=e=>{let i="";if(e.richMetadata&&e.richMetadata.article&&e.richMetadata.article.datePublished)return i;let t=G(e);if(t&&t.getFullYear()===new Date().getFullYear()){let n=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),{category:l}=e;n.has(l)&&(i=t?(0,b.jsx)(C.Z,{value:t,dateFormatType:C.k.LONG_MONTH_YEAR,useUTC:!1}):"")}return i},W=e=>!!(e.richMetadata&&e.richMetadata.article&&e.richMetadata.article.datePublished),q=(e,i)=>{var t,n,l;let a=new Date(null!==(t=null===(n=(null!==(l=e.richMetadata)&&void 0!==l?l:{}).article)||void 0===n?void 0:n.datePublished)&&void 0!==t?t:Date.now()),r=a.getTime(),o=new Date().getTime();return null==i||o-r<=31536e6*i?(0,b.jsx)(C.Z,{value:a,dateFormatType:C.k.LONG_MONTH_YEAR,useUTC:!1}):""};function Y(e){var i,t,n,l,a,r,o,d,u,c,p,m,_,h,g,y,f,x,S,P,k,w,I;let{pinKey:T,viewportSize:A,pageType:C}=e,{data:F}=(0,v.u)(H,T,{useLegacyAdapter:V}),{pinCreditPrefix:R,pinLink:G}=(0,z.Z)(F),Y=(0,M.Z)(F),{description:X}=(0,N.eK)({richMetadataDescription:null===(i=F.richMetadata)||void 0===i?void 0:i.description,richSummaryDisplayName:null===(t=F.richSummary)||void 0===t?void 0:t.displayName,closeupUnifiedDescription:F.closeupUnifiedDescription});"videos_category"===C.page&&(X=(0,N.kt)(X,(null===(I=F.nativeCreator)||void 0===I?void 0:I.username)||""));let J="wide"===A,Q=(0,N.Ly)({pinTitle:F.title,gridTitle:F.gridTitle,richSummaryDisplayName:null!==(n=null===(l=F.richSummary)||void 0===l?void 0:l.displayName)&&void 0!==n?n:"",richMetadataTitle:null!==(a=null===(r=F.richMetadata)||void 0===r?void 0:r.title)&&void 0!==a?a:"",storyPinDataId:F.storyPinDataId,storyPinDataMetadataPinTitle:null===(o=F.storyPinData)||void 0===o?void 0:null===(d=o.metadata)||void 0===d?void 0:d.pinTitle,pinJoinVisualAnnotation:null===(u=F.pinJoin)||void 0===u?void 0:u.visualAnnotation});(F.gridTitle||"").trim()&&Q!==F.gridTitle&&(Q=(0,N.EU)(F.gridTitle,200));let ee=(0,O.r)(null===(c=F.richMetadata)||void 0===c?void 0:null===(p=c.recipe)||void 0===p?void 0:p.name,!!(null!==(m=F.richMetadata)&&void 0!==m&&null!==(_=m.recipe)&&void 0!==_&&_.categorizedIngredients),null!==(h=null===(g=F.richMetadata)||void 0===g?void 0:null===(y=g.recipe)||void 0===y?void 0:y.fromAggregatedData)&&void 0!==h&&h)?null===(f=F.richMetadata)||void 0===f?void 0:f.recipe:null,ei=W(F)&&q(F,2),et=$(F)||ei,{isBot:en,isSocialBot:el}=(0,U.B)();return(0,b.jsx)(s.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",padding:8,position:"relative",width:"100%",flex:"grow",children:(0,b.jsxs)(s.xu,{position:"relative",direction:"column",display:"flex",flex:"grow",children:[(0,b.jsx)(E,{pageType:C,pin:{entityId:F.entityId,domain:F.domain||"",nativeCreator:F.nativeCreator&&{fullName:F.nativeCreator.fullName,username:F.nativeCreator.username}},pinCreditPrefix:"topic"===C.page&&F.nativeCreator?"Created by":R,pinLink:null!=G?G:"",viewParameter:(0,K.Z)({hasPin:!0,hasPinRichMetadata:!!F.richMetadata,hasPinRichMetadataProducts:!!(null!==(x=F.richMetadata)&&void 0!==x&&x.products),hasPinRichMetadataArticle:!!(null!==(S=F.richMetadata)&&void 0!==S&&S.article),hasPinRichMetadataRecipe:!!(null!==(P=F.richMetadata)&&void 0!==P&&P.recipe),hasPinStoryPinData:!!F.storyPinData})}),(0,b.jsx)(s.kC,{direction:"row",justifyContent:"between",children:(0,b.jsx)(s.xu,{display:"flex",overflow:"hidden",marginEnd:J?0:3,marginTop:J?3:0,children:Q&&(0,b.jsx)("h2",{style:{fontWeight:"600",fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},"data-test-id":"UnauthBestPinCardTitle",children:Q})})}),et?(0,b.jsx)(s.xu,{marginTop:1,children:(0,b.jsx)(s.xv,{color:"subtle",children:et})}):null,X&&(0,b.jsx)(s.xu,{display:"flex",overflow:"hidden",marginTop:3,children:(0,b.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[ee&&(0,b.jsx)(B.Z,{recipeKey:ee}),X]})}),ee&&(0,b.jsx)(Z.Z,{marginOverrides:ee?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:ee.categorizedIngredients,name:ee.name,image:(0,D.Z)({imagesUrls:Y,embedSrc:null===(k=F.embed)||void 0===k?void 0:k.src,embedType:null===(w=F.embed)||void 0===w?void 0:w.type,excludeOriginals:!en&&!el})}}}),(0,b.jsxs)(s.xu,{display:"flex",alignItems:"center",direction:"row",justifyContent:"between",marginTop:2,children:[(0,b.jsx)(j,{pinKey:F}),(0,b.jsx)(s.kC,{alignItems:"stretch",justifyContent:"end",children:!F.repinCount||F.repinCount<1?null:(0,b.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,b.jsx)(s.JO,{icon:"pin",accessibilityLabel:"Pin",color:"subtle",size:12}),(0,b.jsx)(s.xv,{color:"default",inline:!0,size:"100",children:(0,b.jsx)(L.Z,{value:F.repinCount,shortform:!0,shortformMaximumFractionDigits:1})})]})})]})]})})}var X=t(128681),J=t(680644),Q=t(988014),ee=t(852247),ei=t(99220),et=t(882973),en=t(739425),el=t(272109),ea=t(452253),er=t(525010),eo=t(351116),es=t(732719),ed=t(827192),eu=t(519218),ec=t(729239);let ep=0,em="";function e_(e){let{images:i,image_signature:t}=e,n=(null==i?void 0:i["564x"])&&i.orig,{url:l}=null!=n?n:{},{width:a=1,height:r}=null!=n?n:{};return"number"==typeof a&&"number"==typeof r&&a>564&&(r*=564/a,a=564),{width:a,height:r,url:l,imageSignature:t}}let eh=({data:e,index:i,viewParameter:t,productsURL:n})=>{switch(e.type){case"pin":return(0,b.jsx)(ed.default,{duploQueryRef:null,viewParameter:t,viewType:72,slotIndex:i,pinId:e.id});case"story":return n&&(0,b.jsx)(g.Z,{story:e,dangerouslySetActionUrl:n,slotIndex:i});default:return null}},eg=({resourceOptions:e})=>{let i=(0,u.ZP)(),{data:t,isAtEnd:n,isFetching:l,fetchMore:a}=(0,p.Z)({name:"VisualLiveSearchResource",options:e}),r=(0,o.useLocation)(),d=`${r.pathname}products/${r.search}`;return(0,b.jsxs)(_.Fragment,{children:[t&&(0,b.jsx)(ec.Z,{customLayoutType:"desktopFlashlight",feedItems:t.results||[],feedKey:"flashlight-dweb-unauth",pagination:{loadNext:a,hasNext:n,isLoadingNext:l,refetch:()=>void 0},renderFeedItem:(e,i)=>eh({data:e,index:i,viewParameter:3050,productsURL:d})}),(0,b.jsx)(s.$j,{accessibilityLabel:i._('Loading visual search results...', 'unauthDesktopVisualSearch.flashlightFeed.loading', 'Accessibility label for loading visual search results'),show:l})]})},ey=({resourceOptions:e})=>{let i=(0,u.ZP)(),{data:t,isAtEnd:n,isFetching:l,fetchMore:a}=(0,p.Z)({name:"VisualLiveSearchProductFeedResource",options:e});return(0,b.jsxs)(_.Fragment,{children:[t&&(0,b.jsx)(ec.Z,{customLayoutType:"desktopFlashlight",feedItems:t||[],feedKey:"flashlight-products-dweb-unauth",pagination:{loadNext:a,hasNext:n,isLoadingNext:l,refetch:()=>void 0},renderFeedItem:(e,i)=>eh({data:e,index:i,viewParameter:3334})}),(0,b.jsx)(s.$j,{accessibilityLabel:i._('Loading visual search product results...', 'unauthDesktopVisualSearch.flashlightProductFeed.loading', 'Accessibility label for loading visual search product results'),show:l})]})};function ev({pinResponse:e}){let i=(0,u.ZP)(),{isRTL:t}=(0,U.B)(),n=(0,A.Z)(),l=(0,o.useHistory)(),a=(0,o.useLocation)(),r=(0,o.useRouteMatch)(),d=(0,_.useRef)(),{pin:c,isLoaded:p}=e,{pinId:g}=(0,m.Z)(r.params.id||""),y=(0,en.mB)(a.search),v=(0,h.Z)(a),f=function(e){let i=parseInt(e,10);switch(i){case 1:case 2:case 3:case 4:case 5:case 6:return i;default:return}}(y.cropSource),S=(0,Q.hd)(a),{getNormalizedPinImage:P}=(0,ee.Z)({pinKey:null!=c?{type:"deprecated",data:c}:null});if((0,_.useEffect)(()=>{if(!v&&c){let{width:e,height:i}=P(),t=(0,es.Z)({cropArea:{h:i-2*X.S,w:e-2*X.S,x:X.S,y:X.S},isProductPage:S,pinId:g,variant:"flashlight"});l.replace(t)}},[P,l,v,S,c,g]),(0,el.Z)(()=>{n({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:g}}),(0,x.My)("unauth.flashlight_page")}),(0,_.useEffect)(()=>(d.current&&em===g&&(d.current.scrollTop=ep),()=>{d.current&&(ep=d.current.scrollTop,em=g)})),!p)return(0,b.jsx)(ei.Z,{view:72,objectId:"",children:(0,b.jsx)(s.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{top:et.Pw}},children:(0,b.jsx)(s.$j,{accessibilityLabel:i._('Loading visual search...', 'Accessibility label for loading visual search page', 'Accessibility label for loading visual search page'),show:!0})})});if(!c)return null;let{image_signature:k,description:w}=c,{width:I,height:T,url:j}=e_(c),E=function({initialCropArea:e,pin:i}){var t,n,l,a;let r;if(e)r={...e};else{let{visual_objects:e}=i,{width:t=1,height:n=1}=e_(i);if(e&&e.length){let{x:i,y:l,w:a,h:o}=e[0];r=(0,er.Z)({cropArea:{x:i,y:l,w:a,h:o},scaledWidth:t,scaledHeight:n})}else{let[e,i]=[t/6,n/6],[l,a]=[t-2*e,n-2*i];r={x:e,y:i,w:l,h:a}}}return{x:Math.floor(null!==(t=r.x)&&void 0!==t?t:0),y:Math.floor(null!==(n=r.y)&&void 0!==n?n:0),w:Math.floor(null!==(l=r.w)&&void 0!==l?l:0),h:Math.floor(null!==(a=r.h)&&void 0!==a?a:0)}}({initialCropArea:v,pin:c}),C=a.state&&a.state.internalNavigation,F=I+20,R=(null!=F?F:1)+24,L={pin_id:g,image_signature:k,crop:(0,ea.Z)({cropArea:E,scaledWidth:I,scaledHeight:T}),crop_source:f||5},D={__style:{top:140}};return(0,b.jsx)(ei.Z,{view:72,objectId:"",children:(0,b.jsxs)(_.Fragment,{children:[(0,b.jsxs)(s.xu,{width:"100%",height:60,display:"flex",alignItems:"center",position:"fixed",dangerouslySetInlineStyle:{__style:{top:80}},zIndex:new s.Ry(4),color:"light",children:[(0,b.jsx)(s.xu,{position:"absolute",left:!0,children:(0,b.jsx)(eu.Z,{})}),(0,b.jsx)(s.xu,{flex:"grow",children:(0,b.jsx)(s.X6,{align:"center",size:"400",children:S?i._('Shop similar items', 'unauthDesktopFlashlightPage.flashlightProductsFeed.header', 'Header explaining results of flashlight products search'):i._('Visually similar results', 'unauthDesktopFlashlightPage.flashlightFeed.header', 'Header explaining results of flashlight search')})})]}),S?(0,b.jsx)(s.xu,{dangerouslySetInlineStyle:D,position:"relative",children:(0,b.jsx)(ey,{resourceOptions:L})}):(0,b.jsxs)(s.xu,{display:"flex",paddingX:12,children:[(0,b.jsxs)(s.xu,{height:"calc(100% - 140px)",marginEnd:3,marginStart:3,width:F,overflow:"auto",position:"fixed",ref:d,zIndex:new s.Ry(4),dangerouslySetInlineStyle:D,children:[(0,b.jsx)(s.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:I,height:T}},children:(0,b.jsxs)(s.zd,{height:T,rounding:2,width:I,children:[(0,b.jsx)(s.Ee,{alt:null!=w?w:"",naturalHeight:null!=T?T:1,naturalWidth:null!=I?I:1,src:null!=j?j:""}),(0,b.jsx)(J.Z,{showAnimation:!C,imageSignature:k,imageSize:{h:T,w:I},initialCropArea:E,customCropper:function({origCrop:e,cropSource:i}){let t=window.location.pathname+window.location.search,n=(0,es.Z)({cropArea:e,cropSource:null!=i?i:6,isProductPage:S,pinId:g,variant:"flashlight"});(0,x.My)("unauth.flashlight_page.cropper_changed"),n!==t&&g&&l.replace({pathname:`/pin/${g}/visual-search/`,search:(0,eo.Z)({cropArea:e,cropSource:null!=i?i:6}),state:{internalNavigation:!0}})},pinKey:{type:"deprecated",data:c},viewParameter:3050,viewType:72})]})}),(0,b.jsx)(s.xu,{position:"relative","data-test-id":"closeupDescription",display:"flex",direction:"column",maxWidth:null!=I?I:1,margin:5,children:(0,b.jsx)(Y,{pinKey:{type:"deprecated",data:c},pageType:{isAuth:!1,page:"flashlight"},viewportSize:"narrow"})})]}),(0,b.jsx)(s.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{...D.__style,...t?{marginRight:`${R}px`}:{marginLeft:`${R}px`}}},children:(0,b.jsx)(eg,{resourceOptions:L})})]})]})})}let ef=void 0!==a?a:a=t(608614);function ex(e){return null==e?void 0:e.map(e=>{var i,t,n,l,a,r,o,s;return{name:null!==(i=e.name)&&void 0!==i?i:"",offer_summary:{in_stock:null!==(t=null===(n=e.offerSummary)||void 0===n?void 0:n.inStock)&&void 0!==t&&t},additional_images:null!==(l=function(e){let i=[];return e.forEach(({additionalImagesSpec:e,spec:t})=>{var n;i.push(...null!==(n=function({additionalImagesSpec:e,spec:i}){return null==e?void 0:e.map(e=>{var t,n,l,a,r,o,s;return{canonical_images:{[i]:{height:null!==(t=null===(n=e.canonicalImage)||void 0===n?void 0:n.height)&&void 0!==t?t:0,url:null!==(l=null===(a=e.canonicalImage)||void 0===a?void 0:a.url)&&void 0!==l?l:"",width:null!==(r=null===(o=e.canonicalImage)||void 0===o?void 0:o.width)&&void 0!==r?r:0}},image_signature:null!==(s=e.imageSignature)&&void 0!==s?s:""}})}({additionalImagesSpec:e,spec:t}))&&void 0!==n?n:[])}),i}([{additionalImagesSpec:e.additionalImageOrig,spec:"orig"},{additionalImagesSpec:e.additionalImage736x,spec:"736x"},{additionalImagesSpec:e.additionalImage564x,spec:"564x"},{additionalImagesSpec:e.additionalImage474x,spec:"474x"},{additionalImagesSpec:e.additionalImage236x,spec:"236x"}]))&&void 0!==l?l:[],variant_set:a={variants:null!==(o=null==(s=null==(r=e.variantSet)?void 0:r.variants)?void 0:s.map(e=>{var i,t;return{additional_images:null!==(i=null==(t=e.additionalImages)?void 0:t.map(e=>{var i,t;return{canonical_images:null!==(i=e.canonicalImages)&&void 0!==i?i:{},image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:""}}))&&void 0!==i?i:[]}}))&&void 0!==o?o:[]}}})}function eb(e){var i,t;return{username:null!==(i=null==e?void 0:e.username)&&void 0!==i?i:"",full_name:null!==(t=null==e?void 0:e.fullName)&&void 0!==t?t:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl}}function eS(e){var i,t,n;return{id:null!==(i=null==e?void 0:e.entityId)&&void 0!==i?i:"",username:null!==(t=null==e?void 0:e.username)&&void 0!==t?t:"",full_name:null!==(n=null==e?void 0:e.fullName)&&void 0!==n?n:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl,type:"user"}}let eP=(0,d.Z)({useGraphQLAdapter:function({pinId:e}){var i,t,n,l,a,o,s,d,u,c,p,m,_,h,g,y,v,f,x,b,S,P,k,w,I,T,j,A,E,C,F,R,L,D,O,N,z,M,K,Z,B;let U=(0,r.useLazyLoadQuery)(ef,{pinId:e}),H=null===(i=U.v3GetPinQuery)||void 0===i?void 0:i.data;if(!H)return null;let V={id:null!==(t=H.entityId)&&void 0!==t?t:"",is_eligible_for_related_products:null!==(n=H.isEligibleForRelatedProducts)&&void 0!==n&&n,description:null!==(l=H.description)&&void 0!==l?l:"",image_signature:null!==(a=H.imageSignature)&&void 0!==a?a:"",images:null!==(o=function(e){let i={};return e.forEach(e=>{let{image:t,spec:n}=e;if(t){var l,a,r,o,s;i[n]={width:null!==(l=t.width)&&void 0!==l?l:0,url:null!==(a=t.url)&&void 0!==a?a:"",type:null!==(r=t.type)&&void 0!==r?r:"",height:null!==(o=t.height)&&void 0!==o?o:0,dominant_color:null!==(s=t.dominantColor)&&void 0!==s?s:""}}}),i}([{image:H.imageOrig,spec:"orig"},{image:H.image736x,spec:"736x"},{image:H.image564x,spec:"564x"},{image:H.image474x,spec:"474x"},{image:H.image236x,spec:"236x"}]))&&void 0!==o?o:{},rich_metadata:{products:null!==(x=ex(null==(f=H.richMetadata)?void 0:f.products))&&void 0!==x?x:[],description:null!==(b=null==f?void 0:f.description)&&void 0!==b?b:"",title:null!==(S=null==f?void 0:f.title)&&void 0!==S?S:"",recipe:P={name:null!==(A=null==(j=null==f?void 0:f.recipe)?void 0:j.name)&&void 0!==A?A:"",from_aggregated_data:null!==(E=null==j?void 0:j.fromAggregatedData)&&void 0!==E&&E,categorized_ingredients:null==j?void 0:null===(C=j.categorizedIngredients)||void 0===C?void 0:C.map(e=>{var i;return{category:null!==(i=e.category)&&void 0!==i?i:""}})},article:{date_published:null!==(k=null==f?void 0:null===(w=f.article)||void 0===w?void 0:w.datePublished)&&void 0!==k?k:""},tutorial:{id:null!==(I=null==f?void 0:null===(T=f.tutorial)||void 0===T?void 0:T.name)&&void 0!==I?I:"",type:"makecardtutorialmetadata"}},rich_summary:{products:null!==(R=ex(null==(F=H.richSummary)?void 0:F.products))&&void 0!==R?R:[],display_name:null!==(L=null==F?void 0:F.displayName)&&void 0!==L?L:""},visual_objects:null!==(s=null==(D=H.visualObjects)?void 0:D.map(e=>{var i,t,n,l,a,r,o,s,d,u,c,p,m,_;return{detection:null!==(i=e.detection)&&void 0!==i&&i,h:null!==(t=e.h)&&void 0!==t?t:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(l=e.isStela)&&void 0!==l&&l,label:null!==(a=e.label)&&void 0!==a?a:"",label_id:null!==(r=e.labelId)&&void 0!==r?r:0,label_x:null!==(o=e.labelX)&&void 0!==o?o:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(u=e.score)&&void 0!==u?u:0,show_on_closeup:null!==(c=e.showOnCloseup)&&void 0!==c&&c,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(m=e.w)&&void 0!==m?m:0,y:null!==(_=e.y)&&void 0!==_?_:0}}))&&void 0!==s?s:[],closeup_unified_description:H.closeupUnifiedDescription,grid_title:null!==(d=H.gridTitle)&&void 0!==d?d:"",story_pin_data_id:H.storyPinDataId,repin_count:null!==(u=H.repinCount)&&void 0!==u?u:0,tracked_link:H.trackedLink,link:H.link,domain:null!==(c=H.domain)&&void 0!==c?c:"",closeup_attribution:eb(H.closeupAttribution),link_domain:{official_user:eb(null===(p=H.linkDomain)||void 0===p?void 0:p.officialUser)},native_creator:eS(H.nativeCreator),pinner:eS(H.pinner),origin_pinner:eS(H.originPinner),board:{id:null!==(N=null==(O=H.board)?void 0:O.entityId)&&void 0!==N?N:"",image_thumbnail_url:null!==(z=null==O?void 0:O.imageThumbnailUrl)&&void 0!==z?z:"",name:null!==(M=null==O?void 0:O.name)&&void 0!==M?M:"",privacy:"protected"===(Z=null==O?void 0:O.privacy)||"public"===Z||"secret"===Z?Z:"secret",url:null!==(K=null==O?void 0:O.url)&&void 0!==K?K:"",type:"board"},pin_join:{annotations_with_links_array:null!==(m=null==(B=null===(_=H.pinJoin)||void 0===_?void 0:_.annotationsWithLinksArray)?void 0:B.map(e=>({name:e.name,url:e.url})))&&void 0!==m?m:[],visual_annotation:null!==(h=null===(g=H.pinJoin)||void 0===g?void 0:g.visualAnnotation)&&void 0!==h?h:[]},story_pin_data:{metadata:{pin_title:null===(y=H.storyPinData)||void 0===y?void 0:null===(v=y.metadata)||void 0===v?void 0:v.pinTitle}},type:"pin"};return{pin:V,isLoaded:!0}},useLegacyAdapter:function({pinId:e}){let{data:i,isLoaded:t}=(0,p.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0}});return{pin:i,isLoaded:t}}});function ek(){let{checkExperiment:e}=(0,c.F)(),i=(0,u.ZP)(),t=(0,o.useRouteMatch)(),{pinId:n}=(0,m.Z)(t.params.id||"");return(0,b.jsx)(eP,{input:e("unauth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:n},suspense:{fallback:(0,b.jsx)(s.$j,{accessibilityLabel:i._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:n}},children:({data:e})=>!!e&&(0,b.jsx)(ev,{pinResponse:e})})}},917652:(e,i,t)=>{"use strict";function n(e){return e&&5!==e?4===e?"stela":null:"related_products"}t.d(i,{Z:()=>n})},536540:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(785893);function l({size:e,noCircle:i}){return(0,n.jsxs)("svg",{height:e,style:{display:"block"},viewBox:i?"3 3 70 70":"-3 -3 82 82",width:e,children:[i?null:(0,n.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,n.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},480462:(e,i,t)=>{"use strict";function n({isEligibleForPdp:e,isOosProduct:i,isStaleProduct:t,pinShoppingFlags:n}){if(n){let l={pin_is_shop_the_look:n.includes(2),pin_show_pdp:e||i||t,is_available:n.includes(1),is_product_pin_v2:n.includes(5),is_rich_product_pin:n.includes(6)};return JSON.stringify(l)}}t.d(i,{Z:()=>n})},352865:(e,i,t)=>{"use strict";t.d(i,{G3:()=>u,Rp:()=>d,kp:()=>o});var n=t(736409),l=t(611756),a=t(173085);let r=14*n.F4,o=(e,i)=>{let t=function(){let e=Date.now(),i=Number((0,l.qn)("appUpsell")),t=Number((0,l.qn)("firstUpsellTime")),n=!!(0,a.qn)("showedAppUpsellCurrentSession");return{currentTime:e,firstUpsellTime:t,lastUpsellTime:i,showedAppUpsellCurrentSession:n}}();return e?function(e,i,t){let{currentTime:n,firstUpsellTime:a,lastUpsellTime:o,showedAppUpsellCurrentSession:s}=e;return(t=t||r,!a||n<a+i)?!s:n-o>t&&((0,l.L_)("firstUpsellTime"),!0)}(t,n.F4):function(e,i){let{currentTime:t,lastUpsellTime:n}=e;return i=i||r,!n||t-n>i}(t,i)},s=e=>{e=e.toLowerCase();let i=e.match(/android\s([0-9\.]*)/i);return i?i[1]:void 0},d=({isBot:e,platform:i,userAgent:t})=>{try{return!e&&"android"===i&&7>parseFloat(s(t))}catch(e){return!1}},u=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},509342:(e,i,t)=>{"use strict";t.d(i,{AA:()=>a,E9:()=>g,EU:()=>f,IO:()=>v,KH:()=>u,Lg:()=>m,QR:()=>d,Uw:()=>l,ZR:()=>x,dy:()=>s,eA:()=>p,eV:()=>_,fo:()=>h,k7:()=>r,rT:()=>y,tz:()=>c,u9:()=>b,zR:()=>o,zu:()=>n});let n="OPEN_UNAUTH",l="openUnauthType",a="_isAfterLogin",r="_lastVisitedPages",o="_lastVisitedPagesBeforeLogin",s="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",u="_lastVisitedSessionPages",c="_unauthVisitedPages",p=20,m="_inviteCodeRedemption",_="_paidTrafficLand",h="_unauthReferrerString",g="unauthTopicsFollowed",y=["US","CA","NZ","AU"],v=new Set(["GB","IE"]),f=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),x=new Set(["BR","MX","AR","CL","CO","PE"]),b="ad_img"},185803:(e,i,t)=>{"use strict";t.d(i,{Z:()=>m});var n=t(40660),l=t(865173),a=t(739425);let r="http://play.google.com/store/apps/details?id=com.pinterest",o=["access_token","new_password","new_password_confirm","password","next"],s=(e,i)=>i?(0,a.ru)(e,{invite_code:i}):e,d=(e,i,t)=>{if("ios"===i&&"string"==typeof e&&e.startsWith("discover/article/")){let i=e.split("/")[2];e=`discover_article/${i}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?s(e,t):"ios"===i||"ipad"===i?s(e.iOS,t):"android"===i?s(e.android,t):null},u=({deeplinkUri:e,invite_code:i,platform:t,fallbackUrl:n,unauthId:l,app_upsell_type:r})=>({deeplink_path:d(e,t,i),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",o),install_id:l,utm_source:140,utm_medium:2152,app_upsell_type:r,...n?{af_r:n}:null}),c=({deeplinkUri:e,invite_code:i,platform:t,unauthId:n,app_upsell_type:l})=>{let r=JSON.stringify({deeplink_path:d(e,t,i),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",o),install_id:n}),s=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:r,app_upsell_type:l});return{referrer:s}},p=({unauthId:e,app_upsell_type:i})=>{let t=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:i});return{referrer:encodeURI(t)}},m=({isAuthenticated:e,checkExperiment:i,deeplinkUri:t,fallbackUrl:o,invite_code:s,logContextEvent:d,platform:m,redirectToLite:_,unauthId:h,userAgent:g,app_upsell_type:y})=>{null==d||d({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}});let v="https://pinterest.onelink.me/TVSr/21e04bfd",f=null==i?void 0:i(e?"mweb_auth_apple_app_store_custom_page_referral":"mweb_unauth_apple_app_store_custom_page_referral").group;switch(f){case"enabled_1":v="https://pinterest.onelink.me/TVSr/d47vxerq";break;case"enabled_2":v="https://pinterest.onelink.me/TVSr/hhstj28i";break;case"enabled_3":v="https://pinterest.onelink.me/TVSr/b16kbfgq";break;case"enabled_4":v="https://pinterest.onelink.me/TVSr/nfh3eyy2";break;case"enabled_5":v="https://pinterest.onelink.me/TVSr/elsthgd7"}if(t){let f=u({isAuthenticated:e,deeplinkUri:t,fallbackUrl:o,invite_code:s,platform:m,unauthId:h,userAgent:g,app_upsell_type:y});if(n.Z.increment("mweb.deeplink",1,{platform:m}),s&&n.Z.increment("mweb.deeplink.invite_code",1),n.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:!!h}),_){n.Z.increment("mweb.deeplink.lite_link",1),null==d||d({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}});let e=p({unauthId:h,app_upsell_type:y});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===m){let e=c({deeplinkUri:t,invite_code:s,platform:m,unauthId:h,app_upsell_type:y});(0,l.v)()?(0,l.Z)().then(t=>{if(t.length>0){let e=(0,a.ru)(window.location.href,f),t=null==i?void 0:i("mweb_auth_deep_link_to_android_app_change").group;if("enabled_self"===t)window.open(e,"_self");else if("enabled_location"===t)window.location.href=e;else{let i=window.open(e);i||null==d||d({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}})}}else null==d||d({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}}),window.location.href=(0,a.ru)(r,e)}).catch(()=>{n.Z.increment("mweb_android.deeplink.playStore.error",1)}):(null==d||d({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}}),window.location.href=(0,a.ru)(r,e))}else{if(n.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===m&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",f);return}null==d||d({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}}),window.location.href=(0,a.ru)(v,f)}}}},220067:(e,i,t)=>{"use strict";t.d(i,{Dv:()=>c,Es:()=>u,HW:()=>d});var n=t(245410),l=t(611756),a=t(509342);let r=e=>{let i=Date.now()-72e5;return e>=i},o=(e,i)=>{let t=[];if(e)for(let n of e)(!i||n.is_shared)&&r(n.ts)&&t.push(n);return t},s=e=>{let i={};if(e)for(let t of e)t.is_shared&&r(t.ts)&&t.pin_id&&(i[t.pin_id]={inviteCode:t.pin_invite_code});return i},d=()=>{let e=(0,l.qn)(a.zR),i=e?JSON.parse(e):[],t=o(i,!1),n=o(i,!0),r=t.map(e=>e.first_pin_image_signature),d=n.map(e=>e.first_pin_image_signature),u=s(i),c=(0,l.qn)(a.dy),p=c?JSON.parse(c):[],m=o(p,!0),_=m.map(e=>e.first_pin_image_signature);return{extraPlpImages:r,plpImageRenderData:t,extraBlpImages:_,extraSharedImages:d,sharedPinData:u}},u=(e,i)=>{if(e.length!==i.length)return!1;for(let t=0;t<e.length;t+=1){let n=e[t].id,l=i[t].id;if(n!==l)return!1}return!0},c=()=>{let{checkExperiment:e}=(0,n.F)(),{anyEnabled:i,group:t}=e("mweb_mini_renux"),l=i?Number(t.slice(-1)):NaN;return{inMiniRenuxEnabledGroup:i,interestsLimit:l}}},836:(e,i,t)=>{"use strict";let n;t.d(i,{XK:()=>s,jC:()=>o,yd:()=>d});var l=t(541842);let a=null,r=null,o=(n=null,e=>{var i,t,o;if(e&&!n){let o={...e,time:(0,l.Z)()};return n={...o,event_type:12},null===(i=r)||void 0===i||i.logContextEvent(n),null===(t=a)||void 0===t||t.storeClickthroughProperties(o),12}if(!e&&n){let e={...n,event_type:4100,duration_ns:(0,l.Z)()-n.time};return null===(o=r)||void 0===o||o.logContextEvent(e),n=null,4100}return null}),s=e=>{a=e},d=e=>{r=e}},261453:(e,i,t)=>{"use strict";t.d(i,{CC:()=>s,H$:()=>u,Mt:()=>r,dp:()=>d,p9:()=>c});var n=t(611756),l=t(173085),a=t(509342);let r=(e,i,t,l,r,o,s=a.k7)=>{let d=(0,n.qn)(s)?JSON.parse((0,n.qn)(s)):[];if(!d[0]||d[0].path!==e){let a=[{path:e,ts:Date.now(),pin_id:t||0,first_pin_image_signature:i||"",first_pin_id:t||"",image_info:l||"",pin_description:r||"",is_shared:!!o,pin_invite_code:o}];(0,n.Nh)(s,JSON.stringify(a.concat(d)))}},o=()=>{let e;let i=(0,l.qn)(a.KH);if(!i)return[];try{e=JSON.parse(i)}catch(i){e=[]}return e},s=({path:e,image:i,dominant_color:t,pin_description:n,pin_id:r})=>{let s=o();s[0]&&s[0].path===e||(0,l.Nh)(a.KH,JSON.stringify([{path:e,image:i,pin_description:n||"",dominant_color:t||"",pin_id:r||""}].concat(s)))};function d(e,i,t,n,l,o){r(e,i,t,n,l,o,a.zR)}let u=(e,i,t,n,l)=>{r(e,i,t,n,null!=l?l:"","",a.dy)};function c(e,i,t,n,l){r(e,i,t,n,l,"",a.QR)}},411224:(e,i,t)=>{"use strict";t.d(i,{Z:()=>c,x:()=>u});var n=t(667294),l=t(98736),a=t(785893);let r=(0,n.createContext)(()=>{}),o=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="hidden")},s=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},d=()=>(0,n.useEffect)(()=>s,[]),u=({children:e})=>{let[i,t]=(0,n.useState)(null);d();let u=(0,n.useCallback)(e=>{(0,l.My)("dweb.unauth.context_menu.open_menu"),o(),t(e)},[]),c=!!i;return(0,n.useEffect)(()=>{let e=()=>{t(null),s(),(0,l.My)("dweb.unauth.context_menu.click_away")};return c&&document.addEventListener("click",e),()=>{c&&document.removeEventListener("click",e)}},[c]),(0,a.jsx)(r.Provider,{value:u,children:(0,a.jsxs)(n.Fragment,{children:[e,i]})})},c=()=>(0,n.useContext)(r)},169492:(e,i,t)=>{"use strict";t.d(i,{$:()=>o,Z:()=>u});var n=t(667294),l=t(611756);let a=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},r=new Set,o=2,s=e=>{var i;return null!==(i=null==e?void 0:e.pins)&&void 0!==i?i:[]},d=e=>e.length?{pins:e}:null,u=()=>{let[e,i]=function(e){let i=(0,n.useCallback)(i=>{let t=t=>{t===e&&i()};return r.add(t),()=>{r.delete(t)}},[e]),t=(0,n.useSyncExternalStore)(i,()=>(0,l.qn)(e),()=>null),o=(0,n.useCallback)(i=>{null===i?(0,l.L_)(e):(0,l.Nh)(e,JSON.stringify(i)),r.forEach(i=>i(e))},[e]);return(0,n.useMemo)(()=>[a(t),o],[t,o])}("unauthSavedPins"),t=s(e),u=e=>i(d(e)),c=()=>t.length<o;return{pins:t,save:e=>{c()&&u(t.filter(({id:i})=>i!==e.id).concat([e]))},unsave:e=>u(t.filter(({id:i})=>i!==e)),isSaved:e=>t.some(({id:i})=>i===e),clear:()=>u([]),canSaveMore:c}}},963181:(e,i,t)=>{"use strict";t.d(i,{D5:()=>o,Hg:()=>l,T_:()=>r,g6:()=>a,w6:()=>n});let n=(e,i)=>Array.from({length:i-e},(i,t)=>t+e),l=508,a=600;function r(e,i){if(!i.startsWith("en"))return e;let t=e.split(" ").map(e=>{let i=e===e.toUpperCase();return i?e:e.toLowerCase()});return t.join(" ")}let o=()=>{let e=new URL(window.location.href),i=e.hostname.replace("www.",""),t=e.pathname;return`${i}${t=t.replace(/\/\d+\//,"/").replace(/\/$/,"")}`}},812889:(e,i,t)=>{"use strict";t.d(i,{Z:()=>_});var n=t(667294),l=t(883119),a=t(24286),r=t(874261),o=t(549201),s=t(756876),d=t(785893);let u="PinGridSkeletonLoader__tall",c="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?u:c})}),m=({children:e})=>(0,d.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),_=({partialViewportWidth:e})=>{let i=(0,o.ZP)(),t="desktop"===i,_=t?a.yF:a.tG;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(r.Z,{unsafeCSS:[{name:u,height:250},{name:c,height:150}].map(({name:e,height:i})=>(0,s.Z)({name:e,width:_,height:i})).join("")}),(0,d.jsx)(l.xu,{marginStart:a.qG,marginEnd:a.qG,children:t?(0,d.jsxs)(l.kC,{direction:"row",gap:{row:a.jC,column:0},children:[(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(l.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},756876:(e,i,t)=>{"use strict";t.d(i,{Z:()=>n});let n=({name:e,width:i,height:t})=>{let n=`${i}${"number"==typeof i?"px":""}`,l=`${t}${"number"==typeof t?"px":""}`,a="number"==typeof i?i:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${a} ${l};
  width: ${n};
  height: ${l};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${a}px 0;
  }
  100% {
      background-position: ${a}px 0;
  }
}
`}},624524:(e,i,t)=>{"use strict";t.d(i,{Bb:()=>g,Bx:()=>s,F4:()=>o,OG:()=>a,Qj:()=>d,_6:()=>h,gv:()=>r,hg:()=>u,is:()=>m,jP:()=>_,lt:()=>l,oM:()=>c,wI:()=>p});var n=t(739425);let l=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e.pathname,r=({firstName:e,i18n:i})=>e?(i._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):i._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),o=e=>{let i=(0,n.mB)(e.search).board_url;if(i){let e=(0,n.Jx)(i),t=(0,n.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${t}`:`${e}?${t}`}return e.pathname},s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{let i=e.pathname;if(i.startsWith("/pin/")){let e=i.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return i},u=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),p=e=>{let i=e.pathname;if(i.startsWith("/pin/")){let e=i.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return i},m=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),_=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),h=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),g=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},731107:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var n=t(883119),l=t(377234),a=t(785893);function r({color:e,image:i,isSelected:t,title:r}){var o,s,d;return(0,a.jsxs)(n.xu,{alignItems:"center","aria-selected":t,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,l.Yc)()?t?"#fff":"#767676":t?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,a.jsx)(n.zd,{height:48,rounding:"circle",width:48,children:(0,a.jsx)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(o=i.height)&&void 0!==o?o:1,naturalWidth:null!==(s=i.width)&&void 0!==s?s:1,src:null!==(d=i.url)&&void 0!==d?d:""})}),(0,a.jsx)(n.xu,{marginStart:2,marginEnd:3,children:(0,a.jsx)(n.xv,{color:t?"inverse":(0,l.Yc)()?"light":"dark",weight:"bold",children:r})})]})}},984163:(e,i,t)=>{"use strict";t.d(i,{ZP:()=>ea,Bi:()=>et,gv:()=>en});var n,l,a,r=t(167912),o=t(616550),s=t(883119),d=t(448709),u=t(536042),c=t(245410),p=t(664334),m=t(769623),_=t(667294),h=t(29152),g=t(403689),y=t(212490),v=t(388011),f=t(128681),x=t(680644),b=t(450600),S=t(852247),P=t(282802),k=t(477288),w=t(99220),I=t(739425),T=t(272109),j=t(452253),A=t(732719),E=t(996344),C=t(394214),F=t(917027),R=t(24286),L=t(819079),D=t(785893);let O=({data:e,itemIdx:i})=>(0,D.jsx)(C.default,{pin:e,pinId:e.id,authDesktopSurface:"RelatedProductsFeed",slotIndex:i,viewParameter:3334,viewType:72});function N({resourceOptions:e}){let i=(0,u.ZP)(),t=(0,L.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),{data:n,isAtEnd:l,isLoaded:a,isFetching:r,fetchMore:o}=t,d=(0,_.useRef)(null);if(!a)return(0,D.jsx)(s.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,D.jsx)(s.$j,{accessibilityLabel:i._('Loading related products', 'Label for loading spinner', 'Label for loading spinner'),show:!0})});let c=Array.isArray(n)?n:null==n?void 0:n.results;return(0,D.jsx)(s.xu,{display:"flex",maxWidth:"100%",ref:d,justifyContent:"center",children:c&&(0,D.jsx)(F.default,{columnWidth:R.yF,isAtEnd:l,isFetching:r,renderItem:e=>(0,D.jsx)(O,{...e}),items:c,loadItems:()=>{r||l||o()},paddingStyle:"simplified",scrollContainerRef:d,virtualize:!1})})}var z=t(482203),M=t(512025),K=t(636125),Z=t(705882);let B=void 0!==n?n:n=t(678694),U=e=>({});function H({resourceOptions:e,onSearchIdChange:i,hasSimplifiedPinGridExpLoaded:t,viewParameter:n}){let l=(0,u.ZP)(),a=(0,L.Z)({name:"VisualLiveSearchResource",options:e}),{image_signature:r}=e,{data:o,isFetching:d,fetchMore:c}=a,p=null==o?void 0:o.results,m=null==o?void 0:o.search_identifier;return(0,_.useEffect)(()=>{m&&i(m)},[i,m]),(0,D.jsxs)(s.xu,{children:[p&&m&&(0,D.jsx)(s.xu,{children:(0,D.jsx)(s.Rk,{columnWidth:R.yF,renderItem:({data:e,itemIdx:i})=>(function({data:e,itemIdx:i}){let t=`${window.location.pathname}products/${window.location.search}`;return"story"===e.type?(0,D.jsx)(Z.Z,{story:e,dangerouslySetActionUrl:t,slotIndex:i}):"pin"===e.type?(0,D.jsx)(C.default,{pin:e,pinId:e.id,authDesktopSurface:"FlashlightResultGrid",auxData:{search_identifier:m,image_signature:r},slotIndex:i,viewData:{search_identifier:m},viewParameter:n,viewType:72}):null})({data:e,itemIdx:i}),gutterWidth:R.P2,items:p,loadItems:c,minCols:1,scrollContainer:()=>window})}),(0,D.jsx)(s.$j,{accessibilityLabel:l._('Loading search results...', 'FlashlightResultGrid.spinner', 'Accessibility label for loading visual search results'),show:d||!m||!t})]})}function V(e){let{pinKey:i,onSearchIdChange:t,resourceOptions:n,viewParameter:l}=e,{hasSimplifiedPinGridExpLoaded:a}=(0,z.$)(),{checkExperiment:r}=(0,c.F)(),{data:o}=(0,b.u)(B,i,{useLegacyAdapter:U}),{anyEnabled:s}=r("web_flashlight_unified_feed"),{visualSearchFlashlightUnifiedResource:d}=(0,K.Z)({resourceOptions:n,setFlashlightSearchId:t});return(0,D.jsx)(_.Fragment,{children:s?(0,D.jsx)(M.Z,{isProductOnlyFeed:!1,pinKey:o,variant:"flashlight",viewParameter:l,viewType:72,visualSearchFlashlightUnifiedResource:d}):(0,D.jsx)(H,{hasSimplifiedPinGridExpLoaded:a,onSearchIdChange:t,resourceOptions:n,viewParameter:l})})}var G=t(818577),$=t(162664);let W=0,q="",Y=void 0!==l?l:l=t(210452),X=e=>({description:e.description,imageSignature:e.image_signature});function J({pinKey:e}){let i=(0,u.ZP)(),t=(0,o.useHistory)(),n=(0,P.B)(),{logContextEvent:l}=(0,v.v)(),{checkExperiment:a}=(0,c.F)(),{anyEnabled:r}=a("web_flashlight_unified_feed"),[d,p]=(0,_.useState)(""),{id:C}=(0,o.useParams)(),{pinId:F}=(0,m.Z)(C||""),{data:R}=(0,b.u)(Y,e,{useLegacyAdapter:X}),L=R.imageSignature||"",O=(0,E.Z)(),z=(0,o.useLocation)(),M=(0,I.mB)(z.search),{cropSource:K}=Object.keys(M).reduce((e,i)=>({...e,[i]:parseInt(M[i],10)}),{}),Z=(0,h.Z)(z),B=z.pathname.includes("/products"),{getInitialCropArea:U}=(0,g.Z)({pinKey:R}),H=U({initialCropArea:Z}),J=(0,_.useRef)();(0,_.useEffect)(()=>(J.current&&q===F&&(J.current.scrollTop=W),()=>{J.current&&(W=J.current.scrollTop,q=F)}));let Q=K||5,ee=r&&4===Q?3462:3050,{getNormalizedPinImage:ei}=(0,S.Z)({pinKey:R,maxWidth:k.RZ});(0,T.Z)(()=>{if(!Z&&R){let{width:e,height:i}=ei(),n=(0,A.Z)({cropArea:{h:(null!=i?i:1)-2*f.S,w:(null!=e?e:1)-2*f.S,x:f.S,y:f.S},pinId:F,isProductPage:B,variant:"flashlight"});t.replace(n)}r||l({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:F}})});let{width:et,height:en,url:el}=ei(),ea={pin_id:F,image_signature:L,crop:(0,j.Z)({cropArea:H,scaledWidth:et,scaledHeight:en}),crop_source:Q,is_shopping:!1,entry_source:"flashlight",entrypoint:O},er=z&&z.state&&z.state.internalNavigation,eo=!er,es=n&&n.isRTL||!1,ed=et+20,eu=ed+16,ec=B?i._('Shop similar items', 'Header explaining results of flashlight products search', 'Header explaining results of flashlight products search'):i._('More Ideas', 'Header explaining results of flashlight search', 'Header explaining results of flashlight search');return R?(0,D.jsx)(w.Z,{view:72,objectId:d,children:(0,D.jsxs)(_.Fragment,{children:[(0,D.jsx)(G.Z,{text:i._('Visual Search Page', 'pin.flashlight.accessibilityhiddenheading', 'accessibility label for flashlight page')}),(0,D.jsx)(y.Z,{pinId:F,title:!r||r&&(5===Q||6===Q)?ec:"",variant:"flashlight",viewParameter:ee,viewType:72}),(0,D.jsx)($.c,{children:e=>{var i;return B?(0,D.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:60}},children:[(0,D.jsx)(N,{resourceOptions:ea}),";"]}):(0,D.jsxs)(s.xu,{display:"flex",paddingX:12,children:[(0,D.jsx)(s.xu,{bottom:!0,overflow:"auto",position:"fixed",dangerouslySetInlineStyle:{__style:{width:ed,height:"inherit",top:e+60,marginBottom:10}},ref:J,children:(0,D.jsx)(s.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:et,height:en}},children:(0,D.jsxs)(s.zd,{height:en,rounding:4,width:et,children:[(0,D.jsx)(s.Ee,{alt:null!==(i=R.description)&&void 0!==i?i:"",naturalHeight:en,naturalWidth:et,src:el}),(0,D.jsx)(x.Z,{showAnimation:eo,imageSignature:L,imageSize:{h:en,w:et},initialCropArea:H,pinKey:R,viewParameter:ee})]})})}),(0,D.jsx)(s.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{top:60,marginLeft:es?void 0:eu,marginRight:es?eu:void 0}},children:(0,D.jsx)(V,{resourceOptions:ea,onSearchIdChange:p,pinKey:R,viewParameter:ee})})]})}})]})}):null}let Q=void 0!==a?a:a=t(126210);function ee(e){var i,t,n;return{width:null!==(i=e.width)&&void 0!==i?i:0,url:null!==(t=e.url)&&void 0!==t?t:"",height:null!==(n=e.height)&&void 0!==n?n:0}}function ei(e){return null==e?void 0:e.map(e=>{var i,t,n,l,a;return{additional_images:null!==(i=function(e){let i=[];return e.forEach(({additionalImages:e,spec:t})=>{var n;i.push(...null!==(n=function({additionalImages:e,spec:i}){let t=[];return null==e||e.forEach(e=>{if(e.canonicalImage){var n;t.push({canonical_images:{[i]:ee(e.canonicalImage)},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""})}}),t}({additionalImages:e,spec:t}))&&void 0!==n?n:[])}),i}([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==i?i:[],variant_set:t={variants:null!==(l=null==(a=null==(n=e.variantSet)?void 0:n.variants)?void 0:a.map(e=>{var i,t;return{additional_images:null!==(i=null==(t=e.additionalImages)?void 0:t.map(e=>{var i,t;return{canonical_images:null!==(i=e.canonicalImages)&&void 0!==i?i:{},image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:""}}))&&void 0!==i?i:[]}}))&&void 0!==l?l:[]}}})}function et(){var e,i,t,n,l,a,s,d,u,c,p,_;let{id:h}=(0,o.useParams)(),{pinId:g}=(0,m.Z)(h||""),y=function({pinId:e}){return{query:Q,variables:{pinId:e}}}({pinId:g}),v=(0,r.useLazyLoadQuery)(Q,y.variables),f=null===(e=v.v3GetPinQuery)||void 0===e?void 0:e.data;if(!f)return null;let x={id:null!==(i=f.entityId)&&void 0!==i?i:"",is_eligible_for_related_products:null!==(t=f.isEligibleForRelatedProducts)&&void 0!==t&&t,description:null!==(n=f.description)&&void 0!==n?n:"",image_signature:null!==(l=f.imageSignature)&&void 0!==l?l:"",visual_objects:null!==(a=null==(d=f.visualObjects)?void 0:d.map(e=>{var i,t,n,l,a,r,o,s,d,u,c,p,m,_,h;return{detection:null!==(i=e.detection)&&void 0!==i&&i,h:null!==(t=e.h)&&void 0!==t?t:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(l=e.isStela)&&void 0!==l&&l,label:null!==(a=e.label)&&void 0!==a?a:"",label_id:null!==(r=e.labelId)&&void 0!==r?r:0,label_x:null!==(o=e.labelX)&&void 0!==o?o:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(u=e.score)&&void 0!==u?u:0,show_on_closeup:null!==(c=e.showOnCloseup)&&void 0!==c&&c,title:null!==(p=e.title)&&void 0!==p?p:"",w:null!==(m=e.x)&&void 0!==m?m:0,x:null!==(_=e.w)&&void 0!==_?_:0,y:null!==(h=e.y)&&void 0!==h?h:0}}))&&void 0!==a?a:[],images:null!==(s=function(e){let i={};return e.forEach(e=>{let{image:t,spec:n}=e;t&&(i[n]=ee(t))}),i}([{image:f.imageOrig,spec:"orig"},{image:f.image736x,spec:"736x"},{image:f.image564x,spec:"564x"},{image:f.image474x,spec:"474x"},{image:f.image236x,spec:"236x"}]))&&void 0!==s?s:{},rich_metadata:{products:null!==(c=ei(null==(u=f.richMetadata)?void 0:u.products))&&void 0!==c?c:[]},rich_summary:{products:null!==(_=ei(null==(p=f.richSummary)?void 0:p.products))&&void 0!==_?_:[]},type:"pin"};return x}function en(){let{data:e,isLoaded:i}=(0,p.Z)({name:"PinResource",getOptions:({routeData:{params:{id:e}}})=>({id:e,field_set_key:"detailed",fetch_visual_search_objects:!0})});return i&&e?e:null}let el=(0,d.Z)({useGraphQLAdapter:et,useLegacyAdapter:en});function ea(){let{checkExperiment:e}=(0,c.F)(),i=(0,u.ZP)();return(0,D.jsx)(el,{input:e("auth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:null,suspense:{fallback:(0,D.jsx)(s.$j,{accessibilityLabel:i._('Loading Pin data', 'authDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:null},children:({data:e})=>!!e&&(0,D.jsx)(J,{pinKey:{type:"deprecated",data:e}})})}},449879:(e,i,t)=>{"use strict";t.d(i,{ZP:()=>s,tY:()=>c,Xt:()=>d,Yh:()=>u});var n=t(702664),l=t(245410),a=t(819079),r=t(802071);let o={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function s(e){var i,t;let n=(0,r.Z)(),o=n.isAuth&&n.id===e,{checkExperiment:s}=(0,l.F)(),d=(0,a.Z)(!n.isAuth||o?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}}),u=o&&n.has_quicksave_board||!!(n.isAuth&&null!==(i=(null!=d?d:{}).data)&&void 0!==i&&i.has_quicksave_board)||(o||n.isAuth)&&!n.has_quicksave_board&&!(null!==(t=(null!=d?d:{}).data)&&void 0!==t&&t.has_quicksave_board)&&s("profile_saves_for_all").anyEnabled;return{showEnabledSaveBehavior:u}}function d(e){var i;let t=(0,r.Z)(),n=t.isAuth&&t.id===e,l=(0,a.Z)(!t.isAuth||n?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}}),o=n&&t.has_quicksave_board||!!(t.isAuth&&null!==(i=(null!=l?l:{}).data)&&void 0!==i&&i.has_quicksave_board);return{boardlessPinsEnabled:o}}function u(e){var i;let t=(0,n.useDispatch)(),l=(0,r.Z)(),o=l.isAuth&&!!l.boardCount&&l.boardCount<5,s=o&&e,d=(0,a.Z)(s&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:l.isAuth&&l.id}}:null);return l.isAuth&&void 0===l.save_behavior&&d&&null!==(i=d.data)&&void 0!==i&&i.id&&t({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:d.data.save_behavior}}),{showEnabledSaveBehavior:s}}function c(e){let i;let t=(0,r.Z)();return e&&(t.save_behavior===o.SAVE_TO_PROFILE?i={type:"classic"}:t.save_behavior===o.SHOW_BOARD_PICKER&&(i={type:"inline"})),{saveBehaviorType:i}}},838419:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(616550),l=t(819079);function a(){let{username:e}=(0,n.useParams)();return(0,l.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},736595:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a,f:()=>r});var n=t(970588),l=t(911767);function a(e,i){return async t=>{t((0,l.md)(e,!0));try{await (0,n.Z)({url:`/v3/boards/${e}/follow/`,method:"POST"}),i({event_type:26,object_id_str:e})}catch(i){t((0,l.md)(e,!1))}}}function r(e,i){return async t=>{t((0,l.md)(e,!0));try{await (0,n.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),i({event_type:27,object_id_str:e})}catch(i){t((0,l.md)(e,!1))}}}},903539:(e,i,t)=>{"use strict";t.d(i,{By:()=>_,IT:()=>p,N6:()=>s,br:()=>d,lU:()=>c,mk:()=>u});var n=t(970588);let l=e=>({type:"CLEAR_RECENT_SEARCH",payload:{query:e}}),a=()=>({type:"CLEAR_RECENT_SEARCHES"}),r=e=>({type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}),o=()=>({type:"CLEAR_RECENT_PERSONAL_SEARCHES"}),s=(e,i)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:i}}),d=(e,i)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:i}}),u=e=>({type:"SET_ANIMATION_ON_BODY_FILTER",payload:{animated:e}}),c=(e,i,t)=>l=>{(0,n.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(i,t),l("PERSONAL"===e?o():a())},p=(e,i,t,a)=>o=>{(0,n.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:i}}).then(t,a),o("PERSONAL"===i?r(e):l(e))},m=e=>({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}}),_=e=>i=>{i(m(e))}},383462:(e,i,t)=>{"use strict";t.d(i,{ZN:()=>r,fv:()=>o,hr:()=>a,lD:()=>s});var n=t(690108);function l(e,i){return n.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:i})}let a=(e,i)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:i}}),r=(e,i,t)=>async n=>{n(a(e,!0));try{await l(e,t).callCreate(),i({event_type:601,object_id_str:e})}catch(i){n(a(e,!1))}},o=(e,i,t)=>async n=>{n(a(e,!1));try{await l(e,t).callDelete(),i({event_type:602,object_id_str:e})}catch(i){n(a(e,!0))}},s=(e,i="")=>t=>n.Z.create("UpdateFollowedInterestsResource",{referrer:i,updated_interest_follows:e}).callUpdate().then(()=>{Object.keys(e).forEach(i=>{let n=e[i];t(a(i,n))})})},427778:(e,i,t)=>{"use strict";t.d(i,{KF:()=>u,ZN:()=>o,fv:()=>d,kE:()=>p,yA:()=>s});var n=t(690108),l=t(970588),a=t(446191);function r(e,i,t,l){return n.Z.create("UserFollowResource",{user_id:e,invite_code:l||void 0,aux_data:i?{pin_id:i}:void 0,client_tracking_params:t})}function o(e,i=null,t,n){return l=>{r(e,i,t,n).callCreate().catch(()=>l((0,a.P_)(e,!1))),l((0,a.P_)(e,!0))}}function s(e,i=null,t,n){return async l=>{l((0,a.P_)(e,!0)),await r(e,i,t,n).callCreate().catch(i=>{throw l((0,a.P_)(e,!1)),i})}}function d(e,i=null,t){return n=>{r(e,i,t).callDelete().catch(()=>n((0,a.P_)(e,!0))),n((0,a.P_)(e,!1))}}function u(e,i=null,t){return async n=>{n((0,a.P_)(e,!1)),await r(e,i,t).callDelete().catch(i=>{throw n((0,a.P_)(e,!0)),i})}}let c=(e,i)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:i}}),p=e=>i=>{e.length>0&&((0,l.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>i(c(e,!1))),i(c(e,!0)))}},925748:(e,i,t)=>{"use strict";t.d(i,{J:()=>y,Z:()=>P});var n=t(711443),l=t(857867),a=t(829488),r=t(808156),o=t(789144),s=t(255655),d=t(791621),u=t(274796);let c=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{if((null==e?void 0:e.url)==="/v3/orientation/nux_creator_recommendations/")return"nux-creator-recommendations";if((null==e?void 0:e.url)==="/v3/users/me/interests/"){var i;return`recommended-interests:${null===(i=e.data)||void 0===i?void 0:i.blend_type}`}return""},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${u.Z.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:()=>"archived-boards",BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{let i=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${i}:auto-correction-disabled`:i},BaseSearchResource:e=>{let i=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${i}:auto-correction-disabled`:i},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:()=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},m={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:u.Z.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:u.Z.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:i}})=>({type:e?u.Z.AGGREGATED_COMMENT_REPLIES:u.Z.AGGREGATED_COMMENTS,id:i,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:u.Z.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:u.Z.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:u.Z.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:u.Z.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:i}})=>({type:u.Z.PROFILE_BOARDS,id:(0,o.Z)(e,i)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:i,scope:t,filters:n,query_pin_sigs:l,query:o,user:s},response:d})=>{var c;return{type:u.Z.SEARCH_PINS,id:(0,a.Tb)({appliedProductFilters:i,autoCorrectionDisabled:e,filters:n,query:o,selectedPinImgSig:l,scope:t,user:s}),items:null!==(c=d.resource_response.data)&&void 0!==c&&c.results?(0,r.L)(d.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:u.Z.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:u.Z.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:u.Z.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:u.Z.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:u.Z.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:u.Z.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:u.Z.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:u.Z.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:i}})=>({type:u.Z.UNIFIED_COMMENTS,id:e,reversed:i}),UserActivityPinsResource:({options:{user_id:e}})=>({type:u.Z.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:i}})=>({type:u.Z.STORY_PINS_FEED,id:i,items:e.resource_response.data||[]})},_=(e,{pinId:i,feedId:t})=>e[t]?{...e,[t]:e[t].filter(e=>!("pin"===e.type&&e.id===i))}:e,h=(e,{pinId:i,feedId:t})=>e[t]?{...e,[t]:[{type:"pin",id:i},...e[t]]}:e,g=(e,{pinId:i,oldFeedId:t,newFeedId:n})=>t===n?e:h(_(e,{pinId:i,feedId:t}),{pinId:i,feedId:n}),y=(e,i)=>e in p?p[e](i):null,v=(e,i)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return i===u.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}},f=(e,i)=>i?`board-section-pins:${i}`:`boardfeed:${e}`,x=(e,i,t)=>{let n=t||s.Z[e];if(n===d.LR)return i.result;if(n===d.sN)return i.result.map(e=>({id:e,schema:"board"}));if(n===d.Gn)return i.result.map(e=>({id:e,schema:"user"}));if(n===d.Ht)return i.result.map(e=>({id:e,schema:"invite"}));if(n===d.fE)return i.result.map(e=>({id:e,schema:"reaction"}));if("object"==typeof n){let e=Object.entries(n).find(([e,i])=>i===d.LR);if(e)return i.result[e[0]]}return null},b=(e,i)=>e.map(({id:e,schema:t})=>t?{id:e,type:t,trackingParams:"pin"===t?i.pins[e].tracking_params:void 0,user_id:void 0}:null).filter(Boolean),S=(e,i,t)=>Object.keys(e).reduce((n,l)=>{let a=e[l]||[],r=a.filter(e=>!(e.type===i&&e.id===t));return a.length!==r.length&&(n[l]=r),n},{...e}),P=(e={},i)=>{switch(i.type){case l.zP:case l.aW:{let{payload:n}=i,{resource:a,options:r,normalizedResponse:o,schema:s}=n;if(o&&a in p){let t=x(a,o,s);if(t&&Array.isArray(t)){let n=p[a](r);if("ShoppingFeedModularizedResource"===a){let{board_id:i,saved_products_only:n}=null!=r?r:{},l=`board-shop-related:${i}`,a=`board-shop-saved:${i}`,s=`board-shop-saved-preview:${i}`,d=[...e[l]||[]],u=[...e[a]||[]],c=[...e[s]||[]],p=b(t,o.entities);return p.forEach(e=>{if(n)u.push(e);else{var t;o.entities.pins&&(null===(t=o.entities.pins[e.id])||void 0===t?void 0:t.board)===i?c.push(e):d.push(e)}}),{...e,[l]:d,[a]:u,[s]:c}}if("BoardToolsFeedResource"===a||"SectionToolsFeedResource"===a)return{...e,[n]:t};{let a=(i.type===l.aW&&e[n]||[]).concat(b(t,o.entities));return{...e,[n]:a}}}}else{var t;let{data:a}=n.response.resource_response;if(!(null!==(t=n.options)&&void 0!==t&&t.redux_normalize_feed))return e;let r=m[n.resource]({options:n.options,response:n.response});if(r){let{type:t,id:n,items:o,reversed:s}=r,d=(o||a||[]).map(e=>v(e,t));s&&(d=d.reverse());let u=`${t}:${n}`,c=e[u];if(c||i.type!==l.aW){let t=c||[],n=d;return i.type===l.aW&&(n=s?d.concat(t):t.concat(d)),{...e,[u]:n}}}}break}case"FEED_ITEM_REORDERED":{let{payload:{feedType:t,feedId:l,itemType:a,targetItemId:r,sourceItemId:o}}=i,s=`${t}:${l}`,d=e[s]||[],c=-1,p=-1;if([u.Z.BOARDFEED,u.Z.BOARD_SECTION_PINS,u.Z.BOARD_SECTIONS,"profileBoards"].includes(t)&&(c=d.findIndex(e=>e.type===a&&e.id===o),p=d.findIndex(e=>e.type===a&&e.id===r)),-1!==c&&-1!==p)return{...e,[s]:(0,n.Z)(d,c,p)};break}case"FEED_ITEMS_REMOVED":{let{payload:{feedType:t,feedId:n,inverseSelection:l,itemType:a,itemIds:r=[]}}=i,o=`${t}:${n}`,s=e[o]||[];if(s&&s.length>0&&(t===u.Z.BOARD_SECTION_PINS||t===u.Z.BOARDFEED)){let i=s.filter(e=>{let i=r.includes(e.id),t=e.type===a&&(l&&!i||!l&&i);return!t}),t=!!i.find(e=>"pin"===e.type);return{...e,[o]:t?i:[]}}if(s&&s.length>0&&t===u.Z.BOARD_SECTIONS){let i=s.filter(e=>{let i=r.includes(e.id);return!(e.type===a&&i)});return{...e,[o]:i}}if(s&&s.length>0&&(t===u.Z.AGGREGATED_COMMENTS||t===u.Z.BOARDLESS_PINS||t===u.Z.PROFILE_PINS_FEED||t===u.Z.STORY_PINS_FEED||t===u.Z.UNIFIED_COMMENTS||t===u.Z.TRIED_IT_FEED||t===u.Z.STORY_PIN_DATA)){let i=s.filter(e=>{let i=r.includes(e.id);return!(e.type===a&&i)});return{...e,[o]:i}}break}case"FEED_ITEMS_ADDED":{let{payload:{feedType:t,feedId:n,itemType:l,itemIds:a=[],prepend:r}}=i,o=`${t}:${n}`,s=e[o]||[];if(s&&(t===u.Z.BOARD_SECTION_PINS||t===u.Z.BOARDFEED||t===u.Z.BOARDLESS_PINS)){let i=a.map(e=>({id:e,type:l})),t=0;"story"===(s[0]||{}).type&&(t=1),"story"===(s[1]||{}).type&&(t=2);let n=[...s.slice(0,t),...i,...s.slice(t)];return{...e,[o]:n}}if(s&&t===u.Z.BOARD_SECTIONS){let i=[...a].reverse().map(e=>({id:e,type:"boardsection"})),t=s?[...i,...s]:[...i];return{...e,[o]:t}}if(t===u.Z.AGGREGATED_COMMENTS||t===u.Z.AGGREGATED_COMMENT_REPLIES||t===u.Z.PROFILE_PINS_FEED||t===u.Z.STORY_PINS_FEED||t===u.Z.UNIFIED_COMMENTS){let i=a.map(e=>({id:e,type:l})),t=s?[...r?i:s,...r?s:i]:i;return{...e,[o]:t}}if(t===u.Z.TRIED_IT_FEED){let i=a.map(e=>({id:e,type:l})),t=s?[...i,...s]:i;return{...e,[o]:t}}break}case"FEED_INVALIDATE":{let{payload:{feedType:t,feedId:n}}=i,l=`${t}:${n}`,a=e[l]||[];if(a)return{...e,[l]:null};break}case"APPEND_FEED_ITEMS":{let{payload:{id:t,items:n,options:l}}=i,a=e[t];if(!a)return{...e,[t]:n};{let i;return i=l.isPrepend?a[0]&&"story"===a[0].type?[].concat(a[0],n,a.slice(1)):n.concat(a):a.concat(n),{...e,[t]:i}}}case"PIN_DELETE":{let{payload:{pinId:t}}=i;return S(e,"pin",t)}case"BOARD_ARCHIVE":{let{payload:{boardId:t,username:n}}=i,l=`profile-boards:${null!=n?n:""}`;if(e[l])return{...e,[l]:e[l].filter(e=>e.id!==t)};break}case"BOARD_UNARCHIVE":{let{payload:{boardId:t}}=i,n="archived-boards";if(e[n])return{...e,[n]:e[n].filter(e=>e.id!==t)};break}case"BOARD_DELETE":{let{payload:{boardId:t}}=i;return S(e,"board",t)}case"BOARD_SECTION_DELETE":{let{payload:{boardSectionId:t}}=i;return S(e,"boardsection",t)}case"PINS_MOVE":{let{payload:{source:t,target:n,pinIds:l,userId:a}}=i,r=t.boardlessPins&&a&&`boardless-pins:${a}`||t.boardId&&f(t.boardId,t.sectionId),o=f(n.boardId,n.sectionId);return l.reduce((e,i)=>g(e,{pinId:i,oldFeedId:r,newFeedId:o}),e)}case"PINS_MOVE_ALL":{let{payload:{source:t,target:n,excludePinIds:l}}=i,a=f(t.boardId,t.sectionId),r=f(n.boardId,n.sectionId),o={...e,[a]:l.map(e=>({type:"pin",id:e}))};return delete o[r],o}case"PIN_EDIT":{let{payload:{pinId:t,boardId:n,sectionId:l="",source:{boardId:a,sectionId:r}}}=i,o=f(a,r),s=f(n,l);return g(e,{pinId:t,oldFeedId:o,newFeedId:s})}case l.AF:if(c.has(i.payload.resource)){let t;let n=i.payload.response.resource_response.data,{board:l}=n;if("quick_saves"===l.layout)t=`boardless-pins:${i.payload.options.user_id}`;else{let e=i.payload.options.section;t=e?`board-section-pins:${e}`:`boardfeed:${l.id}`}if(e[t]){let i={...e},l={id:n.id,type:"pin",trackingParams:null==n?void 0:n.tracking_params};return i[t]=[l].concat(e[t]),i}}if("BoardSectionResource"===i.payload.resource&&i.payload.normalizedResponse){let t=i.payload.normalizedResponse.result,n=i.payload.normalizedResponse.entities.boardsections[t].board,l=`board-sections:${n}`;if(e[l]){let i={...e};return i[l]=[{id:t,type:"boardsection"}].concat(e[l]),i}}if("AggregatedCommentResource"===i.payload.resource&&i.payload.normalizedResponse){let t=i.payload.normalizedResponse.result,n={id:t,type:"aggregatedcomment"},l={...e};for(let t of["aggregated-comments","unified-comments"]){let a=`${t}:${i.payload.options.objectId}`;e[a]&&(l={...l,[a]:[n].concat(l[a])})}return l}if("AggregatedCommentReplyResource"===i.payload.resource&&i.payload.normalizedResponse){let t=`${u.Z.AGGREGATED_COMMENT_REPLIES}:${i.payload.options.objectId}`;return{...e,[t]:[...e[t]||[],{id:i.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===i.payload.resource&&i.payload.normalizedResponse){let{reaction_pin_id:t,reaction_type:n}=i.payload.options;if("reaction"===i.payload.options.action_type){let l=`reactions:${i.payload.options.pin_id}`,a={...e},r={id:`${t}:${i.payload.options.user_id}:${n}`,type:"reaction",trackingParams:void 0};return a[l]=[r].concat(e[l]),a}if("unreaction"===i.payload.options.action_type){let n=`${t}:${i.payload.options.user_id}`;return S(e,"reaction",n)}}break;case"COMPLETE_STORY":{let{payload:{storyId:t}}=i;return S(e,"story",t)}}return e}},473420:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});let n=(e,i)=>"string"==typeof e?e:e(i),l=e=>(i,t)=>i.feeds[n(e,t)],a=e=>l(e)},519218:(e,i,t)=>{"use strict";t.d(i,{Z:()=>g});var n=t(702664),l=t(616550),a=t(883119),r=t(563962),o=t(788241),s=t(536042),d=t(245410),u=t(860438),c=t(98736),p=t(618569),m=t(549201),_=t(619277),h=t(785893);function g({alignIconLeft:e,bgColor:i,color:t,disableRedirect:g=!1,fallbackUrl:y,icon:v="arrow-back",onTouch:f,padding:x,placement:b,shouldUseFallbackUrl:S,size:P="lg",viewParameter:k,viewType:w,fallbackUrlForExp:I}){let T=(0,s.ZP)(),j=(0,m.HG)(),{checkExperiment:A}=(0,d.F)(),E=(0,l.useHistory)(),C=(0,l.useLocation)(),F=(0,n.useSelector)(e=>e.session.isAuthenticated),R=(0,r.Z)(),L=(0,p.Z)(),D=!F&&I&&"/ideas"===y,{viewType:O,viewParameter:N}=(0,o.SU)(),[z,M]=w?[w,k]:[O,N],K=()=>C.search&&C.search.includes("?nativeShouldDismiss=true"),Z=()=>{let e=u.Z.getItem(_.pm);C.key||"/ideas"!==y?(0,c.My)(`pinner_conversion.back_button.${String(null==e?void 0:e[0].pageType)}`):(0,c.My)("pinner_conversion.back_button.no_history"),(0,c.My)(`web_back_button_click.${String(b)}.is_auth_${String(F)}`),L({action:"click",item:"back-button"}),z&&R({view_type:z,view_parameter:M,element:34,event_type:102}),f&&f(),g||((!C.key||C.state&&"redirect"===C.state.referrer||S)&&y?D?j&&A("web_unauth_backbutton_navigation").anyEnabled?(E.push(I||y),(0,c.My)("web.unauth.back_button.l1interest")):!j&&A("mweb_unauth_backbutton_navigation").anyEnabled?(E.push(I||y),(0,c.My)("mweb.unauth.back_button.l1interest")):E.push(y):E.push(y):C.pathname.includes("/password/reset/")&&K()?E.push("/login/?dismissWebview=true"):E.goBack())};return(0,h.jsx)(a.xu,{"data-test-id":"back-button",children:e?(0,h.jsx)(a.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===v?-1:-2,children:(0,h.jsx)(a.hU,{accessibilityLabel:T._('Back', 'navigation button', 'navigation button'),bgColor:i,iconColor:!t&&(!i||["white","lightGray","transparent"].includes(i))?"gray":t,icon:v,onClick:Z,padding:"auto"!==x?x:2,size:P})}):(0,h.jsx)(a.hU,{accessibilityLabel:T._('Back', 'navigation button', 'navigation button'),bgColor:i,iconColor:!t&&(!i||["white","lightGray","transparent"].includes(i))?"gray":t,icon:v,onClick:Z,padding:"auto"!==x?x:2,size:P})})}},503973:(e,i,t)=>{"use strict";function n(){return"angled-pin"}t.d(i,{f:()=>n})},755040:(e,i,t)=>{"use strict";t.d(i,{k:()=>a,s:()=>r});var n=t(667294);let l=(0,n.createContext)(Object.freeze({})),a=l.Provider;function r(){return(0,n.useContext)(l)}},385929:(e,i,t)=>{"use strict";t.d(i,{Ac:()=>a,c7:()=>l,cg:()=>n});let n=-1,l=5,a=6},648575:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o});var n=t(690108),l=t(994405),a=t(526007),r=t(648609);function o({checkExperiment:e,history:i,i18n:t,logContextEvent:o,onSuccess:s,onUndo:d,originalPinId:u,pinId:c,trackingParams:p,disableRepinAnimation:m,showNewUserSavetoProfileAnimation:_,showRepinConfirmation:h,historyPush:g,savePinId:y}){return(v,f)=>{let{pins:x,session:b}=f(),{userId:S}=b,P=x[c],k=t._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.');return n.Z.create("BoardResource",{name:k,layout:"quick_saves",protected:!1,return_existing:!0,user_id:S}).callCreate().then(n=>{var f,x,S,k;let w=n.resource_response.data;(0,l.ib)({checkExperiment:e,isAuthMweb:b.isAuthenticated&&(b.isMobile||b.isTablet)});let I=new a.Z({boardId:w.id,dispatch:v,isQuickSave:!0,history:i,i18n:t,onSuccess:s,onUndo:d,originalPinId:u,pinId:c,section:void 0,showNewUserSavetoProfileAnimation:_,showRepinToasts:e=>h?h(e,m):void 0,trackingParams:p,userId:b.userId,historyPush:g,savePinId:y,pinData:{trackingParams:P?P.tracking_params:void 0,viewParameter:P?(0,r.A)({hasRichMetadata:!!P.rich_metadata,hasRichMetadataProducts:!!(null!==(f=P.rich_metadata)&&void 0!==f&&f.products),hasRichMetadataArticle:!!(null!==(x=P.rich_metadata)&&void 0!==x&&x.article),hasRichMetadataRecipe:!!(null!==(S=P.rich_metadata)&&void 0!==S&&S.recipe)}):void 0,pinnedToBoardId:P?null===(k=P.pinned_to_board)||void 0===k?void 0:k.id:void 0}});return I.processRepin(o)})}}},20227:(e,i,t)=>{"use strict";t.d(i,{Z:()=>h,e:()=>p});var n=t(702664),l=t(240684),a=t(883119),r=t(527386),o=t(187815),s=t(105095),d=t(83503),u=t(785893);let c=(0,l.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){let i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>Promise.all([t.e(67631),t.e(19596)]).then(t.bind(t,982043)),requireAsync(e){let i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(e=>(this.resolved[i]=!0,e))},requireSync(e){let i=this.resolve(e);return t(i)},resolve:()=>982043}),p=Object.freeze({white:"inverse",black:"default"}),m={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function _({titleText:e,videoPin:i,videoPlaceholderImage:t}){return(0,u.jsx)(c,{fallback:(0,u.jsx)(a.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:t||i.metadata.thumbnail}),aspectRatio:s.q4,controls:!1,poster:t||i.metadata.thumbnail,src:i.url})}function h({buttonAction:e,buttonCustomization:i,buttonText:t,experience:l,hideCompleteButton:c,imageAlt:p,imageUrl:h,openNewTab:g,storyType:y,titleText:v,titleTextColor:f,titleTextCustomization:x,videoPin:b,videoPlaceholderImage:S}){var P;let k=(0,n.useDispatch)(),w=(0,r.be)(),I=(0,r.Ig)(),{experience_id:T,placement_id:j}=l||{},A=(0,d.Z)({onVisibilityChanged:e=>{e&&l&&"viewed"!==l.status&&void 0!==j&&void 0!==T&&(l.status="viewed",k(I(j,T,!1,!0)))}}),E=()=>{l&&k(w(j,T,!1,!0))},C=(0,s.zn)(y),F=C?o.f8:o.hm,R=C?o.sH:o.HI,{color:L,fontStyle:D,fontWeight:O,horizontalAlignment:N,fontSize:z}=(0,s.Mf)(x||{},"mweb"),{button_background_color:M,button_text_color:K}=i||{};return(0,u.jsx)(a.xu,{position:"relative",padding:1,marginBottom:2,ref:A,children:(0,u.jsxs)(a.rU,{accessibilityLabel:v,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),E()},target:g?"blank":null,children:[(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,u.jsx)(a.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===y&&b?(0,u.jsx)(_,{titleText:v,videoPin:b,videoPlaceholderImage:S}):h&&(0,u.jsx)(a.Ee,{alt:p||v||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:h,fit:"cover"})}),!C&&(0,u.jsx)(a.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:m.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,u.jsx)(F,{children:(0,u.jsx)(a.xv,{align:N,color:f,italic:"italics"===D,weight:O,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(P=L||f)&&void 0!==P?P:void 0,fontSize:z}},children:v})})})]})}),!c&&(0,u.jsx)(R,{children:(0,u.jsx)(a.xu,{display:"flex",rounding:"pill",color:C?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:M}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,u.jsx)(a.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:K}},children:t})})})})]})})}},806530:(e,i,t)=>{"use strict";t.d(i,{Z:()=>p});var n=t(667294),l=t(702664),a=t(883119),r=t(245410),o=t(802071),s=t(328939),d=t(525104),u=t(726091),c=t(785893);function p({slotIndex:e,storyId:i,exactMatch:t=!1}){let{isAuth:p}=(0,o.Z)(),{checkExperiment:m}=(0,r.F)(),_=(0,d.S6)(),{action:h,aux_fields:g,objects:y,story_type:v,title:f}=(0,l.useSelector)(({stories:e})=>e[i]),x=y[0].id,b=y.slice(1,3).map(({id:e})=>_(e));return!t&&b.length<2?null:m(p?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,c.jsx)(s.qS,{auxData:{content_ids:b.map(e=>null==e?void 0:e.id),story_id:i,story_type:v,...g},component:200,loggingId:i,objectIdStr:i,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,c.jsxs)(a.xu,{ref:e,children:[f&&(0,c.jsx)(a.xu,{paddingY:1,marginTop:2,children:(0,c.jsx)(a.xv,{align:"center",children:f.format})}),(0,c.jsx)(u.Z,{action:h,auxData:g,isPinnerAuthorityHero:t,userId:x,userPinsImages236x:t?void 0:b.map(e=>{var i;return null==e?void 0:null===(i=e.images)||void 0===i?void 0:i["236x"]}),userSearchRepStyle:t,viewParameter:43,viewType:2})]})}):(0,c.jsx)(s.Hs,{auxData:{content_ids:b.map(e=>null==e?void 0:e.id),story_id:i,story_type:v,...g},component:200,loggingId:i,objectIdStr:i,slotIndex:e,viewParameter:43,viewType:2,children:(0,c.jsxs)(n.Fragment,{children:[f&&(0,c.jsx)(a.xu,{paddingY:1,marginTop:2,children:(0,c.jsx)(a.xv,{align:"center",children:f.format})}),(0,c.jsx)(u.Z,{action:h,auxData:g,isPinnerAuthorityHero:t,userId:x,userPinsImages236x:t?void 0:b.map(e=>{var i;return null==e?void 0:null===(i=e.images)||void 0===i?void 0:i["236x"]}),userSearchRepStyle:t,viewParameter:43,viewType:2})]})})}},562512:(e,i,t)=>{"use strict";t.d(i,{UG:()=>c,ZP:()=>m,aG:()=>p});var n=t(667294),l=t(883119),a=t(870243),r=t(536042),o=t(637362),s=t(618569),d=t(843843),u=t(785893);let c={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},p={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function m({backgroundColor:e,bubbleId:i,bubbleUrl:t,coverImageUrl:m,curator:_,font:h,format:g,height:y,identifierIconType:v,onTap:f,pwtSurfaceContext:x,referringSource:b,subtitle:S,title:P,buttonFormat:k,contentAlign:w="center",textAlign:I="center",width:T="100%"}){let j=(0,r.ZP)(),A=(0,s.Z)(),[E,C]=(0,n.useState)("string"==typeof y?void 0:y);if(!E)return(0,u.jsx)(l.xu,{ref:e=>{if(e){let i=e.offsetWidth,t="string"==typeof y?Number.parseFloat(y):100;C(i*t/100)}},dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof y?Number.parseFloat(y)+"%":"100%",width:T}}});let F=g===c.article,R=g===c.interest,L=h||E>250&&"lg"||E>140&&g&&[c.medium,c.small,c.article].includes(g)&&"md"||E<120&&g&&g===c.small&&"xs"||"sm";return(0,u.jsx)(l.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":b,children:(0,u.jsx)(d.MZ,{to:t,isAppUpsellDisabled:!0,onTouch:()=>{f&&(A({action:"click",item:"search-suggestion"}),f(i))},rounding:4,children:(0,u.jsxs)(l.zd,{rounding:4,children:[(0,u.jsx)(l.xu,{width:T,height:E,children:m&&(0,u.jsx)(l.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{x&&x.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:m})}),(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:p.bubbleOverlay,height:E,width:T,position:"absolute",top:!0,left:!0}),_&&!F&&(0,u.jsx)(l.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,u.jsx)(a.qE,{outline:!0,size:"xs",src:_.image_small_url,name:_.full_name})}),!!v&&v!==o.J&&(0,u.jsx)(l.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,u.jsx)(l.JO,{icon:(0,o.Z)(v),accessibilityLabel:j._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:12})}),(0,u.jsx)(l.xu,{display:"flex",position:"absolute",top:!0,width:T,height:E,padding:F||R?6:E>100?3:1,alignItems:F||R?"end":"center",justifyContent:w,children:(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[S&&(0,u.jsx)(l.xv,{align:I,color:"light",size:"lg"===L?"300":"100",overflow:"normal",children:S}),["lg","md"].includes(L)?(0,u.jsx)(l.X6,{align:I,size:"md"===L&&R?"500":"lg"===L?"600":"400",color:"light",overflow:"normal",children:P}):(0,u.jsx)(l.xv,{align:I,color:"light",size:"sm"===L?"300":"100",overflow:"normal",weight:"bold",children:P}),_&&F&&(0,u.jsxs)(l.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,u.jsx)(l.xu,{marginEnd:2,children:(0,u.jsx)(a.qE,{outline:!0,size:"xs",src:_.image_small_url,name:_.full_name})}),(0,u.jsx)(l.xv,{size:"100",color:"light",weight:"bold",children:_.full_name})]}),k&&(0,u.jsx)(l.xu,{marginTop:4,children:(0,u.jsx)(l.ZP,{text:k.text,href:k.href,size:k.size,accessibilityLabel:k.accessibilityLabel})})]})})]})})})}},532243:(e,i,t)=>{"use strict";t.d(i,{Z:()=>g});var n,l=t(667294),a=t(702664);t(167912);var r=t(883119),o=t(563962),s=t(803817),d=t(637362),u=t(28630),c=t(328939),p=t(697),m=t(785893);let _=void 0!==n?n:n=t(456778);function h({auxData:e,pattern:i,slotIndex:t,storyId:n,viewType:a,viewParameter:s,storyData:{storyType:_,referringSource:h,hasTitle:g,titleFormat:y,identifierIconName:v,actionUrl:f,actionText:x,bubblesData:b},storyGraphqlRef:S}){let P=(0,o.Z)(),k=b.map(({type:e,id:i})=>e+":"+i).join("|"),w={story_type:_,story_id:n,content_ids:k,...e};return(0,m.jsx)(c.Hs,{loggingId:n,objectIdStr:n,viewParameter:s,viewType:a,slotIndex:t,component:200,auxData:w,children:(0,m.jsxs)(l.Fragment,{children:[g&&(0,m.jsxs)(r.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof v&&v!==d.J&&(0,m.jsx)(r.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,m.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(0,d.Z)(v),size:14})}),(0,m.jsx)(r.xv,{weight:"bold",children:y})]}),(0,m.jsx)(p.Z,{pattern:i,referringSource:h,storyId:n,storyKey:S?{type:"graphqlRef",data:S}:{type:"deprecated",data:n},viewParameter:s,viewType:a}),f&&x&&(0,m.jsx)(r.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,m.jsx)(r.ZP,{accessibilityLabel:x,color:"gray",onClick:()=>{P({view_type:a,view_parameter:s,aux_data:w,event_type:102})},text:x,href:f,rel:(0,u.Z)(f)?"nofollow":void 0,target:(0,u.Z)(f)?"blank":void 0,size:"md"})})]})})}function g({storyId:e,storyKey:i,...t}){let{data:n,childDataKey__DEPRECATED:l}=(0,s.HF)(_,i,{type:"story",useGraphQLAdapter:({storyType:e,storyTitle:i,referringSource:t,displayOptions:n,action:l,objects:a})=>({storyType:e,referringSource:t,hasTitle:!!i,titleFormat:null==i?void 0:i.format,identifierIconName:null==n?void 0:n.identifierIconName,actionUrl:null==l?void 0:l.url,actionText:(null==l?void 0:l.text)||void 0,bubblesData:(null==a?void 0:a.filter(e=>"ExploreArticle"===e.__typename).map(e=>({id:e.entityId||"",type:e.type||""})).filter(Boolean))||[]}),useLegacyAdapter:e=>{var i,t,n,l;let r=(e.objects||[]).map(e=>e.id)||[],o=(0,a.useSelector)(({articles:e})=>r.map(i=>{let t=e[i];return{type:t.type,id:t.id}}));return e?{storyType:e.story_type,referringSource:e.referring_source,hasTitle:!!e.title,titleFormat:null===(i=e.title)||void 0===i?void 0:i.format,identifierIconName:null===(t=e.display_options)||void 0===t?void 0:t.identifier_icon_name,actionUrl:null===(n=e.action)||void 0===n?void 0:n.url,actionText:null===(l=e.action)||void 0===l?void 0:l.text,bubblesData:o}:null}});return n&&(0,m.jsx)(h,{...t,storyId:e,storyData:n,storyGraphqlRef:"graphqlRef"===l.type?l.data:null})}},697:(e,i,t)=>{"use strict";t.d(i,{Z:()=>c});var n,l=t(702664);t(167912);var a=t(883119),r=t(803817),o=t(562512),s=t(226752),d=t(785893);function u({storyData:{storyType:e,bubblesData:i},onTouch:t,pattern:n=[o.UG.medium],pwtSurfaceContext:l,referringSource:r,storyId:u,viewParameter:c,viewType:p}){let m=i.map(({type:e,id:i})=>e+":"+i).join("|");return(0,d.jsx)(a.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:i.map((i,_)=>{var h;let g=n[_%n.length];return(0,d.jsx)(a.xu,{paddingY:1,width:[o.UG.small,o.UG.extra_small].includes(g)?"calc(50% - 4px)":"100%","data-test-id":`bubble-${_}`,children:(0,d.jsx)(s.ZP,{auxData:{content_ids:m,story_type:e,grid_index:_},bubbleKey:(null===(h=i.bubbleGraphqlRef)||void 0===h?void 0:h.__typename)==="ExploreArticle"?{type:"graphqlRef",data:i.bubbleGraphqlRef}:{type:"deprecated",data:i.id},format:g,height:[o.UG.medium,o.UG.extra_small].includes(g)&&"50%"||g===o.UG.article&&"73%"||"100%",onTouch:t,pwtSurfaceContext:l,referringSource:r,slotIndex:_,storyId:u,viewParameter:c,viewType:p})},`bubble-${_}`)})})}function c({storyId:e,storyKey:i,...a}){let{data:o}=(0,r.HF)(void 0!==n?n:n=t(103018),i,{type:"story",useGraphQLAdapter:e=>{var i;return{storyType:e.storyType,bubblesData:(null===(i=e.objects)||void 0===i?void 0:i.filter(e=>"ExploreArticle"===e.__typename).map(e=>({id:e.entityId||"",type:e.type||"",bubbleGraphqlRef:e})).filter(Boolean))||[]}},useLegacyAdapter:e=>{let i=(e.objects||[]).map(e=>e.id)||[],t=(0,l.useSelector)(({articles:e})=>i.map(i=>{let t=e[i];return{id:t.id,type:t.type}}));return e?{storyType:e.type,bubblesData:t}:null}});return o&&(0,d.jsx)(u,{...a,storyId:e,storyData:o})}},226752:(e,i,t)=>{"use strict";t.d(i,{Bp:()=>h,VM:()=>_,ZP:()=>g}),t(167912);var n,l=t(468e3),a=t(563962),r=t(803817),o=t(245410),s=t(739425),d=t(802071),u=t(328939),c=t(562512),p=t(785893);let m=({storyCategory:e,query:i,referringSource:t,bubbleId:n,storyId:a,title:r})=>{let o=null!=e&&(0,l.y)(e),d=(0,s.XP)({q:i,rs:t||void 0,b_id:n,source_id:a}),u=o&&r?(0,l.x)({title:r,id:n,articleType:"discover"}):`/discover/article/${n}/`;return o?u:`/search/pins/${d?"?"+d:""}`},_=e=>{var i,t,n,l,a,r,o,s,d;return{actionUrl:null===(i=e.action)||void 0===i?void 0:i.url,coverImage236xUrl:e.cover_images[0]&&(null===(t=e.cover_images[0]["236x"])||void 0===t?void 0:t.url),coverImage474xUrl:e.cover_images[0]&&(null===(n=e.cover_images[0]["474x"])||void 0===n?void 0:n.url),coverImage136x136Url:e.cover_images[0]&&(null===(l=e.cover_images[0]["136x136"])||void 0===l?void 0:l.url),coverImage170xUrl:e.cover_images[0]&&(null===(a=e.cover_images[0]["173x"])||void 0===a?void 0:a.url),coverImage222xUrl:e.cover_images[0]&&(null===(r=e.cover_images[0]["222x"])||void 0===r?void 0:r.url),coverImage90x90Url:e.cover_images[0]&&(null===(o=e.cover_images[0]["90x90"])||void 0===o?void 0:o.url),curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.full_name,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.image_small_url,dominantColors:e.dominant_colors,id:e.id,identifierIconType:e.identifier_icon_type,storyCategory:e.story_category,titleFormat:e.title.format}};function h({auxData:e,bubbleData:{actionUrl:i,coverImage236xUrl:t,coverImage474xUrl:n,coverImage136x136Url:l,coverImage170xUrl:r,coverImage222xUrl:s,coverImage90x90Url:_,curatorFullName:h,curatorImageSmallUrl:g,dominantColors:y,id:v,identifierIconType:f,storyCategory:x,titleFormat:b},font:S,format:P,height:k,onTouch:w,pwtSurfaceContext:I,referringSource:T,slotIndex:j,storyId:A,viewParameter:E,viewType:C,width:F="100%"}){let R=(0,a.Z)(),L=(0,d.Z)(),{checkExperiment:D}=(0,o.F)();if(!t&&!n&&!l&&!r&&!s&&!_||!b)return null;let{isAuth:O}=L,N={"236x":t,"474x":n,"136x136":l,"170x":r,"222x":s,"90x90":_},z="",M="";if(O&&5===C){z=D("blp_explore_bubble_image_size").group;let e=z.split("_");e.length>1&&(M=e[1])}let K=z.startsWith("enabled")&&M?N[M]:N["474x"]||N["236x"],Z=i||m({storyCategory:x,query:b,referringSource:T,bubbleId:v,storyId:A,title:b}),B=P===c.UG.article?13865:200,U=P===c.UG.article?102:6940,H=y&&y.length?y[0]:void 0;return(0,p.jsx)(u.fv,{auxData:{story_id:A,...e},impressionData:{storyCategory:x,storyIdStr:A},loggingId:A,slotIndex:j,viewParameter:E,viewType:C,children:(0,p.jsx)(c.ZP,{backgroundColor:H,bubbleId:v,bubbleUrl:Z,coverImageUrl:K,curator:h&&g?{full_name:h,image_small_url:g}:void 0,font:S,format:P,height:k,identifierIconType:f,onTap:i=>{R({component:B,event_type:U,object_id_str:i,view_parameter:E,view_type:C,aux_data:{article_id:i,grid_index:j,...e}}),w&&w({query:b})},pwtSurfaceContext:I,referringSource:T,title:b,width:F})})}function g({bubbleKey:e,...i}){let{data:l}=(0,r.HF)(void 0!==n?n:n=t(67153),e,{type:"article",useGraphQLAdapter:e=>{var i,t,n,l,a,r,o,s,d,u;return{actionUrl:null===(i=e.action)||void 0===i?void 0:i.url,coverImage236xUrl:null===(t=e.coverImage236x)||void 0===t?void 0:t[0].url,coverImage474xUrl:null===(n=e.coverImage474x)||void 0===n?void 0:n[0].url,coverImage136x136Url:null===(l=e.coverImage136x136)||void 0===l?void 0:l[0].url,coverImage170xUrl:null===(a=e.coverImage170x)||void 0===a?void 0:a[0].url,coverImage222xUrl:null===(r=e.coverImage222x)||void 0===r?void 0:r[0].url,coverImage90x90Url:null===(o=e.coverImage90x90)||void 0===o?void 0:o[0].url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.fullName,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.imageSmallUrl,dominantColors:e.dominantColors,id:e.entityId||"",identifierIconType:e.identifierIconType,storyCategory:e.storyCategory,titleFormat:null===(u=e.articleTitle)||void 0===u?void 0:u.format}},useLegacyAdapter:e=>e&&_(e)});return l&&(0,p.jsx)(h,{...i,bubbleData:l})}},825199:(e,i,t)=>{"use strict";t.d(i,{q:()=>l,z:()=>n});let n=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator"],l="checklist_education_feed_card"},819365:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(951503);let l=({containerTypeIsItemGrid:e,storyType:i})=>"BUBBLE_ONE_COL"===i||e&&!(0,n.Z)({storyType:i})},951503:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(825199);let l=({storyType:e})=>n.z.includes(e)},117918:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o});var n=t(883119),l=t(536042),a=t(265259),r=t(785893);function o({isPinRep:e}){let i=(0,l.ZP)(),t=e?"default":"inverse",o=(0,r.jsx)(n.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(n.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(n.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(n.xu,{paddingY:4,children:(0,r.jsx)(n.JO,{accessibilityLabel:i._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:t,icon:"alert",size:20})}),(0,r.jsx)(n.xv,{align:"center",color:t,weight:"bold",children:i._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,r.jsx)(n.xu,{paddingY:1,children:(0,r.jsx)(n.xv,{align:"center",color:t,children:i._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?o:(0,r.jsx)(n.xu,{height:"100vh",children:(0,r.jsx)(a.Z,{children:o})})}},196039:(e,i,t)=>{"use strict";t.d(i,{Ai:()=>P,B5:()=>_,CR:()=>u,Cc:()=>r,HG:()=>f,R_:()=>s,Wz:()=>o,_P:()=>v,dP:()=>k,dX:()=>b,gx:()=>c,h8:()=>l,hk:()=>d,lp:()=>g,lt:()=>m,oe:()=>x,r4:()=>y,rM:()=>S,tD:()=>p});var n=t(883119);let l={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},a={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},r={...a,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},o={...a,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},s=64,d=64,u=48,c=48,p=new n.Ry(5),m=new n.H3([p]),_=new n.H3([m]),h=new n.H3([p]),g=new n.H3([h]),y=4;function v(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:y}}let f=6,x=47,b=8,S=4,P=5,k=3},820166:(e,i,t)=>{"use strict";t.d(i,{Z:()=>u});var n=t(883119),l=t(550140),a=t(536042),r=t(819079),o=t(549201),s=t(785893);function d({ideaPinImages:e}){let i=e.map((e,i)=>{var t,l,a;return(0,s.jsx)(n.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:i}},children:(0,s.jsx)(n.Ee,{alt:"",src:null!==(t=null==e?void 0:e.url)&&void 0!==t?t:"",color:"#696969",fit:"cover",naturalHeight:null!==(l=null==e?void 0:e.height)&&void 0!==l?l:1,naturalWidth:null!==(a=null==e?void 0:e.width)&&void 0!==a?a:1})},i)});return(0,s.jsx)(n.kC,{justifyContent:"center",children:(0,s.jsx)(n.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:i})})}function u({handleHide:e,text:i,userId:t,href:u,imageUrl:c}){let p=(0,a.ZP)(),m=(0,o.HG)(),_=(0,r.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:t}}),h=Array.isArray(i)?i.join(" "):i;if(0===(_.data||[]).length)return(0,s.jsx)(l.ZP,{duration:5e3,onHide:e,text:h,href:u,thumbnail:c?{image:(0,s.jsx)(n.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}:void 0});let g=(_.data||[]).slice(0,3).map(e=>{var i;return null===(i=e.images)||void 0===i?void 0:i[m?"236x":"170x"]}),y=(0,s.jsx)(d,{ideaPinImages:g});return(0,s.jsx)(l.ZP,{href:u,duration:5e3,onHide:e,_dangerouslySetThumbnail:y,text:h})}},679420:(e,i,t)=>{"use strict";t.d(i,{Z:()=>k});var n,l,a=t(702664),r=t(167912),o=t(883119),s=t(563962),d=t(282802),u=t(41669),c=t(383462),p=t(536042),m=t(734417),_=t(731107),h=t(785893);let g=({backgroundColor:e,decreaseNamePadding:i,isHomefeedTuner:t,isLego:n,isSelected:l,locale:a,nameTextSize:r,renderAsPill:s,showFollowerCount:d,topicName:u,followerCount:c,image:g})=>{var y;let v=(0,p.ZP)(),f=(0,m.Z)(),x=(0,h.jsx)(o.JO,{accessibilityLabel:v._('Selected', ' - ', ' -- '),color:"inverse",icon:n?"check":"check-circle",size:n?12:24});return s?(0,h.jsx)(_.Z,{color:e||"#767676",image:g,isSelected:null!=l&&l,title:u}):(0,h.jsxs)(o.xu,{position:"relative","aria-selected":l,children:[(0,h.jsx)(o.zd,{rounding:n||t?4:2,children:(0,h.jsxs)(o.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,h.jsx)(o.xu,{bottom:!0,left:!0,padding:n&&l?1:0,position:"absolute",right:!0,rounding:n&&l?4:0,top:!0,children:(0,h.jsx)(o.Ee,{alt:u,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(y=g.url)&&void 0!==y?y:""})}),(0,h.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:l?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:n&&l?"4px solid #767676":"none"}},rounding:n?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),n&&l&&(0,h.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),t?(0,h.jsx)(o.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,h.jsx)(o.xv,{align:"center",color:"light",size:r,weight:"bold",children:u})}):(0,h.jsxs)(o.xu,{bottom:!0,left:!0,padding:i?1:2,position:"absolute",right:!0,children:[(0,h.jsx)(o.xv,{color:"inverse",size:r,weight:"bold",children:u}),d&&c>=0&&(0,h.jsx)(o.xu,{paddingY:1,children:(0,h.jsxs)(o.xv,{color:"inverse",size:"100",children:[(0,h.jsx)(o.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:f(a,c,{shortform:!0,shortform_maximum_fraction_digits:1})}),v._('followers', ' - ', ' -- ')]})})]}),l&&(0,h.jsx)(o.xu,{margin:2,position:"absolute",right:!0,top:!0,children:n?(0,h.jsx)(o.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},y=void 0!==n?n:n=t(944488),v=({topicRef:e,...i})=>{var t,n,l,a,o,s;let d=(0,r.useFragment)(y,e),u=d.images?{url:null!==(t=d.images.url)&&void 0!==t?t:"",width:null!==(n=d.images.width)&&void 0!==n?n:0,height:null!==(l=d.images.height)&&void 0!==l?l:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,h.jsx)(g,{backgroundColor:null!==(a=d.background_color)&&void 0!==a?a:"",topicName:null!==(o=d.name)&&void 0!==o?o:"",followerCount:null!==(s=d.follower_count)&&void 0!==s?s:0,image:u,...i})},f=({topic:e,topicBlob:i,topicInfoForContextualExp:t,...n})=>{let l=t||e||i||{},a=l.images["236x"]||l.images["400x"]||l.images["474x"]||l.images.orig||{height:1,url:"",width:1},r=l.follower_count||-1;return(0,h.jsx)(g,{backgroundColor:l.background_color,topicName:l.name,followerCount:r,image:a,...n})},x=({decreaseNamePadding:e=!1,isHomefeedTuner:i,isLego:t,isSelected:n=!1,nameTextSize:l="lg",onTouch:r,padding:p=2,renderAsPill:m,showFollowButton:_=!1,showFollowerCount:g=!1,shouldClickthrough:y=!1,topic:x,viewParameter:b,viewType:S})=>{let P=(0,a.useDispatch)(),k=(0,s.Z)(),{locale:w}=(0,d.B)(),I=(0,h.jsxs)(o.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==x.type?(0,h.jsx)(f,{decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,locale:w,nameTextSize:l,renderAsPill:m,showFollowerCount:g,topic:x.topic,topicBlob:x.topicBlob,topicInfoForContextualExp:x.topicInfoForContextualExp}):(0,h.jsx)(v,{decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,locale:w,nameTextSize:l,renderAsPill:m,showFollowerCount:g,topicRef:x.topicRef}),!!x&&_&&(0,h.jsx)(o.xu,{paddingY:2,children:(0,h.jsx)(u.Z,{textType:i?"AddRemove":"FollowFollowing",followEventType:601,id:x.id,invertColors:i,inline:i,isFollowed:x.is_followed,onFollow:e=>P((0,c.ZN)(e,k)),onUnfollow:e=>P((0,c.fv)(e,k)),size:"md",unfollowEventType:602,viewParameter:b||void 0,viewType:S||void 0})})]}),T="/";return x&&(T=`/topics/${x.id}`),y&&x.slug?(0,h.jsx)(o.Tg,{onTap:({event:e})=>{null==r||r(e)},tapStyle:"compress",rounding:2,href:T,children:(0,h.jsx)(o.xu,{padding:p,children:I})}):I},b=void 0!==l?l:l=t(897614),S=({topicRef:e,decreaseNamePadding:i=!1,isHomefeedTuner:t,isLego:n,isSelected:l=!1,nameTextSize:a="lg",onTouch:o,padding:s=2,renderAsPill:d,showFollowButton:u=!1,showFollowerCount:c=!1,shouldClickthrough:p=!1,viewParameter:m,viewType:_})=>{var g,y;let v=(0,r.useFragment)(b,e);return(0,h.jsx)(x,{decreaseNamePadding:i,isHomefeedTuner:t,isLego:n,isSelected:l,nameTextSize:a,onTouch:o,padding:s,renderAsPill:d,showFollowButton:u,showFollowerCount:c,shouldClickthrough:p,viewParameter:m,viewType:_,topic:{id:null!==(g=v.entityId)&&void 0!==g?g:"",type:"graphql",is_followed:null!==(y=v.is_followed)&&void 0!==y&&y,topicRef:v}})},P=({id:e,topic:i,topicBlob:t,topicInfoForContextualExp:n,decreaseNamePadding:l=!1,isHomefeedTuner:r,isLego:o,isSelected:s=!1,nameTextSize:d="lg",onTouch:u,padding:c=2,renderAsPill:p,showFollowButton:m=!1,showFollowerCount:_=!1,shouldClickthrough:g=!1,viewParameter:y,viewType:v})=>{let f=(0,a.useSelector)(({topics:i})=>i[e]),b=null!=i?i:f;return(0,h.jsx)(x,{decreaseNamePadding:l,isHomefeedTuner:r,isLego:o,isSelected:s,nameTextSize:d,onTouch:u,padding:c,renderAsPill:p,showFollowButton:m,showFollowerCount:_,shouldClickthrough:g,viewParameter:y,viewType:v,topic:{id:e,is_followed:!!(null!=b&&b.is_followed),topic:b,topicBlob:t,topicInfoForContextualExp:n,type:"resource"}})},k=({decreaseNamePadding:e=!1,isHomefeedTuner:i,isLego:t,isSelected:n=!1,nameTextSize:l="lg",onTouch:a,padding:r=2,renderAsPill:o,showFollowButton:s=!1,showFollowerCount:d=!1,shouldClickthrough:u=!1,viewParameter:c,viewType:p,...m})=>m.topicRef?(0,h.jsx)(S,{decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,nameTextSize:l,onTouch:a,padding:r,renderAsPill:o,showFollowButton:s,showFollowerCount:d,shouldClickthrough:u,viewParameter:c,viewType:p,topicRef:m.topicRef}):(0,h.jsx)(P,{id:m.id,decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,nameTextSize:l,onTouch:a,padding:r,renderAsPill:o,showFollowButton:s,showFollowerCount:d,shouldClickthrough:u,topic:m.topic,topicBlob:m.topicBlob,topicInfoForContextualExp:m.topicInfoForContextualExp,viewParameter:c,viewType:p})},204722:(e,i,t)=>{"use strict";t.d(i,{Z:()=>O});var n,l=t(667294),a=t(167912),r=t(616550),o=t(883119),s=t(388011),d=t(536042),u=t(630089),c=t(624417),p=t(740494),m=t(465991),_=t(769705),h=t(245410),g=t(282802),y=t(649715),v=t(599226),f=t(98736),x=t(443601),b=t(230910),S=t(411056),P=t(525104),k=t(785893);let w=({children:e,onTap:i,testId:t})=>{let[n,a]=(0,l.useState)(!1);return(0,k.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem","data-test-id":`more-options-${t}`,children:(0,k.jsx)(o.iP,{onTap:i,onBlur:()=>a(!1),onFocus:()=>a(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:e})})},I=void 0!==n?n:n=t(823722),T=({i18n:e,pinId:i,showSignupModal:t,attributionLabelSource:n})=>(0,k.jsx)(w,{testId:"save",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:n}),t({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${n}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:i}}})},children:(0,k.jsx)(o.xv,{size:"200",weight:"bold",children:e._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})},"SaveMenuItem"),j=({i18n:e,pinTitle:i,pinDescription:t,pinId:n,bestPinImgSrc:l,attributionLabelSource:a,logContextEvent:r,pinCategory:s,checkExperiment:d,showSignupModal:u})=>(0,k.jsx)(w,{testId:"download",onTap:()=>{let{expName:e,expGroup:o,limitReached:c,oldCount:p,newCount:m}=(0,x.HM)(d,"dweb_download_in_context_menus_closeup");if((0,f.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:a,expName:e,expGroup:o,limitReached:c,oldCount:p,newCount:m}),c){u({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${a}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:n}}});return}(0,x.ZP)({filename:i||t||n,imgSrc:l||"",category:s,pinId:n,isUnauth:!0,platform:"web",expName:e,expGroup:o},r)},children:(0,k.jsx)(o.xv,{size:"200",weight:"bold",children:e._('Download image', 'Button to download Pin image', 'Button to download Pin image')})},"DownloadMenuItem"),A=({pinId:e,pinLink:i,fromEllipsisButton:t,attributionLabelSource:n,showSignupModal:l,i18n:a})=>(0,k.jsx)(w,{testId:"new-tab",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:n}),window.open(t?i:`/pin/${e}/`),t||l({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,k.jsx)(o.xv,{size:"200",weight:"bold",children:a._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})},"NewTabMenuItem"),E=({history:e,levelOneInterestUrl:i,searchUrl:t,levelOneInterestName:n,i18n:l,interestTag:a,attributionLabelSource:r})=>(0,k.jsx)(w,{testId:"interests",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:r}),i?e.push(`${i}`):e.push(t)},children:n?(0,k.jsx)(o.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(l._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:n})}):(0,k.jsx)(o.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(l._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:a})})},"MoreInterestsMenuItem"),C=({history:e,sourceUserUsername:i,sourceUserFullname:t,i18n:n,attributionLabelSource:l})=>(0,k.jsx)(w,{testId:"from-creator",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.more_from_creator",{attributionLabelSource:l}),e.push(`/${i}/`)},children:(0,k.jsx)(o.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(n._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:t})})},"MoreFromCreatorMenuItem"),F=({attributionLabelSource:e,reportLink:i,i18n:t})=>(0,k.jsx)(l.Fragment,{children:(0,k.jsx)(w,{testId:"dsa",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:e}),window.open(i,"_blank")},children:(0,k.jsx)(o.xv,{size:"200",weight:"bold",children:t._('Report Pin for EU local law violation', 'dweb.unauth.context_menu.link.report_pin_dsa', 'Button to report Pin for EU local law violation')})})},"ReportForDSAMenuItem");function R({desktopContextMenuState:e,isMainPinImage:i,source:t,imagesUrls:n,embedSrc:l,embedType:a,sourceUserUsername:u,sourceUserFullname:p,pinJoinVisualAnnotation:m,pinJoinSeoBreadcrumbName:_,pinJoinSeoBreadcrumbUrl:f,pinId:b,pinLink:P,pinTitle:w,pinDescription:I,pinCategory:R,pinEligibleForDownload:L}){var D;let O=(0,d.ZP)(),N=(0,r.useHistory)(),{logContextEvent:z}=(0,s.v)(),{countryFromIp:M,isBot:K,isSocialBot:Z}=(0,g.B)(),{checkExperiment:B}=(0,h.F)(),U=(0,c.Z)({imagesUrls:n,embedSrc:l,embedType:a,excludeOriginals:!K&&!Z}),H=null!==(D=null==m?void 0:m[0])&&void 0!==D?D:void 0,V=(0,y.Z)(H),G=`/search/pins/?q=${encodeURIComponent(V)}&rs=image_only_attribution`,$=(0,v.Z)(),W="dweb.plp.ellipsis.button"===t,{COUNTRY_CODES:q}=S.LAW_CONFIGURATION.dsa,Y=q.includes(M);if(!U)return null;let X=(0,c.Z)({imagesUrls:n,embedSrc:l,embedType:a,excludeOriginals:!K&&!Z}),J="related_pin_right_click";W?J="action_bar_ellipsis":i&&(J="right_click");let Q=[{component:()=>T({i18n:O,pinId:b,showSignupModal:$,attributionLabelSource:J})},{component:()=>L&&(0,x.SU)(B,"dweb_download_in_context_menus_closeup")&&j({i18n:O,pinTitle:w,pinDescription:I,pinId:b,bestPinImgSrc:X,attributionLabelSource:J,logContextEvent:z,pinCategory:R,checkExperiment:B,showSignupModal:$})},{component:()=>!(i||W&&!P)&&A({i18n:O,pinId:b,pinLink:P,fromEllipsisButton:W,showSignupModal:$,attributionLabelSource:J})},{component:()=>!!(H||_&&f)&&E({history:N,levelOneInterestUrl:f,searchUrl:G,levelOneInterestName:_,i18n:O,interestTag:H,attributionLabelSource:J})},{component:()=>!!(p&&u)&&C({history:N,sourceUserUsername:u,sourceUserFullname:p,i18n:O,attributionLabelSource:J})},{component:()=>Y&&F({reportLink:`https://www.pinterest.com/about/dsa/?pinId=${b}`,i18n:O,attributionLabelSource:J})}],ee=Q.map(({component:e})=>e()).filter(e=>!!e);return(0,k.jsxs)(o.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},zIndex:new o.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,k.jsx)(o.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,k.jsx)(o.JO,{icon:"pinterest",accessibilityLabel:O._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),ee]})}function L({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:t,...n}){var l,r,o,s,d,u,c,h,g,y,v,f,x,b,S,P,w;let T;let j=(0,a.useFragment)(I,e),A=(0,_.Z)({type:"graphqlRef",data:j}),E=!!j.storyPinDataId,C=!!(null===(l=j.videos)||void 0===l?void 0:l.videoList),{isUnsafe:F}=j;(T=j.nativeCreator?j.nativeCreator:j.linkDomain?j.linkDomain.officialUser:j.originPinner||j.pinner)||(T=null!==(P=null===(w=j.linkDomain)||void 0===w?void 0:w.officialUser)&&void 0!==P?P:j.pinner);let{storyPinDataId:L}=j,D=null!==(r=null===(o=j.richSummary)||void 0===o?void 0:o.displayName)&&void 0!==r?r:"",O=null!==(s=null===(d=j.richMetadata)||void 0===d?void 0:d.title)&&void 0!==s?s:"",N=null!==(u=null===(c=j.richMetadata)||void 0===c?void 0:c.description)&&void 0!==u?u:"",z=null===(h=j.storyPinData)||void 0===h?void 0:null===(g=h.metadata)||void 0===g?void 0:g.pinTitle,M=(null===(y=j.pinJoin)||void 0===y?void 0:y.visualAnnotation)||void 0,K=j.category||"",Z=(0,m.Ly)({pinTitle:j.title,gridTitle:j.gridTitle,richSummaryDisplayName:D,richMetadataTitle:O,storyPinDataId:L,storyPinDataMetadataPinTitle:z,pinJoinVisualAnnotation:M}),B=(0,p.Z)({storyPinDataId:L,pinDescription:j.description,richMetadataDescription:N,richSummaryDisplayName:D,closeupDescription:j.closeupDescription,closeupUnifiedDescription:j.closeupUnifiedDescription});return(0,k.jsx)(R,{...n,embedSrc:j.embed&&j.embed.src,embedType:j.embed&&j.embed.type,imagesUrls:A,sourceUserUsername:null===(v=T)||void 0===v?void 0:v.username,sourceUserFullname:null===(f=T)||void 0===f?void 0:f.fullName,pinJoinVisualAnnotation:null===(x=j.pinJoin)||void 0===x?void 0:x.visualAnnotation,pinJoinSeoBreadcrumbName:(null===(b=j.pinJoin)||void 0===b?void 0:b.seoBreadcrumbs)&&(j.pinJoin.seoBreadcrumbs.length>0?j.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null===(S=j.pinJoin)||void 0===S?void 0:S.seoBreadcrumbs)&&(j.pinJoin.seoBreadcrumbs.length>0?j.pinJoin.seoBreadcrumbs[0].url:null),pinId:i,pinTitle:Z,pinDescription:B,pinCategory:K,pinEligibleForDownload:!E&&!C&&!F})}function D({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:t,...n}){var l,a,r,o,s,d,u,c,h,g,y,v,f,x,S,w,I;let T=(0,P.S6)()(i),j=(0,_.Z)(null!=T?{type:"deprecated",data:T}:null),A=null==T?void 0:T.story_pin_data_id,E=null==T?void 0:T.videos,C=!!A,F=!!(null!=E&&E.video_list),L=null==T?void 0:T.title,D=null==T?void 0:T.description,O=null==T?void 0:T.grid_title,N=null!==(l=null==T?void 0:null===(a=T.rich_metadata)||void 0===a?void 0:a.title)&&void 0!==l?l:"",z=null==T?void 0:T.category,M=null!==(r=null==T?void 0:null===(o=T.rich_metadata)||void 0===o?void 0:o.description)&&void 0!==r?r:"",K=null!==(s=null==T?void 0:null===(d=T.rich_summary)||void 0===d?void 0:d.display_name)&&void 0!==s?s:"",Z=null==T?void 0:T.closeup_description,B=null==T?void 0:T.closeup_unified_description,U=null==T?void 0:null===(u=T.story_pin_data)||void 0===u?void 0:null===(c=u.metadata)||void 0===c?void 0:c.pin_title,H=null==T?void 0:null===(h=T.pin_join)||void 0===h?void 0:h.visual_annotation,V=null==T?void 0:T.is_unsafe,{link_domain:G,native_creator:$,origin_pinner:W,pinner:q}=T||{},Y=(0,b.wS)(G,$,W,q);Y||(Y=null!==(w=null==T?void 0:null===(I=T.link_domain)||void 0===I?void 0:I.official_user)&&void 0!==w?w:null==T?void 0:T.pinner);let{full_name:X,username:J}=null!==(g=Y)&&void 0!==g?g:{},Q=(0,m.Ly)({pinTitle:L,gridTitle:O,richSummaryDisplayName:K,richMetadataTitle:N,storyPinDataId:A,storyPinDataMetadataPinTitle:U,pinJoinVisualAnnotation:H}),ee=(0,p.Z)({storyPinDataId:A,pinDescription:D,richMetadataDescription:M,richSummaryDisplayName:K,closeupDescription:Z,closeupUnifiedDescription:B});return(0,k.jsx)(R,{...n,embedSrc:null==T?void 0:null===(y=T.embed)||void 0===y?void 0:y.src,embedType:null==T?void 0:null===(v=T.embed)||void 0===v?void 0:v.type,imagesUrls:j,sourceUserUsername:J,sourceUserFullname:X,pinJoinVisualAnnotation:null==T?void 0:null===(f=T.pin_join)||void 0===f?void 0:f.visual_annotation,pinJoinSeoBreadcrumbName:(null==T?void 0:null===(x=T.pin_join)||void 0===x?void 0:x.seo_breadcrumbs)&&(T.pin_join.seo_breadcrumbs.length>0?T.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==T?void 0:null===(S=T.pin_join)||void 0===S?void 0:S.seo_breadcrumbs)&&(T.pin_join.seo_breadcrumbs.length>0?T.pin_join.seo_breadcrumbs[0].url:null),pinId:i,pinTitle:Q,pinDescription:ee,pinCategory:z,pinEligibleForDownload:!C&&!F&&!V})}function O(e){return e.graphqlRef?(0,k.jsx)(L,{...e,graphqlRef:e.graphqlRef}):(0,k.jsx)(D,{...e})}},613352:(e,i,t)=>{"use strict";t.d(i,{X:()=>u,f:()=>d});var n=t(667294),l=t(583592),a=t(898252);function r(e=null,i){switch(i.type){case"REPORT_CONTENT_SHOW":return{id:i.payload.id,isProduct:i.payload.isProduct,isPromoted:i.payload.isPromoted,parentId:i.payload.parentId,videoDuration:i.payload.videoDuration,viewParameter:i.payload.viewParameter,viewType:i.payload.viewType,type:i.payload.type,isThirdPartyAd:i.payload.isThirdPartyAd};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var o=t(785893);let{Provider:s,useHook:d}=(0,l.Z)("ReportData");function u({children:e}){let[i,t]=(0,n.useReducer)(r,null),l=(0,n.useCallback)(()=>t({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,n.useCallback)((e,i,n)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:i,videoDuration:null,viewParameter:null,viewType:null,type:n}}),[]),u=(0,n.useCallback)((e,i,n)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:i,viewType:n,type:"conversation"}}),[]),c=(0,n.useCallback)((e,i,n)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:i,viewType:n,type:"pin"}}),[]),p=(0,n.useCallback)(({pinId:e,isDownstreamPromotion:i,hasPromoter:n,firstVideoDuration:l,isProduct:r,viewParameter:o,viewType:s,isThirdPartyAd:d})=>{let u=(0,a.jL)(i,n);t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:r,isPromoted:u,videoDuration:l,viewParameter:o,viewType:s,type:"pin",isThirdPartyAd:d}})},[]),m=(0,n.useMemo)(()=>({reportData:i,dismiss:l,reportComment:d,reportConversation:u,reportImage:c,reportPin:p}),[i,l,d,u,c,p]);return(0,o.jsx)(s,{value:m,children:e})}},646081:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o});var n,l=t(667294),a=t(167912);let r=void 0!==n?n:n=t(782194),o=e=>{var i;let t=(0,a.useFragment)(r,e),n=null==t?void 0:null===(i=t.pinJoin)||void 0===i?void 0:i.annotationsWithLinksArray,o=(0,l.useMemo)(()=>null==n?void 0:n.reduce((e,{name:i,url:t})=>i?{...e,[i]:{name:i,url:t}}:e,{}),[n]);return o}},726091:(e,i,t)=>{"use strict";t.d(i,{Z:()=>S});var n=t(667294),l=t(702664),a=t(883119),r=t(563962),o=t(870243),s=t(536042),d=t(734417),u=t(630089),c=t(282802),p=t(28630),m=t(843843),_=t(41669),h=t(328939),g=t(427778),y=t(712968),v=t(785893);let f={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},x=({height:e,image:i,width:t})=>{var n,l,r;let o=(0,s.ZP)();return(0,v.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:i?(0,v.jsxs)(a.xu,{position:"relative",children:[(0,v.jsx)(a.GH,{width:t,height:e,contentAspectRatio:"number"==typeof i.height&&"number"==typeof i.width?i.width/i.height:1,children:(0,v.jsx)(a.Ee,{alt:o._('pin image', 'alt text for pin image', 'alt text for pin image'),color:i.dominant_color||void 0,naturalWidth:null!==(n=i.width)&&void 0!==n?n:1,naturalHeight:null!==(l=i.height)&&void 0!==l?l:1,src:null!==(r=i.url)&&void 0!==r?r:""})}),(0,v.jsx)(a.xu,{dangerouslySetInlineStyle:f,height:e,width:t,position:"absolute",top:!0,left:!0})]}):(0,v.jsx)(a.xu,{color:"secondary",width:t,height:e})})};var b=t(333741);function S({action:e,auxData:i,isPinnerAuthorityHero:t=!1,userSearchRepStyle:f=!1,onFollowUser:S,onUnfollowUser:P,userId:k,userPinsImages236x:w,viewParameter:I,viewType:T,truncateName:j=!1}){let A=(0,s.ZP)(),E=(0,d.Z)(),C=(0,l.useDispatch)(),{locale:F}=(0,c.B)(),R=(0,r.Z)(),[L,D]=(0,n.useState)(f?window.innerWidth-16:null),O=(0,y.mN)()(k);if(!O)return null;let{contextual_pin_image_urls:N,explicitly_followed_by_me:z,follower_count:M=0,full_name:K,image_medium_url:Z,is_verified_merchant:B,recent_pin_images:U,username:H,verified_identity:V}=O,G=e=>{R({event_type:43,object_id_str:e,view_parameter:I,view_type:T})},$=e=>L?(L-(e-1))/e:0,W=f?1.6*$(4):117,q=(null==U?void 0:U["222x"])||(null==U?void 0:U["192x"])||[],Y=(null==N?void 0:N["222x"])||(null==N?void 0:N["192x"])||[];t&&0===Y.length&&(Y=q);let X=f&&Y.length<=0,J=f?Y.concat(q).slice(0,4):(w||[]).concat(q).slice(0,2);0===J.length&&(J=[void 0,void 0]);let Q=!X&&(L?(0,v.jsx)(a.zd,{rounding:4,children:(0,v.jsx)(a.kC,{children:J.map((e,i)=>(0,v.jsx)(x,{height:W,image:e,width:$(J.length)},`pinImage-${i}`))})}):(0,v.jsx)(a.xu,{height:W,ref:e=>{e&&D(e.offsetWidth)},width:"100%"})),ee=e=>(0,v.jsx)(a.kC,{justifyContent:"center",children:(0,v.jsx)(a.xu,{marginTop:e,height:60,width:60,children:(0,v.jsx)(o.qE,{outline:!0,name:null!=K?K:"",src:null!=Z?Z:""})})}),ei=e=>(0,v.jsxs)(a.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,v.jsx)(a.kC,{alignItems:"stretch",maxWidth:(f?(L||0)/2:L)||void 0,children:(0,v.jsx)(a.xv,{align:e,weight:"bold",lineClamp:j?1:void 0,children:B||null!=V&&V.verified?(0,v.jsx)(b.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=K?K:"",verifiedType:B?"verifiedMerchant":"verifiedIdentity",truncate:j}):K})}),(0,v.jsx)(a.xv,{inline:!0,size:"100",align:e,children:(0,u.nk)(A.ngettext('{{followers}} follower', '{{followers}} followers', M, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:E(F,M,{shortform:!0})})})]}),et=(0,v.jsx)(a.kC,{justifyContent:"center",children:e&&e.url?(0,v.jsx)(a.ZP,{accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{R({event_type:9029,object_id_str:k,view_type:T,view_parameter:I,aux_data:i})},rel:(0,p.Z)({url:e.url})?"nofollow":void 0,target:(0,p.Z)({url:e.url})?"blank":void 0}):(0,v.jsx)(_.Z,{id:k,isSecondaryButton:!0,isFollowed:z,onFollow:e=>{S&&S(),C((0,g.ZN)(e))},onUnfollow:e=>{P&&P(),C((0,g.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:I,viewType:T})});return(0,v.jsx)(h.Cy,{loggingId:k,objectIdStr:k,slotIndex:0,viewParameter:I,viewType:T,children:({impressionTrackerRef:e})=>(0,v.jsx)(a.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,v.jsx)(m.MZ,{to:`/${H}/`,onTouch:()=>G(k),children:(0,v.jsxs)(a.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Q,f?(0,v.jsx)(a.xu,{width:"100%",children:(0,v.jsxs)(a.kC,{justifyContent:"between",alignItems:"center",children:[(0,v.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),ei("start")]}),et]})}):(0,v.jsxs)(a.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),ei("center"),et]})]})})})})}},333741:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o});var n=t(667294),l=t(883119),a=t(793085),r=t(785893);let o=function({badgeSize:e,badgeSpacing:i,fullName:t,verifiedType:o,truncate:s=!1}){let d=t.split(" "),u=d.slice(0,d.length-1).join(" "),c=" ".concat(d[d.length-1]);return s?(0,r.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(l.xv,{lineClamp:1,weight:"bold",children:t}),(0,r.jsx)(l.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)("span",{children:u}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[c,"\xa0",(0,r.jsx)(l.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]})]})}},709512:(e,i,t)=>{"use strict";t.d(i,{Z:()=>o});var n=t(883119),l=t(117651),a=t(536042),r=t(785893);function o({duration:e}){let i=(0,a.ZP)();return(0,r.jsxs)(n.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,r.jsx)(n.JO,{accessibilityLabel:i._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,r.jsx)(n.xu,{marginStart:1,children:(0,r.jsx)(n.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,l.Z)(e)})})]})}},197083:(e,i,t)=>{"use strict";t.d(i,{ZP:()=>P});var n=t(667294),l=t(23279),a=t.n(l),r=t(883119),o=t(388011),s=t(758360),d=t(736567),u=t(714557),c=t(473383),p=t(785893);function m(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let _=[0,.25,.5,.75,.95,.97],h=[0,.5,.8,.99,1],g="-64px 0px 0px 0px",y={rootMargin:g,threshold:h},v={rootMargin:g,threshold:u.i},f=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function x(){return new Date().getTime()}function b(e){return!!e.volume&&e.volume>0}class S extends n.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,n.createRef)()),m(this,"handleWindowResize",()=>{if(!this.fullscreen){let e=this.getDimensions(),{height:i,width:t}=this.currentInterval;e.height!==i||e.width!==t?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),m(this,"handlePlayheadDown",({event:e})=>{let{onPlayheadDown:i}=this.props;this.setState({seeking:!0}),i&&i({event:e})}),m(this,"handlePlayheadUp",({event:e})=>{let{onPlayheadUp:i}=this.props;this.setState({seeking:!1}),i&&i({event:e})}),m(this,"handleLoop",()=>{this.videoTime=0}),m(this,"handleTimeChange",e=>{let{seeking:i,ready:t}=this.state;if(!this.currentInterval.videoDuration)return;let n=1e3*e.time,l=function(e,i,t,n){if(e>i||t<=0)return null;for(let l of n){let n=l*t;if(e<=n&&i>n)return l}return null}(this.videoTime,n,this.currentInterval.videoDuration,_);if("number"==typeof l&&this.props.playing&&!i&&t){let e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*l),quartilePercentValue:l})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)}),m(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),m(this,"handleReady",e=>{let{ready:i}=this.state;i||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),m(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),m(this,"handleVisibilityChange",e=>{if(0===e.length)return;let i=e.slice(-1)[0],t=function(e,i){for(let t=0;t<i.length;t+=1){let n=i[t],l=i[t+1];if(null==l||n<=e&&e<l)return n}return null}(Number.parseFloat(i.intersectionRatio.toFixed(2)),h);"number"==typeof t&&(this.visible=t>=.5),null==t||t===this.currentInterval.viewability||this.fullscreen||(0===t?this.startNewInterval({viewability:t,playbackState:f.PAUSED}):this.startNewInterval({viewability:t}))}),m(this,"handleFullscreenChange",({event:e,fullscreen:i})=>{if(i){let{height:e,width:i}=window.screen;this.startNewInterval({height:e,width:i,windowHeight:e,windowWidth:i})}else i||this.startNewInterval(this.getDimensions());this.fullscreen=i,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:i})}),m(this,"handleClose",()=>{this.startNewInterval()}),m(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1};let i=x();this.handleWindowResize=a()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:i,endTime:i,videoStartTime:0,videoEndTime:0,isAudible:b(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,i){let t={};b(e)&&!b(this.props)?t.isAudible=!1:!b(e)&&b(this.props)&&(t.isAudible=!0);let n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,i)!==n&&(t.playbackState=n),Object.keys(t).length>0&&this.startNewInterval(t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,i){return i.ready?e.playing&&!i.seeking?f.PLAYING:f.PAUSED:f.LOADING}getDimensions(){let e,i;if(this.videoWrapperRef.current){let t=this.videoWrapperRef.current;t.clientHeight&&t.clientWidth&&(e=t.clientHeight,i=t.clientWidth)}return{height:e,width:i,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,i){let{closeupStoryPinViewability:t,contextLogData:n,logContextEvent:l,playing:a,surface:r}=this.props,{seeking:o}=this.state,{height:s,width:d,windowHeight:u,windowWidth:c,viewability:p,...m}=i;if(null!=s&&null!=d&&null!=u&&null!=c&&null!=p){let i={...m,gridAutoplay:6904===e&&a&&!o&&("AuthHomefeed"===r||"SearchItem"===r||"RelatedPinGrid"===r),height:s,width:d,windowHeight:u,windowWidth:c,viewability:t||p};l({event_type:e,...function(e){let{eventData:{videoEvent:{gridAutoplay:i,videoDuration:t,startTime:n,endTime:l,videoStartTime:a,videoEndTime:r,isAudible:o,height:s,width:d,playbackState:u,quartile:c,quartilePercentValue:p,windowHeight:m,windowWidth:_,viewability:h}},component:g,objectId:y,view:v,viewParameter:f,...x}=e;return{component:g,object_id_str:y,view_type:v,view_parameter:f,aux_data:{...x},event_data:{videoEventData:{gridAutoplay:i,videoDuration:t,time:n,endTime:l,videoTime:a,endVideoTime:r,isAudible:o,height:s,width:d,playbackState:u,quartile:c,quartilePercentValue:p,windowHeight:m,windowWidth:_,viewability:h}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:i}})})}}logFourthQuartileEvent(){let e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){let i=x();this.logVideoEvent(6904,{...this.currentInterval,endTime:i,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:i,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){let{aspectRatio:e,backgroundColor:i,captions:t,contextLogData:n,controls:l,cropHeight:a,hlsConfig:o,inAdsDesktopVideoExperiment:u,isAutoPlay:m,loop:_,objectFit:h,onLoadedChange:g,onControlsPause:f,onControlsPlay:x,onSeek:b,onVolumeChange:S,playbackRate:P,playing:k,playsInline:w,poster:I,preload:T,rootMargin:j,src:A,surface:E,videoStartTime:C,volume:F}=this.props,{seeking:R}=this.state,L=u?v:y;return void 0!==j&&(L.rootMargin=E?(0,d.e)(E):j),(0,p.jsx)(s.Z,{options:L,onVisibilityChange:this.handleVisibilityChange,children:(0,p.jsx)(r.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:a?{display:"flex",alignItems:"center",height:`${a}px`}:{}},children:(0,p.jsx)(c.default,{aspectRatio:a?236/a:e,backgroundColor:i,captions:t,contextLogData:n,controls:l,hlsConfig:o,isAutoPlay:m,loop:_,objectFit:h,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:g,onLoop:this.handleLoop,onControlsPause:f,onControlsPlay:x,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:b,onTimeChange:this.handleTimeChange,onVolumeChange:S,playbackRate:P,playing:!R&&k,onPlay:()=>{},onPlayError:()=>{},playsInline:w,poster:I,preload:T,src:A,videoStartTime:C,visible:this.visible,volume:F})})})}}function P(e){let{logContextEvent:i}=(0,o.v)();return(0,p.jsx)(S,{...e,logContextEvent:i})}m(S,"defaultProps",r.nk.defaultProps)},789153:(e,i,t)=>{"use strict";t.d(i,{Z:()=>eM});var n,l=t(549201),a=t(802071),r=t(167912),o=t(616550),s=t(883119),d=t(448709),u=t(536042),c=t(245410),p=t(77494),m=t(819079),_=t(769623),h=t(667294),g=t(702664),y=t(603801),v=t(388011),f=t(24286),x=t(310561),b=t(874261),S=t(993869),P=t(41162),k=t(159177),w=t(99220),I=t(882973),T=t(739425),j=t(272109);function A(e,i){let t=0,n=!1,l=-1;return e.forEach((e,a)=>{let{x:r=0,y:o=0,h:s=0,w:d=0}=e,u=function(e,i){let{x:t,y:n,w:l,h:a}=e,{x:r,y:o,w:s,h:d}=i,u=Math.max(t,r),c=Math.min(t+l,r+s),p=Math.max(n,o),m=Math.min(n+a,o+d),_=u<c&&p<m?(c-u)*(m-p):0;return _/(l*a+s*d-_)}(i,{x:r,y:o,h:s,w:d});u>=.9&&u>t&&(t=u,n=!0,l=a)}),{isCropAreaOnDotArea:n,dotIndexToHide:l}}var E=t(791870),C=t(676794),F=t(805834),R=t(372836),L=t(377234),D=t(519218),O=t(785893);function N({handleBackClick:e,viewParameter:i,viewType:t}){let n=(0,L.vs)();return(0,O.jsx)(s.xu,{"data-test-id":"cancelButton",position:"fixed",left:!0,top:!0,margin:2,children:(0,O.jsx)(D.Z,{color:n?"darkGray":"white",disableRedirect:!0,icon:"cancel",onTouch:e,padding:3,size:"lg",viewParameter:i,viewType:t})})}var z=t(563962),M=t(94111),K=t(741099);function Z({pinDominantColor:e,url:i,closeupImageWidth:t,closeupImageHeight:n}){let l=(0,u.ZP)();return(0,O.jsx)(K.Z,{alt:l._('Pin image', 'flashlight.cropper.closeupImage', 'Pin closeup image'),color:e,isFlashlightPage:!0,naturalHeight:n,naturalWidth:t,placeholder:i,showSpinner:!1,src:i})}let B=e=>{let{alt:i,src:t,top:n,left:l}=e;return(0,O.jsx)(s.xu,{position:"absolute",height:24,width:24,dangerouslySetInlineStyle:{__style:{top:n,left:l}},children:(0,O.jsx)(s.Ee,{alt:i,color:"transparent",naturalHeight:24,naturalWidth:24,src:t})})},U={backgroundColor:"#000000",opacity:"0.4"};function H({closeupImage:e,closeupImageDims:i,cropArea:{x:t,y:n,w:l,h:a},disableBorder:r,disableHandles:o,handleBackClick:d,onTouchEnd:c,onTouchMove:p,onTouchStart:m,pinDominantColor:_,showBackButton:h,viewParameter:g}){var y;let v=(0,u.ZP)(),f=null!==(y=null==e?void 0:e.url)&&void 0!==y?y:"",{closeupImageWidth:x,closeupImageHeight:b}=i,S=Math.floor(b*n),P=Math.floor(x*t),k=Math.floor(b*a),w=Math.floor(x*l),I=P+w,T=S+k;return(0,O.jsxs)(s.xu,{onTouchMove:p,onTouchStart:m,onTouchEnd:c,position:"relative",children:[(0,O.jsx)(Z,{pinDominantColor:_,url:f,closeupImageWidth:x,closeupImageHeight:b}),(0,O.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:U},height:S,left:!0,position:"absolute",top:!0,width:"100%"}),(0,O.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...U,top:S}},left:!0,height:k,position:"absolute",width:P}),(0,O.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...U,top:S,left:I}},height:k,position:"absolute",right:!0}),(0,O.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...U,top:T}},bottom:!0,left:!0,position:"absolute",width:"100%"}),h&&(0,O.jsx)(N,{handleBackClick:d,viewParameter:g,viewType:427}),!o&&(0,O.jsxs)(s.xu,{"data-test-id":"CropperHandles",children:[(0,O.jsx)(B,{alt:v._('Top left cropper handle', 'flashlight.cropper.topLeftHandle', 'top left handle for cropping image'),src:"https://s.pinimg.com/webapp/handle_top_left-68937c82.svg",top:S-9,left:P-9}),(0,O.jsx)(B,{alt:v._('Top right cropper handle', 'flashlight.cropper.topRightHandle', 'top right handle for cropping image'),src:"https://s.pinimg.com/webapp/handle_top_right-4d7ae997.svg",top:S-9,left:I-15}),(0,O.jsx)(B,{alt:v._('Bottom left cropper handle', 'flashlight.cropper.bottomLeftHandle', 'bottom left handle for cropping image'),src:"https://s.pinimg.com/webapp/handle_bottom_left-d4d98c77.svg",top:T-15,left:P-9}),(0,O.jsx)(B,{alt:v._('Bottom right cropper handle', 'flashlight.Cropper.BottomLeftHandle', 'bottom right handle for cropping image'),src:"https://s.pinimg.com/webapp/handle_bottom_right-ccae4564.svg",top:T-15,left:I-15})]}),(0,O.jsx)(s.xu,{"data-test-id":"CroppedArea",position:"absolute",rounding:2,height:k+4,width:w+4,dangerouslySetInlineStyle:{__style:{top:S-2,left:P-2,border:r?void 0:"2px solid #ffffff"}}})]})}var V=t(525010);function G({auxData:e,onClick:i,shouldLogDotRender:t,showNoHalo:n,style:l,viewParameter:a,x:r,y:o}){let d=(0,u.ZP)(),c=(0,z.Z)();return(0,j.Z)(()=>{t&&c({aux_data:e,element:1221,event_type:120,view_parameter:a,view_type:72})}),(0,O.jsx)("div",{"data-test-id":"dot",onClick:i,onKeyPress:i,role:"button",style:{position:"absolute",top:o-16,left:r-16,outline:"none",...l},"aria-label":d._('Select a specific item on image', 'dot.accessibilityLabel', 'Accessibility label for <Dot /> component'),tabIndex:"0",children:(0,O.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?void 0:"rgba(0, 0, 0, 0.1)",width:32,height:32,border:"none",borderRadius:32,cursor:i?"pointer":"default"}},children:(0,O.jsx)(s.xu,{color:"light",position:"absolute",padding:0,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:16,height:16,border:"none",borderRadius:16,top:8,left:8}}})})})}var $=t(798198);let W="flashlightDotPop",q=(0,$.Ll)([`
  ${W} {
      0% {
          opacity: 0;
          transform: scale(0);
      }

      100% {
          opacity: 1;
          transform: scale(1);
      }
  }
`,`labelReveal {
    0% {
      transform: scale(0, 1)
    }

    100% {
      transform: scale(1, 1)
    }
  }
`]),Y=e=>{let i=parseFloat((.1*e).toFixed(2));return{animation:`${W} 0.3s ease-out ${i}s both`}};function X({closeupImageTop:e,imageHeight:i,imageTop:t,imageWidth:n,onDotTap:l,pinId:a,pinImageSignature:r,setCropArea:o,shouldLogDotRender:s,showNoHalo:d,viewParameter:u,visualObjects:c,visualObjectToHide:p}){let m=(0,z.Z)();return(0,O.jsxs)(h.Fragment,{children:[(0,O.jsx)(b.Z,{unsafeCSS:q}),c.map((_,h)=>{if(h===p)return null;let{x:g=0,y=0,w:v=0,h:f=0}=_,x={x:g,y,h:f,w:v},b=(0,V.Z)({cropArea:{x:g,y,w:v,h:f},scaledWidth:n,scaledHeight:i}),S=Math.floor(b.x+b.w/2),P=Math.floor(b.y+t+b.h/2),k=Y(h),w={pin_id:a,image_signature:r,visual_objects:JSON.stringify([x]),commerce_data:JSON.stringify({entrypoint:"flashlight",pin_is_stela:"false"})};return(0,O.jsx)(G,{auxData:w,onClick:function(){m({aux_data:w,element:1221,event_type:102,view_parameter:u,view_type:72}),l({cropArea:x,cropSource:4,visualObjects:c}),null==o||o(x)},shouldLogDotRender:s,style:k,x:S,y:P-e,showNoHalo:d,viewParameter:u},JSON.stringify(x))})]})}var J=t(963181);let Q={OUTSIDE:0,INSIDE:1,LEFT_CROPPER:2,RIGHT_CROPPER:3,TOP_CROPPER:4,BOTTOM_CROPPER:5,TOP_LEFT_HANDLE:6,TOP_RIGHT_HANDLE:7,BOTTOM_LEFT_HANDLE:8,BOTTOM_RIGHT_HANDLE:9,NONE:10};function ee({closeupImage:e,closeupImageDims:i,cropArea:t,handleBackClick:n,handleChangeCloseupImageTop:l,handleCropperChange:a,headerHeight:r,inUnifiedFeedExp:o,pinDominantColor:d,pinId:u,pinImageSignature:c,showBackButton:p,viewParameter:m,visualObjects:_,visualObjectToHide:g}){let y=(0,z.Z)(),v=(0,h.useRef)(),[f,x]=(0,h.useState)(0),[b,S]=(0,h.useState)(0),[P,k]=(0,h.useState)(Q.NONE),[w,I]=(0,h.useState)(t),{current:T}=(0,M.Z)(),{x:j,y:A,w:E,h:C}=w,{closeupImageTop:F,closeupImageMinTop:R,closeupImageWidth:L,closeupImageHeight:D,minCropperWidthRatio:N,minCropperHeightRatio:K}=i,Z=r||0,B=(e,i)=>{let t=i-F,n=e-(v.current?v.current.getBoundingClientRect().left:0),l=D*A,a=D*(A+C),r=L*j,o=L*(E+j);if(t>l+12&&t<a-12&&n>r+12&&n<o-12)return Q.INSIDE;if(n<=r+12&&n>=r-12&&t>=l+15&&t<=a-15)return Q.LEFT_CROPPER;if(n<=o+12&&n>=o-12&&t>=l+15&&t<=a-15)return Q.RIGHT_CROPPER;if(n<=o-15&&n>=r+15&&t>=l-12&&t<=l+12)return Q.TOP_CROPPER;if(n<=o-15&&n>=r+15&&t>=a-12&&t<=a+12)return Q.BOTTOM_CROPPER;if(n<=r-9+24&&n>=r-12&&t>=l-12&&t<=l+24-9)return Q.TOP_LEFT_HANDLE;if(n<=o+12&&n>=o-15&&t>=l-12&&t<=l+24-9)return Q.TOP_RIGHT_HANDLE;else if(n<=r-9+24&&n>=r-12&&t>=a-15&&t<=a+12)return Q.BOTTOM_LEFT_HANDLE;else if(n<=o+12&&n>=o-15&&t>=a-15&&t<=a+12)return Q.BOTTOM_RIGHT_HANDLE;else return Q.OUTSIDE};return(0,O.jsx)(s.kC,{width:"100vw",justifyContent:"center",children:(0,O.jsxs)(s.xu,{overflow:"hidden",position:"fixed",dangerouslySetInlineStyle:{__style:{top:F,touchAction:"none"}},ref:v,maxWidth:J.g6,width:"100%",children:[(0,O.jsx)(H,{closeupImage:e,closeupImageDims:i,cropArea:w,handleBackClick:n,onTouchEnd:()=>{if(![Q.NONE,Q.OUTSIDE].includes(P)){let e=P===Q.INSIDE?7603:7604;y({event_type:e,view_parameter:m,view_type:72}),a({cropArea:w,cropSource:6,visualObjects:_})}},onTouchMove:e=>{let{clientX:i,clientY:t}=e.touches[0];if(x(i),S(t),P===Q.NONE){let e=B(i,t);k(e)}if(null!=N&&null!=K&&null!=R){let e=t-b,n=i-f,a=n/L,r=e/D,o=Math.min(j+E-N,Math.max(0,j+a)),s=E+(j-o),d=Math.min(A+C-K,Math.max(0,A+r)),u=C+(A-d),c=Math.min(1-j,Math.max(N,E+a)),p=Math.min(1-A,Math.max(K,C+r));switch(P){case Q.OUTSIDE:l(Math.floor(Math.max(R,Math.min(Z,F+e))));break;case Q.INSIDE:I(e=>({...e,x:Math.max(0,Math.min(1-E,j+a)),y:Math.max(0,Math.min(1-C,A+r))}));break;case Q.LEFT_CROPPER:I(e=>({...e,x:o,w:s}));break;case Q.RIGHT_CROPPER:I(e=>({...e,w:c}));break;case Q.TOP_CROPPER:I(e=>({...e,y:d,h:u}));break;case Q.BOTTOM_CROPPER:I(e=>({...e,h:p}));break;case Q.TOP_LEFT_HANDLE:I({x:o,w:s,y:d,h:u});break;case Q.TOP_RIGHT_HANDLE:I(e=>({...e,w:c,y:d,h:u}));break;case Q.BOTTOM_LEFT_HANDLE:I(e=>({...e,h:p,x:o,w:s}));break;case Q.BOTTOM_RIGHT_HANDLE:I(e=>({...e,h:p,w:c}))}}},onTouchStart:e=>{let{clientX:i,clientY:t}=e.touches[0];x(i),S(t),k(Q.NONE)},pinDominantColor:d,showBackButton:p,viewParameter:m}),!!_.length&&0!==D&&0!==L&&(0,O.jsx)(s.xu,{"data-test-id":"FlashlightDots",children:(0,O.jsx)(X,{closeupImageTop:F,imageHeight:D,imageTop:F,imageWidth:L,onDotTap:a,pinId:u,pinImageSignature:c,setCropArea:I,shouldLogDotRender:!T,showNoHalo:o,viewParameter:m,visualObjects:_,visualObjectToHide:g})})]})})}var ei=t(818577),et=t(827192);let en=e=>({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}});var el=t(903539),ea=t(925748),er=t(473420),eo=t(729239),es=t(618446),ed=t.n(es),eu=t(906215),ec=t(282802),ep=t(455788),em=t(98736),e_=t(917652);function eh(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let eg={modal:{baseStyles:{transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",touchAction:"none"}}},ey={NONE:0,UP:1,DOWN:2};class ev extends h.Component{constructor(...e){super(...e),eh(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,headerHeight:this.props.headerHeight||0,isAtTop:!1,scrollDirection:ey.NONE,shouldAnimate:!1,startY:0,canScrollOnChildren:!1}),eh(this,"onTouchStart",e=>{let{clientY:i}=e.touches[0];this.setState({startY:i,shouldAnimate:!1,scrollDirection:ey.NONE})}),eh(this,"onTouchMove",e=>{let{clientY:i}=e.touches[0],{startY:t,currentDistanceFromTop:n}=this.state,{canMoveModal:l,maxDistanceFromTop:a}=this.props,r=i-t;l&&void 0!==a&&(r>0&&n>=0&&n<a&&window.scrollY<=0||r<0&&n<=a&&n>=0)&&this.setModalPosition(i)}),eh(this,"onTouchEnd",()=>{let{entryPoint:e,minDistanceFromTop:i,canMoveModal:t}=this.props;this.props.shouldSnapToEnds&&this.state.scrollDirection===ey.DOWN?(this.header&&eu.Z.removeObstruction("top",this.header),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0,isAtTop:!1}),e&&(0,em.My)(`mweb.${e}.snap_to_bottom`)):this.props.shouldSnapToEnds&&this.state.scrollDirection===ey.UP&&(this.state.isAtTop?this.setState({currentDistanceFromTop:0,shouldAnimate:!0}):this.setState({canScrollOnChildren:t,currentDistanceFromTop:i||0,shouldAnimate:!0,isAtTop:!0}),this.header&&eu.Z.addObstruction("top",this.header),e&&(0,em.My)(`mweb.${e}.sliding_modal.snap_to_top`))}),eh(this,"handleHandleMove",e=>{let{clientY:i}=e.touches[0],{canMoveModal:t,maxDistanceFromTop:n,minDistanceFromTop:l}=this.props,{startY:a,currentDistanceFromTop:r}=this.state;t&&r<=(l||0)&&i-a>0&&(e.stopPropagation(),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:n,isAtTop:!1,scrollDirection:ey.NONE,shouldAnimate:!0,startY:0}))}),eh(this,"handleHeaderTouch",()=>{let{maxDistanceFromTop:e,minDistanceFromTop:i,entryPoint:t,canMoveModal:n}=this.props,{currentDistanceFromTop:l,scrollDirection:a}=this.state;a===ey.NONE&&(l===e?(this.setState({canScrollOnChildren:n,currentDistanceFromTop:i||0,shouldAnimate:!0,isAtTop:!0}),(0,em.My)(`mweb.${t}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({canScrollOnChildren:!1,currentDistanceFromTop:e,shouldAnimate:!0,isAtTop:!1}),(0,em.My)(`mweb.${t}.sliding_modal.header_touch.snap_to_bottom`)))}),eh(this,"handleCloseIconTouch",e=>{let{currentDistanceFromTop:i}=this.state,{onDismiss:t,logContextEvent:n,maxDistanceFromTop:l,viewParameter:a,viewType:r}=this.props;e.stopPropagation(),t&&(n({aux_data:{commerce_data:JSON.stringify({snapped_top:0===i})},element:75,event_type:102,view_parameter:a,view_type:r}),this.setState({currentDistanceFromTop:l,startY:0,scrollDirection:ey.NONE},()=>t(e)))}),eh(this,"getModalStyles",()=>{let{shouldSnapToEnds:e}=this.props,{currentDistanceFromTop:i,shouldAnimate:t,canScrollOnChildren:n}=this.state,{baseStyles:l}=eg.modal;return{...l,animation:"modalReveal 0.3s ease-out both",position:n?"absolute":"fixed",top:i>-1?i:void 0,bottom:0,width:"100vw",...e&&t?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}),eh(this,"setModalPosition",e=>{let{startY:i,currentDistanceFromTop:t}=this.state,{maxDistanceFromTop:n,snapToEndThreshold:l,entryPoint:a}=this.props;if(n){let r=e-i,o=Math.floor("CloseupShop"===a||"CloseUpMainPinDrawer"===a?Math.max(0,t+r):Math.min(n,Math.max(0,t+r))),s=ey.NONE;void 0!==l&&l>=0&&(r<0?s=o>Math.floor((1-l)*n)?ey.DOWN:ey.UP:r>0&&(s=o>Math.floor(l*n)?ey.DOWN:ey.UP)),this.setState({startY:e,currentDistanceFromTop:o,scrollDirection:s})}})}componentDidMount(){let{isOpen:e}=this.props;e&&eu.Z.pause()}componentDidUpdate(e,i){let{domainFilters:t,priceFilters:n,cropSource:l,isOpen:a,logContextEvent:r,maxDistanceFromTop:o,setHasDraggedDrawerToFullScreen:s,minDistanceFromTop:d,entryPoint:u}=this.props,{currentDistanceFromTop:c}=this.state;if(a&&!e.isOpen?eu.Z.pause():!a&&e.isOpen&&eu.Z.resume(),"CloseUpMainPinDrawer"===u&&o<e.maxDistanceFromTop&&c>o&&this.handleHeaderTouch(),i.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&c===(d||0)&&s&&s(!0),t&&n&&(!ed()(t,e.domainFilters)||!ed()(n,e.priceFilters))){let e=(0,e_.Z)(l);r({event_type:13,view_parameter:"related_products"===e?3455:3456,view_type:72,element:11735})}}componentWillUnmount(){let{isOpen:e}=this.props;this.header&&eu.Z.removeObstruction("top",this.header),e&&eu.Z.resume()}render(){let{children:e,headerChildren:i,heading:t,inUnifiedFeedExp:n,isOpen:l,isRTL:a,mobileAccessibilityCloseIconLabel:r,mobileHideCloseIcon:o,noDivider:d,showHandle:u}=this.props,{headerHeight:c,canScrollOnChildren:p}=this.state,m=!p&&n?"32px 32px 0 0":"0";return l?(0,O.jsx)(ep.Z,{children:(0,O.jsx)(s.xu,{role:"dialog","aria-label":t,children:(0,O.jsx)(s.xu,{color:"default",dangerouslySetInlineStyle:{__style:{...this.getModalStyles(),borderRadius:m}},onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,children:(0,O.jsxs)(s.iP,{accessibilityLabel:this.props.i18n._('View all search results', 'SlidingModal.Header.a11yLabel', 'Accessibility label for header of search results in flashlight'),onTap:this.handleHeaderTouch,children:[(0,O.jsxs)(s.Le,{top:c||0,children:[u&&(0,O.jsx)(s.xu,{"data-test-id":"slidingModalHandle",display:"flex",justifyContent:"center",color:"default",dangerouslySetInlineStyle:{__style:{padding:"8px 0 24px 0",borderRadius:m}},onTouchMove:this.handleHandleMove,children:(0,O.jsx)("svg",{width:"37",height:"5",viewBox:"0 0 37 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,O.jsx)("rect",{width:"37",height:"5",rx:"2.5",fill:"#E9E9E9"})})}),!o&&(0,O.jsxs)(s.xu,{ref:e=>{this.header=e},color:"default",rounding:2,children:[(0,O.jsxs)(s.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,O.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,O.jsx)(s.hU,{accessibilityLabel:r||"Close visual search results",icon:"arrow-back",iconColor:"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,O.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function({filterIconShown:e,isRTL:i}){let t=i?"marginRight":"marginLeft",n=i?"marginLeft":"marginRight";return e?{[t]:38,[n]:50,marginTop:15,marginBottom:15}:{[t]:-10,[n]:50,marginTop:15,marginBottom:15}}({isRTL:a})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,O.jsx)(s.X6,{align:"center",size:"400",accessibilityLevel:2,children:t})})]}),i||null,!d&&(0,O.jsx)(s.iz,{})]})]}),(0,O.jsx)(s.xu,{overflow:p?"auto":"visible",children:e})]})})})}):null}}function ef(e){let i=(0,u.ZP)(),t=(0,z.Z)(),{isRTL:n}=(0,ec.B)();return(0,O.jsx)(ev,{...e,i18n:i,isRTL:n,logContextEvent:t})}let ex=`
  html, body {
    overscroll-behavior: none;
  }
`;function eb(){return Math.min(J.g6,window.innerWidth)}function eS(e,i){return Math.floor(eb()/i*e)}function eP(e){var i;return e?null===(i=e.images)||void 0===i?void 0:i["736x"]:null}function ek(e,i){let t=0,n=0,l=0;if(e&&e.images){var a,r,o,s;let i=eP(e);t=eb(),n=eS(null!==(a=null==i?void 0:i.height)&&void 0!==a?a:1,null!==(r=null==i?void 0:i.width)&&void 0!==r?r:1),l=function(e,i){let t=Math.floor(.6*window.innerHeight);return Math.min(t,eS(e,i))}(null!==(o=null==i?void 0:i.height)&&void 0!==o?o:1,null!==(s=null==i?void 0:i.width)&&void 0!==s?s:1)}return{closeupImageWidth:t,closeupImageHeight:n,closeupImageMinTop:l-n,closeupImageTop:i||0,minCropperWidthRatio:t?50/t:0,minCropperHeightRatio:n?50/n:0,modalTop:l}}function ew(e,i,t,n){let l=t?Number(t):.4,a=n?Number(n):.1;e>0&&i>0&&(t||(l=(i-2*i*.1)/e),n||(a=.1*i/e));let r={h:l,y:a};return r}let eI=(0,er.Z)(e=>`visual-search:${e}`);function eT({cropArea:e,cropSource:i,headerHeight:t,inUnifiedFeedExp:n,pin:l,pinId:r,queryH:d,queryY:p,searchResourceOptions:m,setCropSource:_,setState:I,state:T,visualSearchFlashlightUnifiedResource:E}){var L,D,z,M;let K=(0,P.E)(),Z=(0,u.ZP)(),{logContextEvent:B}=(0,v.v)(),U=(0,g.useDispatch)(),H=(0,o.useHistory)(),{previous:V}=(0,x.Hv)(),{checkExperiment:G}=(0,c.F)(),$=(0,o.useLocation)(),{isAuth:W}=(0,a.Z)(),{width:q=0}=(0,y.Z)()||{},Y=(null!==(L=null==l?void 0:l.visual_objects)&&void 0!==L?L:[]).filter(e=>e.is_stela),X=(null!==(D=null==l?void 0:l.visual_objects)&&void 0!==D?D:[]).filter(e=>!!e.label),J=Y.length>0||X.length>0,Q=J&&(G("mweb_flashlight_show_more_stela_dots").anyEnabled?Y:X)||[],[er,es]=(0,h.useState)(A(Q,e)),{isCropAreaOnDotArea:ed,dotIndexToHide:eu}=er,ec=e=>U((0,el.By)(e)),ep=e=>U(en(e)),em=(0,g.useSelector)(e=>eI(e,r)),{data:e_,fetchMore:eh,isAtEnd:eg,isFetching:ey,isLoaded:ev}=E||{},eb=(null==e_?void 0:e_.results)||[],eS=eb.find(e=>"story"===e.type&&"unified_visual_feed_product_upsell"===e.story_type),eT=eb.filter(e=>"pin"===e.type),ej=null==eS?void 0:eS.action,{url:eA=`/pin/${r}`,title:eE=""}=ej||{},eC=Z._('Shop similar', 'mobileFlashlight.productUpsellTitle', 'Shop similar products from the image.'),eF=Z._('Image search', 'mobileFlashlight.organicFeedTitle', 'Search results from the image.'),eR=Z._('Visual search', 'Visual search results', 'Visual search results'),eL=n&&(4===i||ed)?3462:3050,eD=JSON.stringify({is_product_only_feed:!1}),{closeupImageWidth:eO,modalTop:eN}=T.closeupImageDims,ez=eP(l),eM=q-60<eO&&n;function eK(){B({component:14339,element:179,event_type:102,view_parameter:eL,view_type:72})}function eZ(){if(0===V.length){H.replace(`/pin/${r}/`);return}H.goBack()}let[eB,eU]=(0,h.useState)(0),[eH,eV]=(0,h.useState)(0),[eG,e$]=(0,h.useState)(!1),[eW,eq]=(0,h.useState)(!1),[eY,eX]=(0,h.useState)(void 0);function eJ(){eq(!1),e$(!1),eX(void 0)}function eQ(e,i){"vertical"!==i&&e.stopPropagation()}return((0,h.useEffect)(()=>{if(l){let e=ek(l,t),{closeupImageHeight:i,modalTop:n=0}=e,a=ew(i,n,Number(d),Number(p));I(i=>({...i,closeupImageDims:e,...a}))}},[l]),(0,h.useEffect)(()=>{(em&&em.length>0||n&&ev)&&K&&K.markConstraintComplete("VisualSearchFeedLoaded")}),(0,j.Z)(()=>{ep(i)}),l&&0!==eN)?(0,O.jsxs)(h.Fragment,{children:[(0,O.jsx)(b.Z,{unsafeCSS:ex}),(0,O.jsx)(C.Z,{auxData:n?{commerce_data:eD}:void 0,viewParameter:n?3462:3050,viewType:72,children:(0,O.jsx)(w.Z,{view:72,children:(0,O.jsxs)(S.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,O.jsx)(ei.Z,{text:Z._('Visual Search Page', 'flashlight.accessibilityhiddenheading.fullpage', 'accessibility label for flashlight page')}),(0,O.jsx)(s.xu,{width:"100vw",height:"100vh",color:"dark"}),(0,O.jsx)(ee,{closeupImage:ez,closeupImageDims:T.closeupImageDims,cropArea:e,handleBackClick:eZ,handleChangeCloseupImageTop:function(e){I(i=>({...i,closeupImageDims:{...i.closeupImageDims,closeupImageTop:e}}))},handleCropperChange:function({cropArea:e,cropSource:i,visualObjects:t}){ep(i),ec(r),es(A(t,e)),_(i),I(i=>({...i,...e})),H.replace(`/pin/${r}/visual-search/?x=${e.x}&y=${e.y}&h=${e.h}&w=${e.w}&cropSource=${i}`)},headerHeight:t,inUnifiedFeedExp:n,pinDominantColor:l.dominant_color||"#efefef",pinId:r,pinImageSignature:l.image_signature,showBackButton:eM,viewParameter:eL,visualObjects:Q,visualObjectToHide:eu}),!eM&&n&&(0,O.jsx)(N,{handleBackClick:eZ,viewParameter:eL,viewType:427}),(0,O.jsxs)(ef,{canMoveModal:!0,cropSource:i,entryPoint:"flashlight",headerHeight:t,heading:eR,inUnifiedFeedExp:n,isOpen:!0,location:$,maxDistanceFromTop:eN||0,minDistanceFromTop:W?60:t,mobileAccessibilityCloseIconLabel:Z._('Close visual search results', 'close visual search results and go back to pin', 'close visual search results and go back to pin'),mobileHideCloseIcon:n,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:eZ,pinId:r,shouldSnapToEnds:!0,showHandle:n,snapToEndThreshold:.3,viewParameter:eL,viewType:72,children:[(0,O.jsx)(s.$j,{accessibilityLabel:Z._('Loading visual search results', 'mobileFlashlightPage.loadingSpinner', 'Spinner for loading the visual search result'),show:n&&!ev}),n&&ev&&(0,O.jsxs)(h.Fragment,{children:[eS&&(0,O.jsxs)(h.Fragment,{children:[(0,O.jsxs)(s.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:2,paddingX:4,children:[(0,O.jsx)(s.Tg,{href:eA,onTap:({event:e})=>{e.stopPropagation(),eK()},tapStyle:"compress",children:(0,O.jsx)(s.X6,{accessibilityLevel:2,size:"400",children:eC})}),(0,O.jsx)(s.I_,{accessibilityLabel:eE||Z._('See more', 'headerModule.headerModuleActionButton.iconButton', 'An right arrow icon button to show more similar pins to the user in a new page'),bgColor:"transparent",dataTestId:"product-upsell-action-button",href:eA,icon:"arrow-forward",iconColor:"darkGray",onClick:eK,size:"sm"})]}),(0,O.jsx)(s.xu,{onTouchStart:function(e){let{clientX:i,clientY:t}=e.touches[0];eU(i),eV(t),eJ()},onTouchMove:function(e){let{clientX:i,clientY:t}=e.touches[0];Math.abs(t-eH)>10&&e$(!0),Math.abs(i-eB)>10&&eq(!0),eW&&eG?eX(e=>e||"vertical"):eW?eX(e=>e||"horizontal"):eG?eX(e=>e||"vertical"):eX(void 0),eQ(e,eY)},onTouchEnd:function(e){eQ(e,eY),eJ()},dangerouslySetInlineStyle:{__style:{touchAction:"pan-x",overflowY:"hidden"}},children:(0,O.jsx)(k.default,{component:14339,disableHeader:!0,story:eS,storyGraphqlRef:null,surface:"ShoppingDynamicHeightGrid",view:72,viewParameter:3462})})]}),(0,O.jsx)(s.xu,{marginBottom:3,paddingX:4,children:(0,O.jsx)(s.X6,{accessibilityLevel:2,size:"400",children:eF})}),(0,O.jsx)(s.xu,{color:"default",paddingX:f.D6,dangerouslySetInlineStyle:{__style:{touchAction:"pan-y"}},children:(0,O.jsx)(eo.Z,{feedKey:null!==(z=(0,ea.J)("VisualSearchFlashlightUnifiedResource",m))&&void 0!==z?z:"",feedItems:eT,pagination:{loadNext:eh||(()=>void 0),hasNext:!eg,isLoadingNext:ey||!1,refetch:()=>void 0},renderFeedItem:(e,i)=>(0,O.jsx)(R.cn,{children:(0,O.jsx)(et.default,{auxData:{commerce_data:eD},componentType:0,pinId:e.id,slotIndex:i,trackingParams:e.trackingParams||void 0,viewParameter:3462,viewType:72,duploQueryRef:null})})})})]}),!n&&(0,O.jsx)(s.xu,{color:"default",paddingX:f.D6,children:(0,O.jsx)(F.ZP,{resourceConfig:{name:"VisualLiveSearchResource",options:m},feedItemProps:{viewParameter:3050,viewType:72},feedKey:null!==(M=(0,ea.J)("VisualLiveSearchResource",m))&&void 0!==M?M:"",trafficSource:"flashlight"})})]})]})})})]}):null}function ej(e){let{searchResourceOptions:i}=e,t=(0,m.Z)({name:"VisualSearchFlashlightUnifiedResource",options:i});return(0,O.jsx)(eT,{...e,visualSearchFlashlightUnifiedResource:t})}function eA({pin:e}){let{checkExperiment:i}=(0,c.F)(),{anyEnabled:t}=i("mweb_flashlight_unified_feed"),n=(0,o.useRouteMatch)(),{pinId:r}=(0,_.Z)(n.params.id||""),s=(0,o.useLocation)(),d=(0,T.mB)(s.search),{cropSource:u,x:p,y:m,h:g,w:y}=d,{isAuth:v}=(0,a.Z)(),f=(0,l.ZP)(),x=!v&&(0,I.x9)(f)||void 0,[b,S]=(0,h.useState)(()=>{let i=ek(e,x);i.closeupImageTop=0;let{closeupImageHeight:t,modalTop:n=0}=i,l=ew(t,n,Number(g),Number(m));return{closeupImageDims:i,x:p?Number(p):.1,w:y?Number(y):.8,y:l.y,h:l.h}}),[P,k]=(0,h.useState)(()=>{let e=(0,E.Z)(Number(u));return e||(p&&m&&g&&y?6:5)}),w={x:b.x,y:b.y,w:b.w,h:b.h},j={cropArea:w,cropSource:P,headerHeight:x,inUnifiedFeedExp:t,pin:e,pinId:r,queryH:g,queryY:m,searchResourceOptions:{pin_id:r,crop:w,crop_source:P,is_shopping:!1,entry_source:"flashlight",entrypoint:null},setCropSource:k,setState:S,state:b};return t?(0,O.jsx)(ej,{...j}):(0,O.jsx)(eT,{...j})}var eE=t(525104);let eC=void 0!==n?n:n=t(839914);function eF(e){var i,t,n;return{width:null!==(i=e.width)&&void 0!==i?i:0,url:null!==(t=e.url)&&void 0!==t?t:"",height:null!==(n=e.height)&&void 0!==n?n:0}}function eR(e){return null==e?void 0:e.map(e=>{var i,t;return{id:null!==(i=e.itemId)&&void 0!==i?i:"",additional_images:null!==(t=function(e){let i=[];return e.forEach(({additionalImages:e,spec:t})=>{var n;i.push(...null!==(n=function({additionalImages:e,spec:i}){let t=[];return null==e||e.forEach(e=>{if(e.canonicalImage){var n;t.push({canonical_images:{[i]:eF(e.canonicalImage)},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""})}}),t}({additionalImages:e,spec:t}))&&void 0!==n?n:[])}),i}([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==t?t:[]}})}function eL(e){let i={};return e.forEach(({image:e,spec:t})=>{e&&(i[t]=eF(e))}),i}let eD=(0,d.Z)({useGraphQLAdapter:function({pinId:e}){var i,t,n,l,a,o,s,d,u,c,p,m,_,h,g;let y=(0,r.useLazyLoadQuery)(eC,{pinId:e}),v=null===(i=y.v3GetPinQuery)||void 0===i?void 0:i.data;if(!v)return null;let f={id:null!==(t=v.entityId)&&void 0!==t?t:"",dominant_color:null!==(n=v.dominantColor)&&void 0!==n?n:"",image_signature:null!==(l=v.imageSignature)&&void 0!==l?l:"",visual_objects:null!==(a=null==(s=v.visualObjects)?void 0:s.map(e=>{var i,t,n,l,a,r,o,s,d,u,c,p,m,_;return{detection:null!==(i=e.detection)&&void 0!==i&&i,h:null!==(t=e.h)&&void 0!==t?t:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(l=e.isStela)&&void 0!==l&&l,label:null!==(a=e.label)&&void 0!==a?a:"",label_id:null!==(r=e.labelId)&&void 0!==r?r:0,label_x:null!==(o=e.labelX)&&void 0!==o?o:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(u=e.score)&&void 0!==u?u:0,show_on_closeup:null!==(c=e.showOnCloseup)&&void 0!==c&&c,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(m=e.w)&&void 0!==m?m:0,y:null!==(_=e.y)&&void 0!==_?_:0}}))&&void 0!==a?a:[],images:null!==(o=eL([{image:v.imageOrig,spec:"orig"},{image:v.image736x,spec:"736x"},{image:v.image564x,spec:"564x"},{image:v.image474x,spec:"474x"},{image:v.image236x,spec:"236x"}]))&&void 0!==o?o:{},rich_metadata:{products:null!==(u=eR(null==(d=v.richMetadata)?void 0:d.products))&&void 0!==u?u:[]},rich_summary:{products:null!==(p=eR(null==(c=v.richSummary)?void 0:c.products))&&void 0!==p?p:[]},carousel_data:{carousel_slots:null!==(_=null==(g=null==(m=v.carouselData)?void 0:m.carouselSlots)?void 0:g.map(e=>{var i,t;return{image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:"",images:null!==(t=eL([{image:e.imageOrig,spec:"orig"},{image:e.image736x,spec:"736x"},{image:e.image564x,spec:"564x"},{image:e.image474x,spec:"474x"},{image:e.image236x,spec:"236x"}]))&&void 0!==t?t:{}}}))&&void 0!==_?_:[],index:null!==(h=null==m?void 0:m.index)&&void 0!==h?h:0},type:"pin"};return{pin:f}},useLegacyAdapter:function({pinId:e}){let{data:i}=(0,m.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),t=(0,eE.S6)()(e),n=null!=i?i:t;return n?{pin:n}:null}});function eO(){let{checkExperiment:e}=(0,c.F)(),i=(0,u.ZP)(),t=(0,o.useRouteMatch)(),{pinId:n}=(0,_.Z)(t.params.id||"");return(0,O.jsx)(eD,{input:e("auth_mweb_graphql_flashlight_pinResource").anyEnabled||e("unauth_mweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:n},suspense:{fallback:(0,O.jsx)(s.$j,{accessibilityLabel:i._('Loading Pin data', 'mobileFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:n}},children:({data:e})=>!!e&&(0,O.jsx)(p.Z,{constraints:["VisualSearchFeedLoaded"],surface:"flashlight",children:(0,O.jsx)(eA,{pin:e.pin})})})}var eN=t(884880),ez=t(984163);let eM=function(){let e=(0,l.HG)(),i=(0,a.Z)();return e?i.isAuth?(0,O.jsx)(ez.ZP,{}):(0,O.jsx)(eN.Z,{}):(0,O.jsx)(eO,{})}},522285:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(11555);function l(){let e=new n.H("/resource/ApiSResource/create/","ApiSResource",e=>({source:"browser",stats:e}),5e3);return{log:(i,t,n,l={})=>{let{sampleRate:a=.1,tags:r={}}=l,o=[i,t,n,a,r];e.enqueue(o)}}}},935340:(e,i,t)=>{"use strict";t.d(i,{LY:()=>o,QX:()=>r,S0:()=>s,nP:()=>a});let n=t(522285).Z,l=n();function a(e,i){l.log(e,1,"c",i)}function r(e,i,t){l.log(e,i,"c",t)}function o(e,i,t){l.log(e,i,"ms",t)}function s(e,i,t){l.log(e,i,"g",t)}},738162:(e,i,t)=>{"use strict";t.d(i,{I:()=>u,Z:()=>c});var n=t(667294),l=t(616550),a=t(473727),r=t(201342),o=t(785893);let s=(0,n.createContext)(null);function d({children:e}){let i=(0,l.useLocation)(),t=(0,n.useMemo)(()=>i,[]);return(0,o.jsx)(s.Provider,{value:t,children:e})}function u(){let e=(0,l.useLocation)(),i=(0,n.useContext)(s);return e===i}function c({children:e,initialLocation:i}){return(0,o.jsx)(a.VK,{children:(0,o.jsx)(r.tn,{children:(0,o.jsx)(d,{children:e})})})}},897310:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/goodIdea-e3e37a7f.svg"},409445:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/haha-7945c718.svg"},615661:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/love-1ec7b8e4.svg"},495796:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/thanks-b3cf8b93.svg"},473754:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/wow-9e62e75a.svg"},373897:e=>{e.exports=function(e,i){(null==i||i>e.length)&&(i=e.length);for(var t=0,n=Array(i);t<i;t++)n[t]=e[t];return n},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,i,t)=>{var n=t(373897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},366115:e=>{e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,i,t)=>{var n=t(386116);e.exports=function(e,i){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=n(e))||i&&e&&"number"==typeof e.length){t&&(e=t);var l=0,a=function(){};return{s:a,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw r}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:(e,i,t)=>{var n=t(464062);e.exports=function(e,i,t){return(i=n(i))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e},e.exports.__esModule=!0,e.exports.default=e.exports},310434:e=>{function i(){return e.exports=i=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},107867:(e,i,t)=>{var n=t(206015);e.exports=function(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,n(e,i)},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,i,t)=>{var n=t(238416);function l(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}e.exports=function(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?l(Object(t),!0).forEach(function(i){n(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},7071:e=>{e.exports=function(e,i){if(null==e)return{};var t,n,l={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],i.indexOf(t)>=0||(l[t]=e[t]);return l},e.exports.__esModule=!0,e.exports.default=e.exports},206015:e=>{function i(t,n){return e.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},e.exports.__esModule=!0,e.exports.default=e.exports,i(t,n)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,i,t)=>{var n=t(163405),l=t(379498),a=t(386116),r=t(742281);e.exports=function(e){return n(e)||l(e)||a(e)||r()},e.exports.__esModule=!0,e.exports.default=e.exports},295036:(e,i,t)=>{var n=t(918698).default;e.exports=function(e,i){if("object"!==n(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var l=t.call(e,i||"default");if("object"!==n(l))return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},464062:(e,i,t)=>{var n=t(918698).default,l=t(295036);e.exports=function(e){var i=l(e,"string");return"symbol"===n(i)?i:String(i)},e.exports.__esModule=!0,e.exports.default=e.exports},918698:e=>{function i(t){return e.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,i,t)=>{var n=t(373897);e.exports=function(e,i){if(e){if("string"==typeof e)return n(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,i)}},e.exports.__esModule=!0,e.exports.default=e.exports},497326:(e,i,t)=>{"use strict";function n(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(i,{Z:()=>n})},204942:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(383997);function l(e,i,t){return(i=(0,n.Z)(i))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}},487462:(e,i,t)=>{"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}t.d(i,{Z:()=>n})},894578:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(589611);function l(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,(0,n.Z)(e,i)}},601413:(e,i,t)=>{"use strict";t.d(i,{Z:()=>a});var n=t(204942);function l(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function a(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?l(Object(t),!0).forEach(function(i){(0,n.Z)(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}},263366:(e,i,t)=>{"use strict";function n(e,i){if(null==e)return{};var t,n,l={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],i.indexOf(t)>=0||(l[t]=e[t]);return l}t.d(i,{Z:()=>n})},589611:(e,i,t)=>{"use strict";function n(e,i){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e})(e,i)}t.d(i,{Z:()=>n})},383997:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(671002);function l(e){var i=function(e,i){if("object"!==(0,n.Z)(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var l=t.call(e,i||"default");if("object"!==(0,n.Z)(l))return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e,"string");return"symbol"===(0,n.Z)(i)?i:String(i)}},671002:(e,i,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.d(i,{Z:()=>n})}},e=>{e.O(0,[14865],()=>{[97270,92982,23071,14734,30982,71407,48035,83414,5035,43473,19849,22347,22538,1593].map(e.E)},5);var i=i=>e(e.s=i);e.O(0,[97270,83119,67631,16550,39425,15616,75794,35303,14324,8575,50600,99551,77263,46948,76030,93729,69429,76626,62064,64641,73383,1342,11056],()=>i(806387)),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search-1afe16eaaae10e64.mjs.map