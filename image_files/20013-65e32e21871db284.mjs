"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[20013,90907],{634784:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="d9fe632f7481dc91f9007bbd592d44c2",e.exports=i},941729:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};i.hash="4b0c4a7a095db0d3cc7f22f3f6c85086",e.exports=i},991102:e=>{var i,l,a=(l=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[i,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null});a.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=a},441959:e=>{var i,l,a,n,t,r,o,s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:l=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[n={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},t={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[n,t,r,o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},o],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}}(s)},182964:e=>{var i,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:"imagesSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"CarouselSliders_pin"}],type:"Pin",abstractKey:null};l.hash="063ef491e5e33ac0c64e12eb0c096ab8",e.exports=l},256468:e=>{var i,l,a,n,t,r,o,s,d,u,c,p,m,_,g,h,v,y,f=(i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},d=[r={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],_={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},g=[l,u={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},r,{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},i,s],storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[l,u,c,p,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},m],storageKey:null}],storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},u,c,p,m],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:g,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[v={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[v,a,y={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[a,y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[l,a,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:g,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[l,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},o,s,n],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[a,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},_],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null});f.hash="fd0dce7682d1ef1ac32153b13178544f",e.exports=f},788536:e=>{var i,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="4a2543bd99e1b908c6c94274a303fcbc",e.exports=l},937711:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null};i.hash="8f9d12b0eee9d408e23c20c11af28777",e.exports=i},143453:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null};i.hash="2fb133623620997264f81544f7f43636",e.exports=i},428132:e=>{var i,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};l.hash="75e0e2c4ba4bc9bcf9a593eacb51e671",e.exports=l},814118:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogSwipe_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="dbfca9820e0aa1302554a0137a270b16",e.exports=i},951202:(e,i,l)=>{l.d(i,{Z:()=>t});var a=l(883119),n=l(785893);function t({currentPrice:e,onlyShowCurrentPrice:i,originalPrice:l,textSize:t}){let r=t||"200";return(0,n.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,n.jsx)(a.xv,{color:"default",size:r,weight:"bold",children:e}),l&&l!==e&&!i&&(0,n.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,n.jsx)(a.xv,{color:"subtle",size:r,weight:"bold",children:l})})]})}},176172:(e,i,l)=>{l.d(i,{Dv:()=>t,Ml:()=>r,Oc:()=>a,mv:()=>n});let a=16,n=4,t={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},493214:(e,i,l)=>{l.d(i,{Z:()=>m});var a=l(883119),n=l(667294),t=l(874261),r=l(785893);let o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=()=>[,,,,,].fill().map(()=>o[Math.floor(Math.random()*o.length)]).join(""),d=e=>{let i=[],l=Math.floor(3*Math.random()+1);for(let a=0;a<l-1;a+=1){let l=Math.floor(Math.random()*(e.length-1)+1);i.push(l)}i.sort((e,i)=>e-i);let a=[],n=0;for(let l=0;l<i.length;l+=1)a.push(e.slice(n,i[l])),n=i[l];return a.push(e.slice(n)),[...a]};function u({children:e}){let i=(0,n.useMemo)(()=>d(e.replace("  "," ")).map(e=>({className:s(),content:e})),[e]);return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(t.Z,{unsafeCSS:i.map(({className:e,content:i})=>`.${e} { display: inline; overflow-wrap: unset; } .${e}:before { content: "${i}"; font-weight: 600;  }`).join(" ")}),i.map(({className:e})=>(0,r.jsx)("div",{className:e},e))]})}var c=l(282802);let p=e=>e.startsWith("Promoted");function m({children:e,lineClamp:i,size:l,underline:n,weight:t}){let{isAuthenticated:o}=(0,c.B)(),s=o&&p(e);return(0,r.jsx)(a.xv,{size:l,lineClamp:i,underline:n,weight:t,title:s?void 0:e,children:s?(0,r.jsx)(u,{children:e}):e})}},391670:(e,i,l)=>{l.d(i,{Mi:()=>n,lO:()=>t});var a=l(583592);let{Provider:n,useMaybeHook:t}=(0,a.Z)("pageContext")},604541:(e,i,l)=>{l.d(i,{Z:()=>g});var a=l(667294),n=l(616550),t=l(883119),r=l(604094),o=l(365434),s=l(24286),d=l(874261),u=l(988014),c=l(245410),p=l(282802),m=l(549201),_=l(785893);function g({cacheKey:e,columnWidth:i,gutterWidth:l,id:g,renderItem:h,items:v,layout:y,loadItems:f,masonryRef:x,minCols:b,scrollContainerRef:k,serverRender:S,resetPositions:P,virtualize:w=!0}){var I;let{isRTL:j}=(0,p.B)(),F=(0,m.ZP)(),T=(0,n.useLocation)(),C=(0,u.Q0)(T),A="desktop"!==F,D=C&&"desktop"===F?s.OS:v.length||s.g5,E=(0,a.useCallback)(()=>(null==k?void 0:k.current)||window,[k]),K=g?g.replace(/\s/g,"-"):void 0,L=(0,o.Y)(e),[z,R]=(0,a.useState)(!1);(0,a.useEffect)(()=>{P&&!z&&(null==L||L.reset(),R(!0))},[L,P,z]);let{checkExperiment:N}=(0,c.F)(),M=N("duplo_masonry_virtual_buffer_factor").group,Z=null!==(I=({enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"})[M])&&void 0!==I?I:.7,O=N("web_masonry_batched_paints").anyEnabled;return(0,_.jsxs)("div",{id:K,className:"gridCentered","data-test-id":"masonry-container",children:[S&&K&&(0,_.jsx)(d.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:function({flexible:e,gutterWidth:i,id:l,isRTL:a,itemWidth:n,maxColumns:t,minColumns:r}){let o=l.replace(/\:/g,"\\:"),s=n+i,d=Array.from({length:t+1-r},(e,i)=>i+r),u=d.map(l=>{let d=l===r?0:l*s,u=l===t?null:(l+1)*s-1,c=e?`
      #${o} .static {
        width: calc(100% / ${l}) !important;
      }
    `:`
      #${o} {
        width: ${l*s}px;
      }

      #${o} .static {
        padding: 0 ${i/2}px;
        width: ${n}px !important;
      }
    `;return`
      @media (min-width: ${d}px) ${u?`and (max-width: ${u}px)`:""} {
        #${o} .static:nth-child(-n+${l}) {
          position: static !important;
          visibility: visible !important;
          float: ${a?"right":"left"};
          display: block;
        }

        ${c}
      }
    `});return`
    .gridCentered {
      margin-left: auto;
      margin-right: auto;
    }

    .gridCentered .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${u.join("")}
  `}({flexible:A,gutterWidth:l||0,id:K,isRTL:j,itemWidth:i||s.yF,maxColumns:D,minColumns:b||s.yc})}),(0,_.jsx)(t.Rk,{columnWidth:i,renderItem:e=>(0,_.jsx)(r.Z,{name:"MobileGridItem",children:h(e)}),gutterWidth:l||1,layout:A?S?"serverRenderedFlexible":"flexible":null!=y?y:"basic",items:v,loadItems:f,measurementStore:(0,o.z)(e),minCols:b||s.yc,positionStore:L,ref:e=>{x&&(x.current=e)},scrollContainer:E,virtualize:w,virtualBufferFactor:Z,_batchPaints:O})]})}},365434:(e,i,l)=>{function a(e,i,l){var a;return(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var a=l.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?a:String(a))in e?Object.defineProperty(e,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[i]=l,e}l.d(i,{Y:()=>s,z:()=>d}),l(883119);let n={};function t(e){let i=n[e];return i&&i.screenWidth===window.innerWidth||(n[e]={screenWidth:window.innerWidth}),n[e]}let r=e=>{let i=e.__id||e.id;return"string"==typeof i&&i||null};class o{constructor(){a(this,"idMap",new Map),a(this,"objMap",new Map)}get(e){let i=r(e);return i?this.idMap.get(i):this.objMap.get(e)}has(e){let i=r(e);return i?this.idMap.has(i):this.objMap.has(e)}set(e,i){let l=r(e);l?this.idMap.set(l,i):this.objMap.set(e,i)}reset(){this.idMap=new Map,this.objMap=new Map}}function s(e){if(null==e)return;let i=t(e);return i.positionCache||(i.positionCache=new o),i.positionCache}function d(e){if(null==e)return;let i=t(e);return i.measurementCache||(i.measurementCache=new o),i.measurementCache}},649796:(e,i,l)=>{l.d(i,{P:()=>g,t:()=>h});var a=l(690108),n=l(970588);let t=()=>{};async function r({board_id:e},i,l){await (0,n.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),l({event_type:27,object_id_str:e}),i()}async function o({board_id:e},i,l){await (0,n.Z)({url:`/v3/boards/${e}/follow/`,method:"POST"}),l({event_type:26,object_id_str:e}),i()}async function s(e,i){let l=a.Z.create("UserFollowResource",e);await l.callDelete(),i()}async function d(e,i){let l=a.Z.create("UserFollowResource",e);await l.callCreate(),i()}async function u(e,i,l){let n=a.Z.create("InterestFollowResource",e);await n.callDelete(),i(),l({event_type:602,object_id_str:e.interest_id})}async function c(e,i,l){let n=a.Z.create("InterestFollowResource",e);await n.callCreate(),i(),l({event_type:601,object_id_str:e.interest_id})}async function p(e,i){let l=a.Z.create("PinFeedbackResource",e);await l.callUpdate(),i()}async function m(e,i){let l=a.Z.create("PinFeedbackResource",e);await l.callUpdate(),i()}let _={complaint:p,followBoard:o,followPinner:d,followTopic:c,newsHubPinHide:function(e,i){let l=(0,n.Z)({url:e.undo?`/v3/news_hub/${e.newsId}/pin/${e.pinId}/undo/`:`/v3/news_hub/${e.newsId}/pin/${e.pinId}/hide/`,method:"PUT"});l.then(()=>i()),p({feedback_type:1,pin_id:e.pinId,...e},i)},promotedComplaint:m,relatedPinHide:function(e,i){let l=(0,n.Z)({url:e.undo?`/v3/p2p/${e.pin}/unhide/`:`/v3/p2p/${e.pin}/hide/`,method:"PUT"});l.then(()=>i()),p({feedback_type:1,pin_id:e.pin,...e},i)},reportPin:function(e,i){i()},showAdReasons:function(e,i){i()},unfollowBoard:r,unfollowPinner:s,unfollowTopic:u,unrelatedSearchPin:function(e,i){let l=(0,n.Z)({url:e.undo?`/v3/search/${e.pin_id}/unhide/`:`/v3/search/${e.pin_id}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}});l.then(()=>i()),p({feedback_type:1,...e},i)}},g=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function h(e,i,l=t,a){let n=e?_[e]:null;return n?n(i,l,a):l()}},958083:(e,i,l)=>{l.d(i,{EF:()=>p,Iv:()=>d,Ud:()=>s,hP:()=>o,nb:()=>c,oK:()=>u});var a=l(630089),n=l(649796),t=l(867812);let r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function o({boardFollowedByMe:e,feedbackType:i,viewParameter:l,promotion:a,recommendationReason:n,pinnerFollowedByMe:t}){if(a&&!a.isDownstreamPromotion)return"promoted";if(i)return i;if(n){if("FOLLOWED_INTEREST"===n.reason)return"topic";if("FOLLOWING_FEED"!==n.reason&&"RECENT_FOLLOWED_BOARD"!==n.reason)return n.hasBoard?"pfyBoard":"pfy"}if(e||t)return"followed";switch(l){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function s({feedback:e,i18n:i,makeNavigateLink:l}){var n,t,o,s,d,u,c,p;switch(e.type){case"pfy":return i._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":let{recommendationReasonBoard:m}=e;return m?(0,a.nk)(i._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:l("navigation",m.url,m.name)}):null;case"topic":let{sourceInterest:_}=e;return _?(0,a.nk)(i._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:l("topicUrl",`/topics/${_.url_name}`,_.name)}):null;case"followed":let{followed:g}=e,h="pinner"===g.type?(0,a.nk)(i._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:l("pinnerUrl",`/${null!==(n=null===(t=g.pinner)||void 0===t?void 0:t.username)&&void 0!==n?n:""}`,r(null!==(o=null===(s=g.pinner)||void 0===s?void 0:s.full_name)&&void 0!==o?o:""))}):(0,a.nk)(i._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:l("boardUrl",null!==(d=null===(u=g.board)||void 0===u?void 0:u.url)&&void 0!==d?d:"",r(null!==(c=null===(p=g.board)||void 0===p?void 0:p.name)&&void 0!==c?c:""))});return h;case"promoted":let{promotedIsPersonalized:v,isEligibleForPromotedPartnership:y,promotedPartnershipAttributionName:f,promotedPartnershipAdvertiserName:x}=e.thirdPartyAdAttributes||{};if(!v&&y)return(0,a.nk)(i._('{{ promotedPartnershipAdvertiserName }} paid, through a partnership with {{ promotedPartnershipAttributionName }}, to have this Pin show up where you\'d be more likely to notice it', 'feedbackHelpers.getRecommendationDescription.promoted.thirdParty', 'Recommendation description for ads with promoted partnership. promotedPartnershipAdvertiserName:Name of advertiser, promotedPartnershipAttributionName:Name of promoted partner'),{promotedPartnershipAdvertiserName:x,promotedPartnershipAttributionName:f});if(!e.promoter||v)return i._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');{let{full_name:n,username:t}=e.promoter,r=l("promotedLink",t?"/"+t+"/":"/",n);return(0,a.nk)(i._('{{ promoterLink }} paid to have this Pin show up where you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:r})}default:return null}}function d({sourceInterest:e,i18n:i,makeNavigateLink:l}){var n,r;return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:t.X},title:"",subTitle:(0,a.nk)(i._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l("topicUrl",`/topics/${null!==(n=e.url_name)&&void 0!==n?n:""}`,null!==(r=e.name)&&void 0!==r?r:"",!0)})}}function u({boardId:e,display:i,i18n:l,makeNavigateLink:n}){var t,r,o,s;return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===i.type?(0,a.nk)(l._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:n("pinnerUrl",`/${null!==(t=i.data.username)&&void 0!==t?t:""}`,null!==(r=i.data.full_name)&&void 0!==r?r:"",!0)}):(0,a.nk)(l._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:n("boardUrl",null!==(o=i.data.url)&&void 0!==o?o:"",null!==(s=i.data.name)&&void 0!==s?s:"",!0)})}}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function p(e,i,l,a,t,r,o){return()=>{let s={...e,undo:!0},d=i;"unfollowPinner"===i?d="followPinner":"unfollowBoard"===i?d="followBoard":"unfollowTopic"===i&&(d="followTopic"),(0,n.t)(d,s,void 0,o),r(l),o({event_type:101,component:0,element:11181,view_type:a,view_parameter:t})}}},867812:(e,i,l)=>{l.d(i,{X:()=>a});let a="favorited"},282442:(e,i,l)=>{l.d(i,{Z:()=>s});var a=l(574155),n=l(667294),t=l(39983),r=l(41162),o=l(677263);function s({children:e,isAtEndOfFeed:i,pinData:l,itemCount:s,includeBackgroundImages:d=!1,includeVideos:u=!1,includeSections:c=!1}){var p;return null===(p=(0,o.N5)())||void 0===p||p.isAuthenticated,(0,a.Z)({pinData:l,isAtEndOfFeed:i,includeBackgroundImages:d,includeVideos:u,includeSections:!0}),!function(e){let i=(0,r.E)(),l=(0,n.useRef)(null);(0,n.useEffect)(()=>{e!==l.current&&(l.current=e,i&&(0,t.ZP)(t.at))},[!!i,e])}(s),e}},792953:(e,i,l)=>{l.d(i,{Z:()=>t});var a=l(883119),n=l(785893);function t({accessibilityLabel:e}){return(0,n.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,n.jsx)(a.$j,{accessibilityLabel:e,show:!0})})}},700746:(e,i,l)=>{l.d(i,{Hd:()=>d,_R:()=>o,gi:()=>t,lw:()=>a,oD:()=>n,wF:()=>s,zh:()=>r});let a={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins",MY_CONTENT:"my_content"},n=e=>{let i=Object.values(a).find(i=>i===e);return null!=i?i:void 0},t=e=>{switch(e){case a.PINS:return 0;case a.PINS_MINE:return null;case a.PINS_BUYABLE:return 1;case a.PINS_VIDEO:return 2;case a.BOARDS:return 3;case a.USERS:return 4;default:return null}},r=e=>{switch(e){case 0:return a.PINS;case 1:return a.PINS_BUYABLE;case 2:return a.PINS_VIDEO;case 3:return a.BOARDS;case 4:return a.USERS;default:return null}},o=e=>{switch(e){case a.PINS_MINE:return 107;case a.PINS_BUYABLE:return 254;case a.PINS_VIDEO:return 3306;case a.BOARDS:return 44;case a.USERS:return 45;case a.MY_CONTENT:return 189;case a.PINS:default:return 43}},s=e=>{switch(e){case a.PINS:return 60;case a.PINS_MINE:case a.MY_CONTENT:return 63;case a.PINS_BUYABLE:return 3800;case a.PINS_VIDEO:return 64;case a.BOARDS:return 61;case a.USERS:return 62;default:return null}},d=(e,i)=>{if(i)switch(e){case a.USERS:return 1000392;case a.PINS_BUYABLE:return 1000391;case a.PINS:default:return 29}switch(e){case a.USERS:return 1000432;case a.PINS_BUYABLE:return 1000433;case a.PINS:default:return 1000269}}},446077:(e,i,l)=>{l.d(i,{H5:()=>g,Xn:()=>m,an:()=>_});var a=l(739425);let n="BING",t="GOOGLE",r="YAHOO",o="YANDEX",s="RAKUTEN",d="NAVER",u="AMP_CACHE",c="DUCKDUCKGO",p=[t,n,r,o,s,d,u,c];function m(e){return p.includes(function(e){let{hostname:i}=(0,a.Qc)(e,!0);if(i&&e){if(i.includes("google.")||e.includes("android-app://com.google.android.googlequicksearchbox"))return t;if(i.includes("bing."))return n;if(i.includes("yahoo."))return r;if(i.includes("yandex."))return o;else if(i.includes("rakuten."))return s;else if(i.includes("naver."))return d;else if(i.includes("duckduckgo."))return c;else if(i.includes(".cdn.ampproject.org"))return u}return""}(e))}function _(e){return e||"undefined"!=typeof document&&document.referrer||""}let g=e=>{let i=new URL(e);return i.searchParams.set("nii","t"),i.href}},671915:(e,i,l)=>{l.d(i,{Z:()=>s,t:()=>d});var a=l(667294),n=l(167912),t=l(690108);function r(e,i,l){var a;return(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var a=l.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?a:String(a))in e?Object.defineProperty(e,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[i]=l,e}let o={};class s extends a.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){let{invite_code:e}=this.props;t.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then(i=>{if(i&&i.resource_response){let l=i.resource_response.data;o[e]=l,this.setState({invite:l,loaded:!0})}}).catch(()=>{this.setState({invite:null,loaded:!0})})}render(){let{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}class d extends a.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){let{invite_code:e,relayEnvironment:i,inviteQuery:l}=this.props;(0,n.fetchQuery)(i,l,{invite_code:e}).subscribe({next:e=>{var i;if(null!==(i=e.v3GetInviteCodeQuery)&&void 0!==i&&i.data){let i=e.v3GetInviteCodeQuery;this.setState({invite:i,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){let{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}},938818:(e,i,l)=>{l.d(i,{Qy:()=>d,Wu:()=>c,ZP:()=>u});var a=l(616550),n=l(883119),t=l(282802),r=l(739425),o=l(802071),s=l(785893);let d=()=>{let e=(0,o.Z)(),{isInternalIP:i}=(0,t.B)(),l=(0,a.useLocation)();return(i||e.isAuth&&e.isEmployee)&&Object.keys((0,r.mB)(l.search)).some(e=>e.startsWith("deb_"))};function u({data:e}){return(0,s.jsx)(n.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}let c=e=>(0,s.jsx)(n.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,s.jsx)(u,{...e})})},473183:(e,i,l)=>{l.d(i,{Y:()=>u,Z:()=>c});var a,n=l(667294);l(167912);var t=l(803817);let r=void 0!==a?a:a=l(428132),o=(e,i)=>{var l,a,n,t,r,o,s,d,u,c,p,m,_,g,h,v,y,f,x,b,k;let S=Symbol("SKIP"),P=e=>Object.entries(e).filter(([,e])=>e!==S).reduce((e,[i,l])=>({...e,[i]:l}),{});if("deprecated"!==e.type){let c=e.data;return P({...c.isEligibleForPdpPlus||c.isEligibleForPdp||c.isOosProduct||c.isStaleProduct?{...((e,l,a,n,t,r,o,s,d)=>{if(!i)return{image_count:S,image_index:S};let u=null===(e=c.richMetadata)||void 0===e?void 0:null===(l=e.products)||void 0===l?void 0:l[0];return{is_pdpplus:!0,carousel_image_count:S,brand_signature:(null==u?void 0:null===(a=u.brand)||void 0===a?void 0:a.signature)||S,free_shipping_price:(null==u?void 0:null===(n=u.shippingInfo)||void 0===n?void 0:n.freeShippingPrice)||S,free_shipping_value:(null==u?void 0:null===(t=u.shippingInfo)||void 0===t?void 0:t.freeShippingValue)||S,num_variants:(null==u?void 0:null===(r=u.variantSet)||void 0===r?void 0:null===(o=r.variants)||void 0===o?void 0:o.length)||S,total_dimension_option_count:(null==u?void 0:null===(s=u.variantSet)||void 0===s?void 0:null===(d=s.dimensionMetadata)||void 0===d?void 0:d.length)||S,valid_dimension_option_count:S}})(),pin_show_pdp_oos:!!c.isOosProduct||S,pin_show_pdp_stale:!!c.isStaleProduct||S,pin_show_pdp:!!c.isEligibleForPdp||S}:{},pin_is_shop_the_look:!!(null!==(l=c.shoppingFlags)&&void 0!==l&&l.includes(2)||null!==(a=c.aggregatedPinData)&&void 0!==a&&a.isShopTheLook)||S,is_available:!!(null!==(n=c.shoppingFlags)&&void 0!==n&&n.includes(1))||S,is_product_pin_v2:!!(null!==(t=c.shoppingFlags)&&void 0!==t&&t.includes(5))||S,is_rich_product_pin:!!(null!==(r=c.shoppingFlags)&&void 0!==r&&r.includes(6))||S,is_organic_product_carousel:S,item_id:((null===(o=c.richSummary)||void 0===o?void 0:null===(s=o.products)||void 0===s?void 0:s[0])||{}).itemId||S,item_set_id:((null===(d=c.richSummary)||void 0===d?void 0:null===(u=d.products)||void 0===u?void 0:u[0])||{}).itemSetId||S,story_pin_id:c.storyPinData?c.storyPinDataId:S})}{let l=e.data;return l?P({...l.is_eligible_for_pdp_plus||l.is_eligible_for_pdp||l.is_oos_product||l.is_stale_product?{...((e,a,n,t,r,o,s,d,u,c,p,m,_,g,h)=>{let v=null===(e=l.rich_metadata||l.rich_summary)||void 0===e?void 0:null===(a=e.products)||void 0===a?void 0:a[0],y=null!=v&&null!==(n=v.additional_images)&&void 0!==n&&n.length?{imageCount:(l.images?1:0)+v.additional_images.length,imageIndex:(null===(t=l.carousel_data)||void 0===t?void 0:t.index)||0}:l.carousel_data&&{imageCount:null===(r=l.carousel_data.carousel_slots)||void 0===r?void 0:r.length,imageIndex:l.carousel_data.index};if(!i)return y?{image_count:y.imageCount,image_index:y.imageIndex}:{};let f=null===(o=l.rich_metadata)||void 0===o?void 0:null===(s=o.products)||void 0===s?void 0:s[0],x=null!==(d=null==f?void 0:null===(u=f.variant_set)||void 0===u?void 0:u.variants)&&void 0!==d?d:[];return{is_pdpplus:!0,carousel_image_count:y?y.imageCount:S,brand_signature:(null==f?void 0:null===(c=f.brand)||void 0===c?void 0:c.signature)||S,free_shipping_price:(null==f?void 0:null===(p=f.shipping_info)||void 0===p?void 0:p.free_shipping_price)||S,free_shipping_value:(null==f?void 0:null===(m=f.shipping_info)||void 0===m?void 0:m.free_shipping_value)||S,num_variants:x.length||S,total_dimension_option_count:(null==f?void 0:null===(_=f.variant_set)||void 0===_?void 0:null===(g=_.dimension_metadata)||void 0===g?void 0:g.length)||S,valid_dimension_option_count:((null==f?void 0:null===(h=f.variant_set)||void 0===h?void 0:h.dimension_metadata)||[]).reduce((e,{name:i,values:l})=>e+(i&&l||[]).filter(e=>x.some(l=>{var a;return(null===(a=l.dimensions)||void 0===a?void 0:a[null!=i?i:""])===e})).length,0)||S}})(),pin_show_pdp_oos:!!l.is_oos_product||S,pin_show_pdp_stale:!!l.is_stale_product||S,pin_show_pdp:!!l.is_eligible_for_pdp||S}:{},pin_is_shop_the_look:!!(null!==(c=l.shopping_flags)&&void 0!==c&&c.includes(2)||null!==(p=l.aggregated_pin_data)&&void 0!==p&&p.is_shop_the_look)||S,is_available:!!(null!==(m=l.shopping_flags)&&void 0!==m&&m.includes(1))||S,is_product_pin_v2:!!(null!==(_=l.shopping_flags)&&void 0!==_&&_.includes(5))||S,is_rich_product_pin:!!(null!==(g=l.shopping_flags)&&void 0!==g&&g.includes(6))||S,is_organic_product_carousel:!!(null!==(h=l.shopping_flags)&&void 0!==h&&h.includes(10)||((null===(v=l.product_pin_data)||void 0===v?void 0:null===(y=v.items)||void 0===y?void 0:y[0])||{}).additional_images)||S,item_id:((null===(f=l.rich_summary)||void 0===f?void 0:null===(x=f.products)||void 0===x?void 0:x[0])||{}).item_id||S,item_set_id:((null===(b=l.rich_summary)||void 0===b?void 0:null===(k=b.products)||void 0===k?void 0:k[0])||{}).item_set_id||S,story_pin_id:l.story_pin_data?l.story_pin_data_id:S}):{}}},s=e=>0===Object.keys(e).length?{}:{commerce_data:JSON.stringify(e)},d=e=>{let{childDataKey__DEPRECATED:i}=(0,t.Zm)(r,null==e?{type:"deprecated",data:null}:e,{useGraphQLAdapter:e=>e,useLegacyAdapter:e=>e}),l=(0,n.useRef)(i);return(0,n.useEffect)(()=>{l.current=i}),(0,n.useCallback)(e=>s({...null==e?void 0:e.default,...o(l.current,!!(null!=e&&e.isPdpPlus)),...null==e?void 0:e.override}),[])},u=({children:e,pinKey:i})=>e(d(i)),c=d},187768:(e,i,l)=>{l.d(i,{K:()=>r,T:()=>o});var a=l(667294),n=l(785893);let t=(0,a.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),r=()=>(0,a.useContext)(t);function o({children:e}){let[i,l]=(0,a.useState)(Object.freeze({})),r=(0,a.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>i[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:a})=>l({...i,[e]:a})}),[i]);return(0,n.jsx)(t.Provider,{value:r,children:e})}},827192:(e,i,l)=>{l.r(i),l.d(i,{default:()=>i$,pinRepPaddingInBoint:()=>iL});var a,n,t,r,o,s,d,u=l(667294),c=l(702664),p=l(167912),m=l(616550),_=l(883119),g=l(40660),h=l(521262),v=l(563962),y=l(117651),f=l(402833),x=l(604094),b=l(765456),k=l(803817),S=l(536042),P=l(630089),w=l(525571),I=l(958083),j=l(624417),F=l(740494),T=l(465991),C=l(245410),A=l(950695),D=l(895200),E=l(282802),K=l(643183),L=l(446077),z=l(98736),R=l(618569),N=l(938818),M=l(549201),Z=l(272109),O=l(567648),B=l(873610),U=l(768865),H=l(843843),$=l(328939),q=l(480462),W=l(348597),V=l(230910),Y=l(836),G=l(261453),Q=l(411224),X=l(493214),J=l(870243),ee=l(988014),ei=l(460914),el=l(107877),ea=l(951202),en=l(341027),et=l(785893);let er=({data:{pinProduct:{maxPrice:e,minPrice:i,standardPrice:l,price:a},domain:n}})=>(0,et.jsxs)(u.Fragment,{children:[n&&(0,et.jsx)(_.xv,{color:"default",size:"100",children:n}),(0,et.jsx)(_.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:(0,et.jsx)(ea.Z,{textSize:"100",currentPrice:(0,en.Z)({maxPrice:e,minPrice:i,price:a}),originalPrice:l})})]}),eo=void 0!==a?a:a=l(788536);function es({pinKey:e}){var i,l,a;let{data:n}=(0,k.sr)(eo,e,{type:"pin",useLegacyAdapter:e=>({linkDomain:e.link_domain&&{__typename:"Domain"},richMetadata:e.rich_metadata&&{recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}}))},richSummary:e.rich_summary&&{siteName:e.rich_summary.site_name,products:e.rich_summary.products&&e.rich_summary.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}}))}})});if(!n)return null;let t=(0,V.kb)({hasLinkDomain:!!n.linkDomain,richMetadata:n.richMetadata&&{recipe:n.richMetadata.recipe&&{fromAggregatedData:n.richMetadata.recipe.fromAggregatedData},products:(null!==(i=n.richMetadata.products)&&void 0!==i?i:[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))},richSummary:n.richSummary&&{products:(null!==(l=n.richSummary.products)&&void 0!==l?l:[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))}});return t&&t.price?(0,et.jsx)(er,{data:{pinProduct:t,domain:null===(a=n.richSummary)||void 0===a?void 0:a.siteName}}):null}var ed=l(510336),eu=l(333741);let ec=void 0!==n?n:n=l(991102),ep=(0,u.lazy)(()=>l.e(26162).then(l.bind(l,121326))),em=({title:e})=>{let i=(0,M.HG)(),l=(0,R.Z)();return(0,et.jsx)(_.xu,{"data-test-id":"related-pins-title",children:(0,et.jsx)(_.iP,{onTap:()=>{l({action:"click",item:"related-pins-title"})},children:(0,et.jsx)(X.Z,{size:i?"300":"100",weight:"bold",lineClamp:2,children:e})})})},e_=({credits:e,data:i,hasAffiliatedProducts:l,hidePinMetadata:a,isPromotedPin:n,isSponsoredPin:t,logCreditsClick:r,marginTop:o,pinDescription:s,pinGraphqlRef:d,pinId:c,pinnedToBoardId:p,pinReactionCounts:g,recipeReview:h,shouldShowReactions:v,showPriceIndicatorInPinCardDetails:y,title:f,type:b})=>{var k,P,w,I,j,F,T,C,A;let D=(0,S.ZP)(),L=(0,m.useLocation)(),N=(0,R.Z)(),{isAuthenticated:Z}=(0,E.B)(),O=(0,M.HG)(),B=(0,m.useHistory)(),U=f||s||"oneTap"===b,{pinner:H}=i,$=(0,el.gC)()(p||String(null===(k=i.board)||void 0===k?void 0:k.entityId)),q=n&&(null===(P=i.promoter)||void 0===P?void 0:P.entityId)===(null===(w=i.nativeCreator)||void 0===w?void 0:w.entityId),W=ee.Q0?2:o||(U&&!a?1:0);return(0,et.jsxs)(_.xu,{flex:"grow",children:[(0,et.jsx)(_.xu,{display:"flex",marginTop:a?0:o||1,children:(0,et.jsxs)(_.xu,{flex:"grow",children:[(t||l)&&!q&&(0,et.jsx)(_.xu,{marginBottom:1,children:(0,et.jsx)(_.xu,{flex:"grow",overflow:"hidden",children:(0,et.jsx)(ed.Z,{hasAffiliatedProducts:l,isPromoted:n,sponsorName:i.sponsorship?(0,et.jsx)(_.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(I=i.sponsorship)||void 0===I?void 0:I.status})})}),f&&(0,et.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:!a&&(0,et.jsx)(em,{title:f})}),O&&!Z&&s&&!(0,ee.$Y)(L)&&!(0,ee.E0)(L)&&(0,et.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,et.jsx)(_.iP,{onTap:()=>{N({action:"click",item:"related-pins-description"})},children:(0,et.jsx)(_.xv,{size:"100",inline:!0,children:s})})}),y&&(0,et.jsx)(es,{pinKey:d?{type:"graphqlRef",data:d}:{type:"deprecated",data:c}}),h]})}),v&&g&&Object.keys(g).length>0&&(0,et.jsx)(_.xu,{height:18,display:void 0,justifyContent:"center",children:(0,et.jsx)(x.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,et.jsx)(K.Z,{children:(0,et.jsx)(ep,{pinReactionCounts:g})})})}),!y&&e?(0,et.jsx)(ei.Z,{onTouch:i=>{i.stopPropagation(),i.preventDefault(),e.link&&B.push(e.link),r()},pressState:"none",children:(0,et.jsx)(_.xu,{children:(!a||t||q)&&(0,et.jsxs)(_.xu,{display:"flex",marginTop:W,marginBottom:a?2:0,position:"relative",direction:"row",children:[(0,et.jsx)(_.xu,{flex:"none",display:void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,et.jsx)(_.iP,{onTap:()=>{N({action:"click",item:"related-pins-avatar-image"})},children:(0,et.jsx)(J.qE,{accessibilityLabel:e.title||e.subtitle||D._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,et.jsx)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,et.jsx)(_.iP,{onTap:()=>{N({action:"click",item:"related-pins-name"})},children:(0,et.jsxs)(u.Fragment,{children:[e.title&&(0,et.jsx)(_.xv,{lineClamp:1,size:"100",weight:t&&!q||l?"normal":"bold",children:e.title===(null==H?void 0:H.fullName)&&(null!=H&&H.isVerifiedMerchant||null!=H&&null!==(j=H.verifiedIdentity)&&void 0!==j&&j.verified)?(0,et.jsx)(eu.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:H.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!t&&!a||q)&&(0,et.jsx)(_.xv,{lineClamp:t||l?void 0:1,size:O?"200":"100",weight:O?"bold":"normal",children:e.subtitle}):!Z&&$&&"protected"!==$.privacy?(0,et.jsx)(_.xu,{"data-test-id":"related-pin-text-below-name",children:(0,et.jsx)(_.rU,{underline:"hover",href:null!==(F=$.url)&&void 0!==F?F:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),N({action:"click",item:"related-pin-text-below-name"})},children:(0,et.jsx)(_.xv,{size:"200",children:$.name})})}):null]})})})]})})}):O&&!!H&&((0,ee.L6)(L)||(0,ee.cD)(L)||(0,ee.$Y)(L))&&(0,et.jsxs)(_.xu,{display:"flex",marginTop:U?2:0,children:[(0,et.jsx)(_.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,et.jsx)(_.iP,{onTap:()=>{N({action:"click",item:"related-pins-avatar-image"})},children:(0,et.jsx)(J.qE,{name:H.username||"",size:"sm",src:null!==(T=H.imageSmallUrl)&&void 0!==T?T:void 0})})}),(0,et.jsxs)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,et.jsx)(_.rU,{underline:"hover",href:`/${H.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_board"),N({action:"click",item:"related-pins-name"})},children:(0,et.jsx)(_.xv,{size:"200",weight:"bold",children:H.fullName||H.username})}),$&&"protected"!==$.privacy?(0,et.jsx)(_.xu,{"data-test-id":"related-pin-text-below-name",children:(0,et.jsx)(_.rU,{underline:"hover",href:null!==(C=$.url)&&void 0!==C?C:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),N({action:"click",item:"related-pin-text-below-name"})},children:(0,et.jsx)(_.xv,{size:"200",children:null!==(A=$.name)&&void 0!==A?A:""})})}):null]})]})]})},eg=e=>{let{pinId:i,pinGraphqlRef:l}=e,{data:a,childDataKey__DEPRECATED:n}=(0,k.sr)(ec,l?{type:"graphqlRef",data:l}:{type:"deprecated",data:i},{type:"pin",useLegacyAdapter:e=>({entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status}})});return a&&(0,et.jsx)(e_,{...e,data:a,pinGraphqlRef:"graphqlRef"===n.type?n.data:null})};var eh=l(792953),ev=l(671915);let ey=void 0!==t?t:t=l(441959),ef=(e,i)=>{let l=(0,p.useRelayEnvironment)();return(0,et.jsx)(ev.t,{invite_code:e,relayEnvironment:l,inviteQuery:ey,children:e=>{let l=null!=e&&e.data?e.data.sender:null,a=l&&l.first_name?l.first_name.substring(0,30):"";if(!a)return null;let n=l&&!l.is_default_image?l.image_medium_url:"",t=(0,P.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:a});return(0,et.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,et.jsx)(_.zd,{height:32,width:32,children:(0,et.jsx)(J.qE,{name:a,src:n})}),(0,et.jsx)(_.xu,{width:"80%",paddingY:2,children:(0,et.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}})},ex=(e,i)=>(0,et.jsx)(ev.Z,{invite_code:e,children:e=>{let l=e?e.sender:null,a=l&&l.first_name?l.first_name.substring(0,30):"";if(!a)return null;let n=l&&!l.is_default_image?l.image_medium_url:"",t=(0,P.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:a});return(0,et.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,et.jsx)(_.zd,{height:32,width:32,children:(0,et.jsx)(J.qE,{name:a,src:n})}),(0,et.jsx)(_.xu,{width:"80%",paddingY:2,children:(0,et.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}}),eb=(e,i)=>{let{checkExperiment:l}=(0,C.F)(),a=l("graphql_migration_sharelink_sgrowth_web").anyEnabled;return a?ef(e,i):ex(e,i)},ek=({inviteCode:e})=>{let i=(0,S.ZP)();return(0,et.jsx)(_.xu,{minHeight:82,children:(0,et.jsx)(x.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,et.jsx)(K.Z,{fallback:(0,et.jsx)(eh.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:eb(e,i)})})})};var eS=l(388011),eP=l(570476),ew=l(448709),eI=l(898252),ej=l(176172),eF=l(700746),eT=l(348672),eC=l(550140),eA=l(63262),eD=l(739425),eE=l(994405),eK=l(169492),eL=l(624524),ez=l(471819),eR=l(527386),eN=l(724097),eM=l(922204),eZ=l(260070),eO=l(712968),eB=l(648575),eU=l(252315);let eH=new _.Ry(1);function e$({buttonText:e,clientTrackingParams:i,color:l="primary",deeplinkUri:a,experience:n,inline:t=!0,minWidth:r,onTouch:o,onUnsave:s,pinId:d,pinnedToBoardId:p,shape:g,shouldShowSavedButton:h,viewType:y,viewParameter:f,showSaveHandoffExperience:x}){var b;let k=(0,S.ZP)(),P=(0,c.useDispatch)(),w=(0,m.useHistory)(),I=(0,m.useLocation)(),j=(0,eU.M)(),F=I.pathname.startsWith("/pin"),T=(0,c.useSelector)(({session:e})=>e.hasSavedUnauthPin),A=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),D=null===(b=(0,eO.Tt)())||void 0===b?void 0:b.pin_count,E=(0,v.Z)(),K=(0,R.Z)(),{checkExperiment:L}=(0,C.F)(),z=(0,eR.be)(),N=e=>w.push(e),{showToast:M,showRepinConfirmation:Z}=(0,eM.Z)(),O=()=>{var e;P((0,eB.Z)({checkExperiment:L,history:w,i18n:k,logContextEvent:E,onSuccess:()=>{n&&P(z(n.placement_id,n.experience_id))},originalPinId:d,pinId:d,trackingParams:{clientTrackingParams:i,pinnedToBoardId:p},showRepinConfirmation:x&&!F?()=>void 0:Z,disableRepinAnimation:A===d,pinCount:D,historyPush:N,savePinId:null!==(e=null==j?void 0:j.save)&&void 0!==e?e:()=>{}})).catch(e=>M(({hideToast:i})=>(0,et.jsx)(eC.ZP,{type:"error",text:e.message||k._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i})))},B=(0,u.useRef)(null),U=x&&!T,$=(0,ez.Z)(),q=$({fn:e=>{e.stopPropagation(),e.preventDefault(),o&&o(e),h?h&&s&&s():O()},modalHeader:(0,eL.Bx)(k)});(0,u.useEffect)(()=>{U&&!B.current&&(K({action:"trigger",item:"unauth-save-button-quicksave"}),E({event_type:14581}),O(),P((0,eZ.e2)())),B.current=U});let W=()=>k._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),V=()=>e||k._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return T&&!F?null:(0,et.jsx)(_.xu,{"data-test-id":"save-button-mobile",zIndex:eH,children:a?(0,et.jsx)(H.di,{accessibilityLabel:W(),color:l,customStyles:{padding:"14px 16px"},deeplinkUri:a,inline:t,minHeight:48,minWidth:r,onTouch:q,pressState:["compress","background"],shape:g,size:"lg",text:V(),to:w.location.pathname,upsellType:"save",viewType:y,viewParameter:f}):(0,et.jsx)(eN.Z,{accessibilityLabel:W(),color:l,customStyles:{padding:"14px 16px"},inline:t,minHeight:48,minWidth:r,onTouch:q,pressState:"compress",shape:g,size:"300",text:V()})})}var eq=l(86829),eW=l(540459),eV=l(77875),eY=l(503973);function eG(e,i,l){var a;return(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var a=l.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?a:String(a))in e?Object.defineProperty(e,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[i]=l,e}class eQ extends u.PureComponent{constructor(...e){var i;super(...e),i=this,eG(this,"state",{saveState:void 0}),eG(this,"legoFixedZIndex",new _.Ry(2)),eG(this,"onAddPin",async function(){let{clientTrackingParams:e,checkExperiment:l,dispatch:a,i18n:n,oneTapSave:t,pinId:r,pinnedToBoardId:o,showToast:s,viewType:d,historyPush:u,repinContext:c}=i.props;try{var p;let n=await a((0,eV.w)({checkExperiment:l,i18n:i.props.i18n,logContextEvent:i.props.logContextEvent,originalPinId:r,pinId:r,boardId:null==t?void 0:t.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==t?void 0:t.section,showToast:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:o},viewType:d,historyPush:u,savePinId:null!==(p=null==c?void 0:c.save)&&void 0!==p?p:()=>{}}));i.setState({saveState:"saved"}),a((0,eq.a)({boardId:null==t?void 0:t.boardId,localPinId:n.id,pinId:r}))}catch(e){s(({hideToast:i})=>(0,et.jsx)(eC.ZP,{type:"error",text:e.message||n._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:i})),i.setState({saveState:void 0})}}),eG(this,"onDeletePin",async function(){let{dispatch:e,clientTrackingParams:l,i18n:a,pinId:n,savedInfo:t,showToast:r,repinContext:o}=i.props;if(t){e((0,eq.k)({boardId:t.boardId,localPinId:t.localPinId,pinId:n})),null==o||o.unsave(n);try{await e((0,eW.q)({pinId:t.localPinId,boardId:t.boardId,clientTrackingParams:l})),r(({hideToast:e})=>(0,et.jsx)(eC.ZP,{text:a._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e})),i.setState({saveState:void 0})}catch(e){r(({hideToast:e})=>(0,et.jsx)(eC.ZP,{type:"error",text:a._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e})),i.setState({saveState:"saved"})}}}),eG(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();let{saveState:i}=this.state,{history:l,pinId:a,isOneTapExploreLocalTab:n,pinnedToBoard:t,directSaveExpGroup:r,oneTapSave:o}=this.props,s=r.includes("overlay");["saving","deleting"].includes(i)||n&&t||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),n||!o&&s?l.push({pathname:`/pin/${a}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,eL.Bx)(this.props.i18n)})),eG(this,"shouldDisplayAsSaved",({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:l})=>e?!!i:!!l)}render(){let{children:e,clientTrackingParams:i,directSaveExpGroup:l,homepageExperience:a,i18n:n,isBoardIdeas:t,isOneTapExploreLocalTab:r,isRTL:o,oneTapSave:s,pinId:d,pinnedToBoard:c,pinnedToBoardId:p,savedInfo:m,shouldShowSaveHandoffExp:g}=this.props,h=l.includes("overlay");if(!s&&!r&&!g&&!h)return e;let v=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!r,pinnedToBoard:c,savedInfo:m}),y={saved:"#000",unsaved:"rgba(255, 255, 255, 0.8)",savedText:"light",unsavedText:"dark"},f=v?(0,et.jsx)(_.xv,{weight:"bold",color:"light",children:n._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,et.jsx)(_.xv,{weight:"bold",color:"dark",children:n._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')}),x=null,b=l.includes("uselabel");return g?x=(0,et.jsx)(e$,{buttonText:c?n._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:i,color:c?"default":"primary",deeplinkUri:"deeplinkUri",experience:a,inline:!0,pinnedToBoardId:p,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!c,showSaveHandoffExperience:g}):s?x=(0,et.jsx)(_.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,et.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:v?y.saved:y.unsaved}},paddingX:2,paddingY:2,rounding:"circle",children:(0,et.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,et.jsx)(_.JO,{accessibilityLabel:v?n._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):n._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:v?"check":t?(0,eY.f)():"add",color:v?y.savedText:y.unsavedText,size:16})})})}):h&&(x=(0,et.jsx)(_.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,et.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:v?y.saved:y.unsaved}},paddingX:b?3:2,paddingY:2,rounding:b?"pill":"circle",children:(0,et.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:b?f:(0,et.jsx)(_.JO,{accessibilityLabel:v?n._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):n._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:v?"check":(0,eY.f)(),color:v?y.savedText:y.unsavedText,size:16})})})})),(0,et.jsxs)(u.Fragment,{children:[e,(0,et.jsx)(_.xu,{bottom:!0,left:o,padding:2,position:"absolute",right:!o,zIndex:this.legoFixedZIndex,children:x})]})}}function eX(e){let{showToast:i}=(0,eA.F9)(),l=(0,m.useLocation)(),a=(0,S.ZP)(),n=(0,v.Z)(),t=(0,ez.Z)(),r=(0,c.useDispatch)(),o=(0,m.useHistory)(),{isRTL:s,isAuthenticated:d}=(0,E.B)(),p=(0,eU.M)(),_=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),g=d&&!!_&&_===e.pinId,{pins:h,clear:y}=(0,eK.Z)(),f=(0,u.useRef)(!1),x=(0,eD.mB)(l.search),b=x.ideas_referrer,k=(0,M.HG)(),{checkExperiment:P}=(0,C.F)(),w=(0,eE.J1)(),I=!k&&b===String(25),j=e=>o.push(e),F=(0,c.useSelector)(i=>i.pins[e.pinId]&&i.pins[e.pinId].savedInfo),T=(0,c.useSelector)(i=>i.pins[e.pinId]&&i.pins[e.pinId].pinned_to_board),A=(0,c.useSelector)(e=>e.experiences[40001]);return(0,Z.Z)(()=>{d&&!f.current&&h.length>0&&(f.current=!0,n({event_type:14577,aux_data:{num_unauth_saved_pins:h.length}}),[...h,..._&&P(w).anyEnabled?[{id:_}]:[]].forEach(({id:i})=>{var l;r((0,eB.Z)({checkExperiment:P,history:o,i18n:a,logContextEvent:n,onSuccess:()=>{},originalPinId:i,pinId:i,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>void 0,disableRepinAnimation:!0,historyPush:j,savePinId:null!==(l=null==p?void 0:p.save)&&void 0!==l?l:()=>{}})).catch(e=>{(0,z.My)(`error.unauth_profile_pin_merge.${e}`)})}),y())}),(0,et.jsx)(eQ,{...e,checkExperiment:P,i18n:a,requireAuthForLimitedLogin:t,history:o,logContextEvent:n,showToast:i,shouldShowSaveHandoffExp:g,isRTL:s,historyPush:j,useSmallSaveIcon:I,repinContext:p,savedInfo:F,pinnedToBoard:T,homepageExperience:A,dispatch:r})}eX.displayName="OneTapSave";var eJ=l(310131);let e0=({index:e,carouselSlots:i,imageSpec:l,color:a,onError:n,onLoad:t})=>(0,et.jsx)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:i.map((i,r)=>{var o,s,d;let{slotId:u,title:c,details:p,imageSizeMap:m}=i,g=m?m[l]:null,h=g&&null!==(o=g.url)&&void 0!==o?o:"";return(0,et.jsx)(_.xu,{minWidth:"100%",dangerouslySetInlineStyle:{__style:{transform:`translate(${-100*e}%, 0%)`,transition:"transform 0.25s ease-in-out"}},"data-test-id":`carousel-swiper-${null!=u?u:r}`,children:(0,et.jsx)(eP.Z,{alt:c||p||"",color:a,naturalHeight:null!==(s=null==g?void 0:g.height)&&void 0!==s?s:1,naturalWidth:null!==(d=null==g?void 0:g.width)&&void 0!==d?d:1,onError:n,onLoad:t,src:h,loading:"auto",fetchPriority:"auto"},null!=u?u:r)},null!=u?u:r)})});var e1=l(55193),e2=l(371362);function e3({boardUrl:e,boardName:i,directSaveExpGroup:l,isQuicksave:a,sectionName:n,sectionSlug:t}){let r=(0,S.ZP)(),o=(0,m.useHistory)(),s=new _.Ry(1),d=!!t&&`${e}${t}/`;return l.includes("footer")?(0,et.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,et.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:l.includes("overlay")?0:4,children:(0,et.jsx)(_.iP,{onTap:i=>{i.event.preventDefault(),o.push(a?"/me/":d||e)},children:(0,et.jsx)(_.xu,{position:"absolute",bottom:!0,left:!0,right:!0,marginStart:4,marginBottom:4,marginEnd:4,children:(0,et.jsxs)(_.xu,{position:"relative",children:[(0,et.jsx)(_.xu,{children:(0,et.jsx)(_.xv,{color:"light",children:r._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin')})}),(0,et.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:[(0,et.jsx)(_.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:(0,et.jsx)(_.xv,{color:"light",children:n?(0,P.nk)(r._('{{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay, sectionName:the section name that the pin is saved to'),{sectionName:(0,et.jsx)(_.xv,{color:"light",weight:"bold",inline:!0,children:(0,e2.ZP)(n,22)},`pincard-${n}`)}):(0,P.nk)(r._('{{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay, boardName:the board name that the pin is saved to'),{boardName:(0,et.jsx)(_.xv,{color:"light",weight:"bold",inline:!0,children:a?r._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,e2.ZP)(i,22)},`pincard-${i}`)})})}),(0,et.jsx)(_.xu,{position:"absolute",right:!0,bottom:!0,marginBottom:1,children:(0,et.jsx)(_.JO,{accessibilityLabel:r._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin'),icon:"arrow-forward",size:"16",color:"light"})})]})]})})})})}):l.includes("overlay")?(0,et.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,children:(0,et.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:l.includes("overlay")?0:4,children:(0,et.jsx)(_.iP,{fullWidth:!0,fullHeight:!0,onTap:i=>{i.event.preventDefault(),o.push(a?"/me/":d||e)}})})}):(0,et.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,et.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:l.includes("overlay")?0:4,children:(0,et.jsx)(_.iP,{onTap:i=>{i.event.preventDefault(),o.push(a?"/me/":d||e)},children:(0,et.jsx)(_.xv,{color:"light",children:n?(0,P.nk)(r._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,et.jsx)(_.xv,{color:"light",weight:"bold",inline:!0,children:(0,e2.ZP)(n,22)},`pincard-${n}`)}):(0,P.nk)(r._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,et.jsx)(_.xv,{color:"light",weight:"bold",inline:!0,children:a?r._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,e2.ZP)(i,22)},`pincard-${i}`)})})})})})}var e6=l(391670),e4=l(51536);let e8=({clickLoggingOptions:e,domain:i,link:l,onClick:a})=>{var n;let t=null===(n=(0,e6.lO)())||void 0===n?void 0:n.logging,r=(0,S.ZP)(),o=(0,v.Z)(),s=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:{}}].map(i=>({component:0,element:162,view_type:null==t?void 0:t.viewType,view_parameter:null==t?void 0:t.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i}));return(0,et.jsx)(_.iP,{onTap:({event:e})=>{e.stopPropagation(),s().forEach(e=>o(e)),a(e)},children:(0,et.jsxs)(_.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,et.jsx)(_.xu,{marginEnd:1,children:(0,et.jsx)(_.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:r._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,et.jsx)("a",{href:l,onClick:e=>{e.stopPropagation(),s().forEach(e=>o(e)),a(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,et.jsx)(_.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,e4.Z)(i,27)})})]})})},e7=({domainLinkData:e})=>{let i=(0,S.ZP)(),l=(0,f.g)();return(0,et.jsxs)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,et.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,et.jsx)(_.X6,{size:"400",align:"center",color:"light",children:i._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,et.jsx)(_.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,et.jsx)(e8,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==l?void 0:l.pinLinkClickHandler)||(()=>{})})})]})};var e9=l(698303),e5=l(525104),ie=l(935340),ii=l(738162);let il=void 0!==r?r:r=l(182964),ia="Left",it="Right",ir=({width:e,height:i,minY:l,maxY:a})=>{let n=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:l<=0?"0%":n(-1*l*i),bottom:a>=1?"0%":n(-((1-a)*1)*i)}},io=({children:e,margin:i,disableRounding:l})=>(0,et.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,et.jsx)(_.zd,{wash:!0,rounding:l?0:ej.mv,children:e})}),is=({clientTrackingParams:e,color:i,data:l,description:a,directSaveExpGroup:n,domainLinkData:t,image:r,imageAltText:o,imageCrop:s,isBoardIdeas:d,isOneTapExploreLocalTab:c,isSquarePin:p,lazyLoadImage:g,onError:h,oneTapSave:v,onLoad:f,pinId:x,priorityFetchImage:b,disableDefaultContextMenu:k,pinnedToBoardId:P,productPrice:w,disableRounding:I,storyDataExists:j,title:F,type:T,videoDuration:A,viewType:D,slotIndex:K,isPromotedPin:L,setIsLongPressEnabledForAuth:N,childDataKey__DEPRECATED:Z,setCarouselIndex:O,carouselIndex:B,viewParameter:U})=>{var H,$,q,W,V,Y,G,Q,X,J,ei,el,ea,en;let er=(0,S.ZP)(),eo=(0,eT.Z)(),{checkExperiment:es}=(0,C.F)(),[ed,eu]=(0,u.useState)(!1),[ec,ep]=(0,u.useState)(!1),{isAuthenticated:em}=(0,E.B)(),e_=(0,M.ZP)(),eg=(0,eU.M)(),eh=P&&!!(null!=eg&&eg.isSaved(x)),ev=t&&t.link?"with-link":"without-link",ey=!em&&"desktop"!==e_,ef=(0,u.useRef)(Date.now()),ex=(0,u.useRef)(null),eb=(0,R.Z)(),{shouldOpenInStream:ek,carouselData:ew,isEligibleForPdp:ej}=l,eC=(0,ii.I)(),{logContextEvent:eA}=(0,eS.v)(),eD=L&&j&&es("ads_mweb_idea_ad").anyEnabled,eE=es("ads_show_carousel_on_mweb").anyEnabled,eK=(0,u.useCallback)(()=>{ec||ep(!0)},[ec]);(0,u.useEffect)(()=>(eE&&"undefined"!=typeof window&&window.addEventListener("scroll",eK),()=>{"undefined"!=typeof window&&window.removeEventListener("scroll",eK)}),[eE,eK]),(0,u.useEffect)(()=>{ed&&!em&&eb({action:"view",item:"unauth-video-autoplay-on-hover"})},[ed,eb,em]),(0,u.useEffect)(()=>{var e,i;let l=`board-image-preload-${K-1}`,a=null!==(e=null===(i=document.getElementById(l))||void 0===i?void 0:i.getAttribute("href"))&&void 0!==e?e:"";eC&&5===D&&a&&(0,ie.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:em,deviceType:e_,isEqual:a===r.url}})},[]);let eL=(0,e1.Z)(Z,"PinCardVisual"),ez=e=>{var i,l,a,n;let t=null!==(i=null==ew?void 0:null===(l=ew.carouselSlots)||void 0===l?void 0:l.length)&&void 0!==i?i:0,r=B;e===ia&&B<t-1?r=B+1:e===it&&B>0&&(r=B-1),O(r),eL({pinId:x,currentIndex:B,nextIndex:r,carouselData:{carouselSlots:null==ew?void 0:null===(a=ew.carouselSlots)||void 0===a?void 0:a.map(({slotId:e})=>({id:e})),entityId:null!==(n=null==ew?void 0:ew.entityId)&&void 0!==n?n:""},viewParameter:U,viewType:D,componentType:14887,isEligibleForPdp:null!=ej&&ej})},eR=(e,i)=>{let l=e.x-i.x,a=e.y-i.y;return Math.abs(l)>Math.abs(a)?l>0?it:ia:a>0?"Down":"Up"},eN=eE&&ew?(0,et.jsx)(_.xu,{display:"flex",marginEnd:1,marginStart:1,marginTop:3,position:"relative",children:(0,et.jsx)(eJ.default,{addEllipsis:!0,ellipsisVariant:"dark",alwaysShowNavigationArrows:!1,carouselIndex:B,carouselData:{carouselSlots:null===(H=ew.carouselSlots)||void 0===H?void 0:H.map(({slotId:e,title:i})=>({id:e,title:i})),entityId:null!==($=ew.entityId)&&void 0!==$?$:"",index:ew.index},handleCarouselSwipe:e=>{O(e)},pinKey:null==Z||"graphqlRef"===Z.type?Z:{type:"deprecated",data:x},viewParameter:U,viewType:D,componentType:14888,hideNavigationArrows:!0})}):null,eM=eE&&ew?(0,et.jsx)(e0,{index:B,carouselSlots:ew.carouselSlots?ew.carouselSlots.map(({slotId:e,details:i,imageSignature:l,title:a,imagesSpec_236x:n})=>({details:i,slotId:e,imageSignature:l,title:a,imageSizeMap:{"236x":{width:null==n?void 0:n.width,height:null==n?void 0:n.height,url:null==n?void 0:n.url}}})):[],imageSpec:"236x",color:i,onError:h,onLoad:f}):(0,et.jsx)(eP.Z,{alt:o||F||a||"",color:i,naturalHeight:null!==(q=r.height)&&void 0!==q?q:1,naturalWidth:null!==(W=r.width)&&void 0!==W?W:1,onError:h,onLoad:f,src:null!==(V=r.url)&&void 0!==V?V:"",fit:p?"cover":void 0,loading:g?"lazy":"auto",fetchPriority:b?"high":"auto"}),eZ=(0,m.useLocation)(),{scope:eO}=(0,m.useParams)(),eB=()=>(0,ee.C$)(eZ)?"homefeed":(0,ee.L6)(eZ)?"related_pins":(0,ee.En)(eZ)?"search":"unknown",eH=()=>(0,ee.C$)(eZ)?92:(0,ee.L6)(eZ)?140:(0,ee.En)(eZ)?(0,eF._R)((0,eF.oD)(eO)):void 0,e$=n.includes("enabled"),eq=e$?!P&&!!(null!=eg&&eg.isSaved(x)):(null===(Y=l.board)||void 0===Y?void 0:Y.layout)==="quick_saves",eW=e$?em&&(eh||eq):em&&eh;return(0,et.jsxs)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:[(0,et.jsxs)(_.xu,{onContextMenu:e=>{if("desktop"!==e_){let i=eB();(0,z.My)(`${em?"auth":"unauth"}.mweb_pin_feed.pin_image.long_press`,{page:i}),(!em||es("mweb_long_press_menu_v2").anyEnabled)&&(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==e_&&(ep(!1),(0,z.My)("unauth.mweb.related_pin.image.touch.start"),(!em||es("mweb_long_press_menu_v2").anyEnabled)&&(null==k||k()),ef.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){let i=e.changedTouches[0];i&&(ex.current={x:i.pageX,y:i.pageY})}},onTouchEnd:e=>{if("desktop"!==e_){let i=eB();(0,z.My)("unauth.mweb.related_pin.image.touch.end");let l=Date.now()-ef.current,a=l>500,n=ex.current;if(e.changedTouches&&e.changedTouches.length>0&&n){let l=e.changedTouches[0],t={x:l.pageX,y:l.pageY},r=eR(t,n),o=Math.pow(l.pageX-n.x,2)+Math.pow(l.pageY-n.y,2);if(!eE||r!==ia&&r!==it||a||ec||(e.preventDefault(),e.stopPropagation(),ez(r)),l&&o>100)return;if(a&&!em&&("related_pins"===i||es("pcons_enable_context_menu_all_feeds").anyEnabled))null==k||k(),eo({pinId:x,location:"related-pins-long-press"}),e.stopPropagation();else if(a&&em){let i=eH();void 0!==i&&es("mweb_long_press_menu_v2").anyEnabled&&(null==k||k(),null==N||N(!0),e.stopPropagation()),eA({event_type:103,view_parameter:eH()})}}}},"data-test-id":`pincard-${T}-${ev}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ey||es("prevent_open_on_hover").anyEnabled?void 0:()=>eu(!0),onMouseLeave:ey?void 0:()=>eu(!1),position:"relative",rounding:I?0:4,children:[(0,et.jsxs)(eX,{clientTrackingParams:e||"",oneTapSave:v,isBoardIdeas:d,isOneTapExploreLocalTab:c,pinId:x,directSaveExpGroup:n,pinnedToBoardId:P,viewType:D,children:[(()=>{var e,i,a,n,t;if("gif"===T&&!eh)return(0,et.jsx)(e9.Z,{text:er._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===T&&A&&!eh)return(0,et.jsx)(e9.Z,{text:A});if("storyPin"===T&&j&&!eh&&!1!==ek){let n=(null===(e=l.storyPinData)||void 0===e?void 0:e.pageCount)||0,t=(null===(i=l.storyPinData)||void 0===i?void 0:i.staticPageCount)||0,r=(null===(a=l.storyPinData)||void 0===a?void 0:a.totalVideoDuration)||0;if(r>0){let e=r+t*eI.oN;return(0,et.jsx)(e9.Z,{text:(0,y.Z)(e)})}if("number"==typeof n&&n>0)return(0,et.jsx)(e9.Z,{icon:"idea-pin",text:n.toString()})}if(eD&&j&&!eh&&!1!==ek&&L){let e=(null===(n=l.storyPinData)||void 0===n?void 0:n.staticPageCount)||0,i=(null===(t=l.storyPinData)||void 0===t?void 0:t.totalVideoDuration)||0;if(i>0){let l=i+e*eI.oN;return(0,et.jsx)(e9.Z,{text:(0,y.Z)(l)})}}return"product"===T&&w?(0,et.jsx)(e9.Z,{text:w}):null})(),(0,et.jsx)(io,{disableRounding:I,margin:s?ir({width:null!==(G=r.width)&&void 0!==G?G:1,height:null!==(Q=r.height)&&void 0!==Q?Q:1,minY:s.minY,maxY:s.maxY}):void 0,children:p?(0,et.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,et.jsx)(_.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:eM})}):eM})]}),ed&&!em&&(0,et.jsx)(e7,{domainLinkData:t}),eW&&(0,et.jsx)(e3,{boardName:null!==(X=null===(J=l.board)||void 0===J?void 0:J.name)&&void 0!==X?X:"",boardUrl:null!==(ei=null===(el=l.board)||void 0===el?void 0:el.url)&&void 0!==ei?ei:"",directSaveExpGroup:n,sectionName:null==v?void 0:null===(ea=v.section)||void 0===ea?void 0:ea.title,sectionSlug:null==v?void 0:null===(en=v.section)||void 0===en?void 0:en.slug,isQuicksave:eq})]}),eN]})},id=(0,ew.Z)({useGraphQLAdapter:e=>{let i=(0,p.useFragment)(il,e);return{pin:i,childDataKey__DEPRECATED:{type:"graphqlRef",data:i}}},useLegacyAdapter:({pinId:e,pinnedToBoardId:i})=>{var l,a;let n=(0,e5.S6)()(e),t=(0,el.gC)();if(!n)return null;let r=t(i||String(null===(l=n.board)||void 0===l?void 0:l.id));return{pin:{board:r&&{layout:r.layout,name:r.name,url:r.url},shouldOpenInStream:n.should_open_in_stream,storyPinData:n.story_pin_data&&{pageCount:n.story_pin_data.page_count,staticPageCount:n.story_pin_data.static_page_count,totalVideoDuration:n.story_pin_data.total_video_duration},carouselData:n&&n.carousel_data?{index:n.carousel_data.index,entityId:n.carousel_data.id||n.id,carouselSlots:null===(a=n.carousel_data.carousel_slots)||void 0===a?void 0:a.map(e=>{var i;return{slotId:e.id,details:e.details,imageSignature:e.image_signature,title:e.title,imagesSpec_236x:(null===(i=e.images)||void 0===i?void 0:i["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width}}})}:null,isEligibleForPdp:n.is_eligible_for_pdp},childDataKey__DEPRECATED:{type:"deprecated",data:n}}}}),iu=e=>(0,et.jsx)(id,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:i})=>i&&(0,et.jsx)(is,{...e,childDataKey__DEPRECATED:i.childDataKey__DEPRECATED,data:i.pin})});var ic=l(649796);let ip={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},im=(e,i,l)=>(0,et.jsx)(_.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,et.jsx)(_.rU,{display:"inlineBlock",href:i,tapStyle:"none",underline:"hover",children:l})},e);function i_({color:e,getFeedbackText:i,margin:l,onUnfollow:a,showing:n,unfollowed:t}){let r=(0,S.ZP)(),[o,s]=(0,u.useState)(n?"fadeIn":"initial"),d=(0,u.useRef)(null),c=(0,v.Z)();(0,u.useEffect)(()=>("initial"===o&&n&&(d.current=window.requestAnimationFrame(()=>s("fadeIn"))),()=>{d.current&&window.cancelAnimationFrame(d.current)}),[o,s,n]);let{subTitle:p,title:m,unfollow:g}=i(im),h=m,y=p;g&&t&&(h=g.title,y=g.subTitle);let f=()=>g?(0,ic.t)(g.action,g.actionOptions,a,c):void 0;return n&&(0,et.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...ip[o]}},margin:l,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,et.jsxs)(_.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,et.jsxs)(_.xu,{"data-test-id":"reported-overlay",padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,et.jsxs)(_.xu,{children:[(0,et.jsx)(_.X6,{size:"400",color:"light",children:h}),!!y&&(0,et.jsxs)(_.xu,{marginTop:1,children:[(0,et.jsx)(_.xv,{color:"light",size:"200",inline:!0,children:y}),(0,et.jsx)(_.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,et.jsx)(_.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:r._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!t&&g&&(0,et.jsx)(_.xu,{paddingY:1,children:(0,et.jsx)(_.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:f})})]}),!t&&g&&(0,et.jsx)(_.xu,{paddingY:1,children:(0,et.jsx)(_.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:f})})]})})}var ig=l(187768);function ih(e){let i=(0,S.ZP)(),{pinId:l,clientTrackingParams:a,directSaveExpGroup:n}=e,t=(0,eU.M)(),r=(0,m.useHistory)(),{showToast:o}=(0,eA.F9)(),s=(0,c.useSelector)(e=>e.pins[l]&&e.pins[l].savedInfo),d=!!(null!=t&&t.isSaved(l))||s,u=(0,c.useDispatch)(),p=n.includes("uselabel"),g=async e=>{if(e.stopPropagation(),e.preventDefault(),d){if(s){u((0,eq.k)({boardId:s.boardId,localPinId:s.localPinId,pinId:l})),null==t||t.unsave(l);try{await u((0,eW.q)({pinId:s.localPinId||"",boardId:s.boardId,clientTrackingParams:a})),o(({hideToast:e})=>(0,et.jsx)(eC.ZP,{text:i._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))}catch(e){o(({hideToast:e})=>(0,et.jsx)(eC.ZP,{type:"error",text:i._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))}}}else r.push({pathname:`/pin/${l}/repin`,state:{isOneTapSave:!0}})},h=d?(0,et.jsx)(_.xv,{weight:"bold",size:"100",children:i._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,et.jsx)(_.xv,{weight:"bold",size:"100",children:i._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')});return p?(0,et.jsx)(_.iP,{onTap:({event:e})=>{g(e)},rounding:"circle",children:(0,et.jsx)(_.xu,{color:"transparent",paddingX:2,paddingY:1,rounding:"pill",children:(0,et.jsx)(_.xu,{children:h})})}):(0,et.jsx)(_.hU,{icon:d?"check":(0,eY.f)(),size:"sm",iconColor:"darkGray",padding:1,accessibilityLabel:d?i._('Undo save', 'PinFooterSaveButton.Unsave', 'String saying "Undo save" after saving a Pin to undo save'):i._('Save', 'PinFooterSaveButton.Save', 'String saying "Save" to ask user to save a pin'),onClick:({event:e})=>{g(e)}})}var iv=l(31407);function iy({maxRating:e,rating:i,text:l}){return(0,et.jsxs)(_.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,et.jsx)(iv.Z,{max_rating:e||"",rating:i||"",width:10}),l&&(0,et.jsx)(u.Fragment,{children:(0,et.jsx)(_.xu,{marginStart:1,overflow:"hidden",children:(0,et.jsx)(_.xv,{size:"100",lineClamp:1,children:l})})})]})}var ix=l(190253),ib=l(141418);let ik=void 0!==o?o:o=l(937711);function iS({dedupeVisualAnnotations:e,description:i,gridTitle:l,pinId:a,richMetadataTitle:n,richSummaryDisplayName:t,storyPinDataId:r,storyPinDataMetadataPinTitle:o,title:s,queryRef:d}){let u=(0,p.useFragment)(ik,d);return(0,et.jsxs)(_.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,et.jsx)(_.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,et.jsx)(_.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,T.fs)({pinTitle:s,gridTitle:l,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:r,storyPinDataMetadataPinTitle:o})||i})}),(0,et.jsx)(_.xu,{children:(0,et.jsx)(ib.Z,{pinId:a,size:"sm",graphqlRef:u,dedupeVisualAnnotations:e})})]})}var iP=l(117918),iw=l(204722);let iI=void 0!==s?s:s=l(143453),ij=({attribute:e,deviceType:i,location:l})=>{let a=(0,R.S)(l);(0,z.My)("unauth.product_attribution.click",{item:e,page:a,device:i})},iF=({isSquarePin:e,price:i,shouldDisplayMerchant:l})=>{if(i&&e)return l?90:68},iT=({maxPrice:e,minPrice:i,price:l})=>e&&i?`${i}-${e}`:l;function iC({dedupeVisualAnnotations:e,description:i,domain:l,graphqlRef:a,gridTitle:n,isSquarePin:t,pinId:r,priceSummary:o,richMetadataTitle:s,richSummaryDisplayName:d,storyPinDataId:c,storyPinDataMetadataPinTitle:p,title:g}){let h=(0,M.ZP)(),v=(0,m.useLocation)(),y=o&&(o.price||o.standardPrice||iT(o)),f=(0,u.useMemo)(()=>t?2:y?3:2,[t,y]);if(!r)return null;let x=(0,T.fs)({pinTitle:g,gridTitle:n,richSummaryDisplayName:d,richMetadataTitle:s,storyPinDataId:c,storyPinDataMetadataPinTitle:p})||i,b=`/pin/${r}/`;return(0,et.jsx)(_.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:iF({isSquarePin:t,price:y}),children:(0,et.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,et.jsx)(_.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,et.jsxs)(H.MZ,{to:b,accessibilityLabel:x,deeplinkUri:b,children:[y&&(0,et.jsx)(_.iP,{onTap:()=>ij({deviceType:h,attribute:"price",location:v}),children:(0,et.jsx)(_.xv,{size:"100",weight:"bold",children:y})}),(0,et.jsx)(_.xu,{marginTop:1,children:(0,et.jsx)(_.iP,{onTap:()=>ij({deviceType:h,attribute:"title",location:v}),children:(0,et.jsx)(_.xv,{size:"100",weight:"bold",lineClamp:f,children:x})})}),l&&y&&(0,et.jsx)(_.xu,{marginTop:1,children:(0,et.jsx)(_.iP,{onTap:()=>ij({deviceType:h,attribute:"merchant",location:v}),children:(0,et.jsx)(_.xv,{size:"100",lineClamp:1,children:l})})})]})}),"desktop"!==h&&(0,et.jsx)(_.xu,{children:(0,et.jsx)(ib.Z,{dedupeVisualAnnotations:e,pinId:r,size:"sm",graphqlRef:a})})]})})}let iA=(0,ew.Z)({useGraphQLAdapter:({queryRef:e})=>(0,p.useFragment)(iI,e),useLegacyAdapter:()=>null});function iD({queryRef:e,...i}){return(0,et.jsx)(iA,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:i.pinId}},children:({data:e})=>(0,et.jsx)(iC,{...i,graphqlRef:e})})}var iE=l(197838);let iK=void 0!==d?d:d=l(256468),iL=({isDesktop:e})=>e?0:1,iz=e=>!!(e.promoter&&!e.isDownstreamPromotion),iR=e=>{let{attribution:i,embed:l,isEligibleForWebCloseup:a,richSummary:n,videos:t,storyPinDataId:r}=e,o=l||(null==i?void 0:i.embed);return a?"oneTap":t||(null==o?void 0:o.type)==="video"?"video":(null==o?void 0:o.type)==="gif"?"gif":(null==n?void 0:n.typeName)==="product"?"product":(null==n?void 0:n.typeName)==="recipe"?"recipe":r?"storyPin":"image"},iN=e=>{let{adDestinationUrl:i,link:l,trackedLink:a}=e;return i||a||l||""},iM=e=>{var i,l,a;let n=null===(i=e.videos)||void 0===i?void 0:i.videoList;return n?(0,y.Z)(null!==(l=null===(a=n[Object.keys(n)[0]])||void 0===a?void 0:a.duration)&&void 0!==l?l:0):""},iZ=e=>{var i;let[l]=(null===(i=e.richSummary)||void 0===i?void 0:i.products)||[];if(!l)return null;let{offerSummary:a}=l;return a&&(a.price||a.maxPrice)},iO=e=>e&&e.includes("/user/default")?void 0:e,iB=(0,u.lazy)(()=>Promise.all([l.e(68138),l.e(21032)]).then(l.bind(l,698147)));function iU({auxData:e,componentType:i,debugInfo:l,disableAppUpsell:a,disableReaction:n,disableRounding:t,duploConversationPin:r,duploDedupeVisualAnnotations:o,duploDisablePinCardPadding:s,duploFeedItemProps:d,duploIsSquarePin:p,duploLazyLoadImage:y,duploOneTapSave:k,duploPinCardDetailsMargin:N,duploPriorityFetchImage:X,duploQueryRef:J,duploShouldAddNiiSearchParamToImageUrls:ee,duploShouldAllowProductPriceIndicator:ei,feedback:el,imageOnlyOption:ea,impressionData:en,objectIdStr:er,pin:eo,slotIndex:es,topLevelTrafficSource:ed,topLevelTrafficSourceDepth:eu,trackingParams:ec,trafficSource:ep,viewData:em,viewParameter:e_,viewType:eh}){var ev,ey,ef,ex,eb,eS,eP,ew,eI,ej,eF,eT,eC,eA,eD,eE,eK,eL,ez,eR;let eN;let eM=(0,S.ZP)(),eZ=(0,f.g)(),eO=(0,m.useLocation)(),eB=(0,M.HG)(),eU=(0,Q.Z)(),eH=(0,A.yz)(),e$=(0,b._)({id:1000107}),eq=(0,v.Z)(),eW=(0,R.Z)(),{country:eV,isAuthenticated:eY,isBot:eG,isSocialBot:eQ}=(0,E.B)(),{viewedSharedPins:eX}=(0,c.useSelector)(({session:e})=>e),eJ=(0,c.useSelector)(({experiences:e})=>{let i=e[1000107];return!!i&&500678===i.experience_id}),e0=(0,c.useSelector)(({session:e,users:i})=>(0,w.Z)(i[e.userId].created_at)),{getPinFeedbackStatus:e1,setPinFeedbackStatus:e2}=(0,ig.K)(),[e3,e6]=(0,u.useState)(!1),[e4,e8]=(0,u.useState)(!1),[e7,e9]=(0,u.useState)(!1),[e5,ie]=(0,u.useState)(null!==(ev=null===(ey=eo.carouselData)||void 0===ey?void 0:ey.index)&&void 0!==ev?ev:0),ii=(0,u.useRef)(),il=(0,O.Z)(),ia=eo.entityId,it=!!eo.storyPinDataId&&!1===eo.shouldOpenInStream,ir=e=>ee&&e?{...e,url:e.url&&(0,L.H5)(e.url)}:e,io=ir(eo.imageSpec_136x136),is=ir(eo.imageSpec_170x),id=ir(eo.imageSpec_236x),ic=ir(eo.imageSpec_474x),ip=ir(eo.imageSpec_736x),im=ir(eo.imageSpec_orig),iv={...[["136x136",io],["170x",is],["236x",id],["474x",ic],["736x",ip],["orig",im]].reduce((e,[i,l])=>{var a,n,t,r;return l&&(e[i]={dominant_color:null!==(a=l.dominantColor)&&void 0!==a?a:void 0,height:null!==(n=l.height)&&void 0!==n?n:void 0,url:null!==(t=l.url)&&void 0!==t?t:void 0,width:null!==(r=l.width)&&void 0!==r?r:void 0}),e},{})},{checkExperiment:ib}=(0,C.F)(),ik=Object.keys(iv).reduce((e,i)=>{var l;return i&&null!==(l=iv[i])&&void 0!==l&&l.url?{...e,[i]:iv[i].url}:e},{}),iI=e=>{var i,l;return(0,j.Z)({embedSrc:null===(i=eo.embed)||void 0===i?void 0:i.src,embedType:null===(l=eo.embed)||void 0===l?void 0:l.type,imagesUrls:ik,preferredResolution:e,excludeOriginals:!eG&&!eQ})},ij=iR(eo),iF=(0,B.z)();(0,Z.Z)(()=>{if(iF&&!eB&&"image"===ij){let i=iv["236x"]||iv["136x136"],l=iI("736x");if(l){var e;let a={pin:{dominantColor:eo.dominantColor,link:eo.link,mobileLink:eo.mobileLink,richMetadata:eo.richMetadata&&{__typename:"RichPinDataView",article:eo.richMetadata.article&&{__typename:"ArticleMetadata"},recipe:eo.richMetadata.recipe&&{__typename:"RecipeMetadata"},products:null===(e=eo.richMetadata.products)||void 0===e?void 0:e.map(()=>({__typename:"RichPinProductMetadata"}))},trackedLink:eo.trackedLink},derived:{homefeedRecommendationReason:92===e_&&eo.recommendationReason?{reason:eo.recommendationReason.reason,reasonId:eo.recommendationReason.reasonId}:null,imageUrl:l,placeholder:i&&{width:i.width,height:i.height,url:i.url}}};iF.setData(ia,a)}}}),(0,Z.Z)(()=>{if(!eY&&0===es&&3070===e_){var e,i,l;let a=eO.pathname,{imageSignature:n,entityId:t,imageSpec_236x:r,description:o}=eo;(0,G.H$)(a,n,t,r&&{dominant_color:null!==(e=r.dominantColor)&&void 0!==e?e:void 0,height:null!==(i=r.height)&&void 0!==i?i:void 0,url:r.url,width:null!==(l=r.width)&&void 0!==l?l:void 0},o)}});let iT=92===e_&&(null===(ef=eX&&eX[ia])||void 0===ef?void 0:ef.inviteCode),iC=p?{height:136,url:null==id?void 0:id.url,width:136}:[id,is,io,ip,ic,im].find(e=>e&&e.url)||{width:1,height:1,url:""},iA=null===(ex=eo.videos)||void 0===ex?void 0:null===(eb=ex.videoList)||void 0===eb?void 0:eb.v720P,iK=(0,q.Z)({isEligibleForPdp:eo.isEligibleForPdp,isOosProduct:eo.isOosProduct,isStaleProduct:eo.isStaleProduct,pinShoppingFlags:null!==(eS=eo.shoppingFlags)&&void 0!==eS?eS:void 0}),iU=()=>{let l=(0,W.Z)(ec,eo.trackingParams);if((0,z.My)(`unauth_pin_rep.click.${String(e_)}`),eq({view_type:eh,view_parameter:e_,element:eo.storyPinDataId?12372:35,event_type:101,component:i,object_id_str:ia,clientTrackingParams:l,aux_data:{commerce_data:iK,grid_index:es,image_signature:eo.imageSignature,...e}}),"oneTap"!==ij&&eq({event_type:8948,view_type:eh,view_parameter:e_,object_id_str:ia,clientTrackingParams:l,aux_data:{image_signature:eo.imageSignature,commerce_data:iK,closeup_navigation_type:"click",grid_index:es,cosmic_ray_count:"3",...e}}),!eY)switch(eW({action:"click",item:"pin"}),eh){case 3:(0,z.NC)("click_pin_related_image");break;case 5:(0,z.NC)("click_board_pin_image");break;case 210:(0,z.NC)("click_topic_pin_image");break;case 605:(0,z.NC)("click_shopping_category_pin_image");break;case 606:(0,z.NC)("click_videos_category_pin_image")}"oneTap"===ij&&(eq({event_type:8948,view_type:eh,view_parameter:e_,object_id_str:ia,clientTrackingParams:l,aux_data:{image_signature:eo.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,Y.jC)({view_type:eh,view_parameter:e_,element:eo.storyPinDataId?12372:35,component:i,object_id_str:ia,aux_data:{commerce_data:iK,grid_index:es,image_signature:eo.imageSignature,...e},clientTrackingParams:l}),eq({component:i,event_type:13,view_type:3,clientTrackingParams:l,aux_data:{closeup_navigation_type:"web_closeup",image_signature:eo.imageSignature},object_id_str:ia}))},iH=e1({pinId:ia}),i$=iz(eo),iq=()=>{var e,i,l,a,n,t,r,o,s,d,u,c,p,m;let _=({user:e,linkToBoard:i})=>{var l;return{link:i?(null===(l=eo.board)||void 0===l?void 0:l.url)||`/pin/${eo.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:iO(null==e?void 0:e.imageMediumUrl)||iO(null==e?void 0:e.imageSmallUrl)}};if(iz(eo))return eo.sponsorship&&(null===(o=eo.promoter)||void 0===o?void 0:o.entityId)!==(null===(s=eo.nativeCreator)||void 0===s?void 0:s.entityId)?{title:null===(d=eo.nativeCreator)||void 0===d?void 0:d.fullName,subtitle:null===(u=eo.promoter)||void 0===u?void 0:u.fullName,..._({user:eo.nativeCreator})}:{title:eM._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null===(c=eo.promoter)||void 0===c?void 0:c.fullName,..._({user:eo.promoter})};if(null!==(e=eo.sponsorship)&&void 0!==e&&e.creator)return{title:null===(p=eo.nativeCreator)||void 0===p?void 0:p.fullName,subtitle:null===(m=eo.sponsorship.sponsor)||void 0===m?void 0:m.fullName,..._({user:eo.nativeCreator})};if(!eo.isEligibleForPdp){if(eo.nativeCreator)return{title:eo.nativeCreator.fullName,subtitle:"",..._({user:eo.nativeCreator})};switch(e_){case 3375:if(!(null!==(i=eo.linkDomain)&&void 0!==i&&null!==(l=i.officialUser)&&void 0!==l&&l.isPrimaryWebsiteVerified))return;let e=null!==(a=eo.storyPinData)&&void 0!==a&&a.hasProductPins?eo.nativeCreator:eo.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,..._({user:e})};case 0:case 3173:return null!==(n=eo.storyPinData)&&void 0!==n&&n.hasProductPins?{title:"",subtitle:null===(t=eo.nativeCreator)||void 0===t?void 0:t.fullName,..._({user:eo.nativeCreator,linkToBoard:!0})}:{title:eo.board&&"protected"===eo.board.privacy?eM._('Saved by', 'Grid pin annotation', 'Grid pin annotation'):(null===(r=eo.pinner)||void 0===r?void 0:r.fullName)||"",subtitle:"",..._({user:eo.pinner,linkToBoard:!0})};default:return}}},iW=(0,I.hP)({boardFollowedByMe:!!(null!==(eP=eo.board)&&void 0!==eP&&eP.followedByMe),feedbackType:null==el?void 0:el.type,viewParameter:e_,promotion:eo&&eo.promoter&&{isDownstreamPromotion:!!eo.isDownstreamPromotion},pinnerFollowedByMe:!!(null!==(ew=eo.pinner)&&void 0!==ew&&ew.explicitlyFollowedByMe),recommendationReason:eo.recommendationReason&&{hasBoard:!!eo.recommendationReason.board,reason:null!==(eI=eo.recommendationReason.reason)&&void 0!==eI?eI:void 0}}),iV=e=>{var i,l,a;let n={i18n:eM,makeNavigateLink:e};switch(iW){case"pfy":return(0,I.Ud)({...n,feedback:{type:"pfy"}});case"pfyBoard":return(0,I.Ud)({...n,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(i=eo.recommendationReason)||void 0===i?void 0:i.board)&&{name:null!==(l=eo.recommendationReason.board.name)&&void 0!==l?l:"",url:null!==(a=eo.recommendationReason.board.url)&&void 0!==a?a:""}}});case"topic":return(0,I.Ud)({...n,feedback:{type:"topic",sourceInterest:eo.sourceInterest&&eo.sourceInterest.name&&eo.sourceInterest.urlName?{name:eo.sourceInterest.name,url_name:eo.sourceInterest.urlName}:null}});case"followed":return(0,I.Ud)({...n,feedback:{type:"followed",followed:eo.pinner&&eo.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:eo.pinner.fullName&&eo.pinner.username?{full_name:eo.pinner.fullName,username:eo.pinner.username}:null}:{type:"board",board:eo.board&&eo.board.name&&eo.board.url?{name:eo.board.name,url:eo.board.url}:null}}});case"promoted":return(0,I.Ud)({...n,feedback:{type:"promoted",promoter:!eo.adMatchReason&&eo.promoter&&eo.promoter.fullName?{full_name:eo.promoter.fullName,username:eo.promoter.username}:null}});default:return null}},{attributionSourceId:iY,category:iG,linkDomain:iQ,description:iX,gridTitle:iJ,imageSignature:i0,richMetadata:i1,richSummary:i2,title:i3,sponsorship:i6,storyPinData:i4,carouselData:i8}=eo,[i7,i9]="string"==typeof iJ?[iJ,""]:[null==i2?void 0:i2.displayName,iX],i5=null,le=ib("ads_show_carousel_on_mweb").anyEnabled;le&&i8&&i8.carouselSlots&&((eN=i8.carouselSlots[e5]).link&&"oneTap"===ij&&(i5=eN.link),eN.title&&(i7=eN.title),eN.details&&(i9=eN.details));let li=null==i4?void 0:i4.isDeleted,ll=(0,W.Z)((eO&&eO.state||{}).trackingParams||ec,eo.trackingParams),la="product"===ij&&!eY,{experimentsClient:ln}=(0,E.B)(),lt=eJ&&3375!==e_&&(ln.checkExperiment("mweb_pin_grid_image_only_v2").anyEnabled||ln.checkExperiment("mweb_pin_grid_image_only_v2_new_user").anyEnabled),lr=eJ&&!(i2&&43===e_&&!e0||3375===e_)||lt,lo=null===(ej=eo.pinJoin)||void 0===ej?void 0:ej.visualAnnotation;o&&lo&&(lo=o({pinId:ia,visualAnnotations:lo}));let ls=(0,T.rw)(null!==(eF=eo.description)&&void 0!==eF?eF:"",eo.descriptionHtml||"",lo,eo.altText||"",eo.autoAltText||""),ld=eY?i9:(0,F.Z)({storyPinDataId:eo.storyPinDataId,pinDescription:eo.description,richMetadataDescription:null!==(eT=null===(eC=eo.richMetadata)||void 0===eC?void 0:eC.description)&&void 0!==eT?eT:"",richSummaryDisplayName:null!==(eA=null===(eD=eo.richSummary)||void 0===eD?void 0:eD.displayName)&&void 0!==eA?eA:"",closeupDescription:null!==(eE=eo.closeupDescription)&&void 0!==eE?eE:"",closeupUnifiedDescription:null!==(eK=eo.closeupUnifiedDescription)&&void 0!==eK?eK:""});null===i5&&(i5="oneTap"===ij?eo.trackedLink||eo.link:eY?(0,T.BY)(ia):(0,T.bN)({pinId:ia,seoUrl:eo.seoUrl}));let lu=null;if(!il&&i$&&null!==(eL=window.document.featurePolicy)&&void 0!==eL&&eL.allowsFeature("attribution-reporting")&&ib("m10n_ara_click_web_mobile").anyEnabled)try{let e=(0,h.m_)(null!=iY?iY:"0",iN(eo),!0,eo.campaignId,eo.advertiserId);lu=`attributionsrc=${encodeURIComponent(e)}`}catch(e){g.Z.increment("webapp.arapi.click.funnel",.1,{status:"failed",error:e.name})}let lc={accessibilityLabel:ls||i7||i9||eM._('Pin', 'Pin accessibility label', 'Pin accessibility label'),country:eV,deeplinkUri:i5,external:"oneTap"===ij,externalQueryParams:{pin:ia,client_tracking_params:ec},features:lu,isAppUpsellDisabled:a,onTouch:e=>{var i;if(iU(),null==d||null===(i=d.onPinClick)||void 0===i||i.call(d),eB){let i=494===eh,l=e.metaKey;if(l||i)(0,z.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(e_)}`),e.preventDefault(),window.open(`/pin/${ia}/`,"_blank").focus();else if(!eY&&eZ){let{pinImageClickHandler:i}=eZ;i({event:e,pinId:ia,linkTarget:"duploClientNav",seoUrl:eo.seoUrl})}}else if(!eY&&((0,z.My)("unauth_mweb_pin_rep.click",{viewType:eh}),[3,2].includes(eh))){let{group:i}=ib("mweb_unauth_lop_broad_to_narrow_new_tab_targeting",{dangerouslySkipActivation:!0});if(!i)return;let l=!1;switch(eh){case 3:(i.includes("view_type_closeup")||i.includes("view_type_all"))&&(l=ib("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled);break;case 2:(i.includes("view_type_search")||i.includes("view_type_all"))&&(l=ib("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled)}(0,z.My)("unauth_mweb_pin_rep.click.new_tab_exp",{viewType:eh,expName:"mweb_unauth_lop_broad_to_narrow_new_tab_targeting",expGroup:i,enabled:l}),l&&(e.preventDefault(),e.stopPropagation(),window.open(i5,"_blank").focus())}},pinCategory:eo.category,pressState:"none",rounding:4,title:eM._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:i5,state:{trackingParams:ec,trafficSource:ep,topLevelTrafficSource:ed,topLevelTrafficSourceDepth:eu}},upsellType:"direct",viewParameter:e_,viewType:eh,clientTrackingParams:ll},lp=(0,V.kb)({hasLinkDomain:!!iQ,richMetadata:i1&&{recipe:i1.recipe&&{fromAggregatedData:i1.recipe.fromAggregatedData},products:null===(ez=i1.products)||void 0===ez?void 0:ez.map(({__typename:e,...i})=>i)},richSummary:i2&&{products:i2.products}}),lm=!ei&&["shop_feed"].includes(ep),l_=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),lg=eY&&!!l_&&l_===ia,lh=!eY||lg||k?"":ib("mweb_direct_save_from_grid_v2").group||ib("mweb_direct_save_from_grid_v2_new_user").group||"",lv=lh.includes("footer"),ly=s?0:iL({isDesktop:eB});return(0,et.jsx)($.dL,{auxData:{commerce_data:iK,pwa_type:eH,...e},component:i,impressionData:{richTypes:eo.shoppingFlags||[],imageURL:iC.url||"",isPromoted:iz(eo),attributionSourceId:eo.attributionSourceId,link:iN(eo),campaignId:eo.campaignId,advertiserId:eo.advertiserId,...iA?{isNativeVideoAndWatchable:!!iA&&!!iA.url&&!!iA.height&&!!iA.width||void 0,videoIdStr:iA&&(null===(eR=eo.videos)||void 0===eR?void 0:eR.entityId)||void 0}:{},...en},isPaused:!e3,loggingId:eo.entityId,objectIdStr:er,slotIndex:es,trackingParams:ec,viewData:em,viewParameter:e_,viewType:eh,children:({impressionTrackerRef:e})=>{var a,s,c,m,g,h,v,f,b,S,w,j,F,T,C,A,E,L,R,M,Z,O,B,$,q,V,Y,G;return(0,et.jsx)(_.xu,{ref:e,children:(0,et.jsxs)(_.xu,{"data-test-id":"pin","data-test-pin-id":ia,marginBottom:eB?0:2,position:"relative",children:[(0,et.jsxs)(_.xu,{"data-test-id":ls||i7||i9?"pin-with-alt-text":"pin-missing-alt-text",padding:ly,marginBottom:0,onContextMenu:eB&&(eo.nativeCreator||eo.pinner)?e=>{e.stopPropagation(),e.preventDefault(),eU((0,et.jsx)(iw.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:ia,graphqlRef:J})),(0,z.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,dangerouslySetInlineStyle:{__style:e4?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},children:[(0,et.jsxs)(H.MZ,{...lc,children:[!!iT&&(0,et.jsx)(ek,{inviteCode:iT}),li?(0,et.jsx)(iP.Z,{isPinRep:!0}):(0,et.jsx)(iu,{pinGraphqlRef:J,clientTrackingParams:ll,color:null!==(a=eo.dominantColor)&&void 0!==a?a:"",description:i9&&(!lr||0===e_)?i9.trim():void 0,domainLinkData:eo.domain&&eo.link?{clickLoggingOptions:{auxData:{objectId:ia,grid_index:es,sanitized_url:eo.link}},domain:eo.domain,link:eo.link,onClick:null==d?void 0:d.onPinLinkClick}:void 0,disableRounding:t,image:iC&&{dominant_color:null!==(s=iC.dominantColor)&&void 0!==s?s:void 0,height:null!==(c=iC.height)&&void 0!==c?c:void 0,url:null!==(m=iC.url)&&void 0!==m?m:void 0,width:null!==(g=iC.width)&&void 0!==g?g:void 0},imageAltText:ls,imageCrop:!p&&eo.imageCrop&&"number"==typeof eo.imageCrop.minY&&"number"==typeof eo.imageCrop.maxY?{minY:eo.imageCrop.minY,maxY:eo.imageCrop.maxY}:void 0,isBoardIdeas:3173===e_||13184===i,isSquarePin:p,lazyLoadImage:y,onError:()=>e6(!1),oneTapSave:k,onLoad:()=>e6(!0),priorityFetchImage:X,disableDefaultContextMenu:()=>e8(!0),pinId:ia,pinnedToBoardId:null!==(h=null===(v=eo.pinnedToBoard)||void 0===v?void 0:v.entityId)&&void 0!==h?h:"",productPrice:"product"===ij&&ei&&!la?iZ(eo):null,slotIndex:es,storyDataExists:!!i4,title:lr&&0!==e_?void 0:i7,type:ij,videoDuration:iM(eo),viewParameter:e_,viewType:eh,directSaveExpGroup:lh,isPromotedPin:i$,setIsLongPressEnabledForAuth:e9,setCarouselIndex:ie,carouselIndex:e5})]}),"image-only"!==ea&&(eY||eB)&&(0,et.jsxs)(_.xu,{children:[!eY&&eB&&3475!==e_&&43!==e_&&(0,et.jsx)(iE.ZP,{dedupeVisualAnnotations:o,pinId:ia,mode:"inlineWithScrollArrows",graphqlRef:J}),!la&&(0,et.jsxs)(_.xu,{position:"relative",children:[(0,et.jsx)(H.MZ,{...lc,children:(0,et.jsx)(_.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:ii})}),(0,et.jsx)(_.iP,{onTap:()=>{var e;null===(e=ii.current)||void 0===e||e.click()},accessibilityLabel:lc.accessibilityLabel,children:(0,et.jsxs)(_.xu,{display:"flex",height:p?lm?104:72:void 0,marginEnd:N||1,marginStart:N||1,marginTop:lh.includes("enabled")?1:0,position:"relative",children:[(0,et.jsx)(eg,{pinGraphqlRef:J,marginTop:N,hidePinMetadata:(null==e$?void 0:e$.display_data.hideDesc)||!1,credits:iq(),hasAffiliatedProducts:!!(null!=i4&&i4.hasProductPins),isPromotedPin:i$,isSponsoredPin:!!i6,logCreditsClick:()=>{var e;return eq({view_type:3,element:27,event_type:102,object_id_str:ia,component:eo.storyPinDataId?230:void 0,clientTrackingParams:(0,W.Z)(ec,eo.trackingParams),aux_data:{pin_id:ia,...null!==(e=eo.sponsorship)&&void 0!==e&&e.creator&&eo.sponsorship.sponsor?{creator_id:eo.sponsorship.creator.entityId,sponsor_id:eo.sponsorship.sponsor.entityId}:{}}})},pinDescription:ld,pinId:ia,pinnedToBoardId:null!==(f=null===(b=eo.pinnedToBoard)||void 0===b?void 0:b.entityId)&&void 0!==f?f:"",pinReactionCounts:null===(S=eo.reactionCountsData)||void 0===S?void 0:S.reduce((e,{reactionCount:i,reactionType:l})=>({...e,[String(null!=l?l:0)]:null!=i?i:0}),{}),recipeReview:"recipe"===ij&&!lr&&!!(null!=i2&&null!==(w=i2.aggregateRating)&&void 0!==w&&w.reviewCount)&&(0,et.jsxs)(_.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,et.jsx)(iy,{maxRating:i2.aggregateRating.bestRating||"",rating:i2.aggregateRating.ratingValue||"",text:""}),!!i2.displayCookTime&&(0,et.jsxs)(u.Fragment,{children:[(0,et.jsx)(_.xu,{paddingX:1,children:(0,et.jsx)(_.xv,{size:"100",children:"\xb7"})}),(0,et.jsx)(_.xv,{size:"100",children:(0,U.IS)({...(0,D.u)(i2.displayCookTime),i18n:eM})})]})]}),shouldShowReactions:!n&&(0,ix.J6)({boardIsCollaborative:null===(j=eo.board)||void 0===j?void 0:j.isCollaborative,isDownstreamPromotion:eo.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:it,isPromoted:eo.isPromoted,storyPinDataId:eo.storyPinDataId,videosId:null===(F=eo.videos)||void 0===F?void 0:F.entityId})&&3475!==e_&&606!==eh&&!(e$&&e$.display_data.hideReactions),showPriceIndicatorInPinCardDetails:lm,title:i7,type:ij}),(0,et.jsxs)(_.xu,{right:!0,display:"flex",children:[!eY||lt||li||r?null:(0,et.jsx)(_.xu,{marginStart:1,marginTop:N,children:(0,et.jsx)(_.xu,{height:26,width:24,children:(0,et.jsx)(x.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,et.jsx)(K.Z,{children:(0,et.jsx)(iB,{adMatchReason:eo.adMatchReason,bestPinImgSrc:iI(),feedback:el,feedbackType:iW,getRecommendationDescription:iV,graphqlRef:J,hideSaveOption:null!==(T=eo.promotedIsRemovable)&&void 0!==T&&T,imageSignature:null!=i0?i0:void 0,isAdsOnlyPin:null!==(C=eo.promotedIsRemovable)&&void 0!==C&&C,pinCategory:iG,pinDescription:ld,pinId:ia,pinTitle:i3,sourceType:i$?"ad":0===e_?"following":void 0,viewParameter:e_,viewType:eh,trackingParams:ec,isLongPressEnabledForAuth:e7,setIsLongPressEnabledForAuth:e9})})})})}),lv?(0,et.jsx)(_.xu,{right:!0,children:(0,et.jsx)(_.xu,{children:(0,et.jsx)(ih,{pinId:ia,pin:eo,directSaveExpGroup:lh,clientTrackingParams:ll})})}):null]})]})})]})]}),la&&(0,et.jsx)(iD,{dedupeVisualAnnotations:o,queryRef:J,description:eo.description,domain:null===(A=eo.richSummary)||void 0===A?void 0:A.siteName,isSquarePin:p,gridTitle:null!==(E=eo.gridTitle)&&void 0!==E?E:void 0,pinId:ia,priceSummary:lp&&{maxPrice:lp.maxPrice,minPrice:lp.minPrice,price:lp.price,standardPrice:lp.standardPrice},richMetadataTitle:null===(L=eo.richMetadata)||void 0===L?void 0:L.title,richSummaryDisplayName:null===(R=eo.richSummary)||void 0===R?void 0:R.displayName,storyPinDataId:eo.storyPinDataId,storyPinDataMetadataPinTitle:null===(M=eo.storyPinData)||void 0===M?void 0:null===(Z=M.metadata)||void 0===Z?void 0:Z.pinTitle,title:eo.title})]}),"reported"===iH?(0,et.jsx)(i_,{color:null!==(O=eo.dominantColor)&&void 0!==O?O:"",getFeedbackText:()=>({title:eM._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:eM._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:ia,showing:!0}):(0,et.jsx)(i_,{color:null!==(B=eo.dominantColor)&&void 0!==B?B:"",getFeedbackText:e=>{let i;let{promoter:l}=eo;if(iz(eo)&&null!=l&&l.fullName)return{title:"",subTitle:(0,P.nk)(eM._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:l.fullName})};switch(iW){case"followed":let{board:a,pinner:n}=eo;a&&n&&(i=(0,I.oK)({boardId:a.entityId,i18n:eM,makeNavigateLink:e,display:n.explicitlyFollowedByMe?{type:"board",data:{name:a.name,url:a.url}}:{type:"pinner",data:{full_name:n.fullName,username:n.username}}}));break;case"topic":let{sourceInterest:t}=eo;t&&(i=(0,I.Iv)({i18n:eM,makeNavigateLink:e,sourceInterest:{id:t.entityId,name:t.name,url_name:t.urlName}}))}return i?{title:eM._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:iV(e),unfollow:i}:{title:eM._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:eM._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}},margin:ly,onUnfollow:()=>e2({pinId:ia,pinFeedbackStatus:"unfollowed"}),pinId:ia,showing:!!iH,unfollowed:"unfollowed"===iH,viewParameter:e_,viewType:eh}),!eB&&(null==d?void 0:d.showSeoMetadata)&&!la&&(0,et.jsx)(_.xu,{"data-test-id":"related-pins-title",children:(0,et.jsx)(_.iP,{onTap:()=>{eW({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,et.jsx)(iS,{dedupeVisualAnnotations:o,description:eo.description,gridTitle:null!==($=eo.gridTitle)&&void 0!==$?$:void 0,pinId:ia,richMetadataTitle:null===(q=eo.richMetadata)||void 0===q?void 0:q.title,richSummaryDisplayName:null===(V=eo.richSummary)||void 0===V?void 0:V.displayName,storyPinDataId:eo.storyPinDataId,storyPinDataMetadataPinTitle:null===(Y=eo.storyPinData)||void 0===Y?void 0:null===(G=Y.metadata)||void 0===G?void 0:G.pinTitle,title:eo.title,queryRef:J})})}),l]})})}})}let iH=e=>{var i,l,a,n,t,r,o,s,d,u,c,p;let m=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},_=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},g=e.reaction_counts;return{adMatchReason:e.ad_match_reason,adDestinationUrl:e.ad_destination_url,advertiserId:e.advertiser_id,altText:e.alt_text,attribution:e.attribution&&{embed:e.attribution.embed&&{type:e.attribution.embed.type}},attributionSourceId:e.attribution_source_id,autoAltText:e.auto_alt_text,board:e.board&&{entityId:e.board.id,followedByMe:e.board.followed_by_me,isCollaborative:e.board.is_collaborative,name:e.board.name,privacy:e.board.privacy,url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,category:e.category,closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,debug:e.debug,descriptionHtml:e.description_html,description:e.description,domain:e.domain,dominantColor:e.dominant_color,embed:e.embed&&{height:e.embed.height,src:e.embed.src,type:e.embed.type,width:e.embed.width},entityId:e.id,gridTitle:e.grid_title,imageCrop:e.image_crop&&{minY:e.image_crop.min_y,maxY:e.image_crop.max_y},imageSignature:e.image_signature,imageSpec_136x136:_(null===(i=e.images)||void 0===i?void 0:i["136x136"]),imageSpec_170x:_(null===(l=e.images)||void 0===l?void 0:l["170x"]),imageSpec_236x:_(null===(a=e.images)||void 0===a?void 0:a["236x"]),imageSpec_474x:_(null===(n=e.images)||void 0===n?void 0:n["474x"]),imageSpec_736x:_(null===(t=e.images)||void 0===t?void 0:t["736x"]),imageSpec_orig:_(null===(r=e.images)||void 0===r?void 0:r.orig),isDownstreamPromotion:e.is_downstream_promotion,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isOosProduct:e.is_oos_product,isPromoted:e.is_promoted,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name,entityId:null!==(o=e.link_domain.official_user.id)&&void 0!==o?o:"",imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,username:e.link_domain.official_user.username,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified}},link:e.link,mobileLink:e.mobile_link,nativeCreator:m(e.native_creator),pinnedToBoard:e.pinned_to_board&&{entityId:null!==(s=e.pinned_to_board.id)&&void 0!==s?s:""},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation},pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},promoter:m(e.promoter),promotedIsRemovable:e.promoted_is_removable,reactionCountsData:g&&Object.keys(g).map(e=>({reactionType:Number(e),reactionCount:g[e]})),richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title,article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata",fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>{var i,l,a,n;return{__typename:"RichPinProductMetadata",name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.standard_price}}})},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{bestRating:e.rich_summary.aggregate_rating.best_rating,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,displayCookTime:e.rich_summary.display_cook_time,siteName:e.rich_summary.site_name,typeName:e.rich_summary.type_name,products:e.rich_summary.products&&e.rich_summary.products.map(e=>{var i,l,a,n;return{name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.standard_price}}})},seoUrl:e.seo_url,shoppingFlags:e.shopping_flags,shouldOpenInStream:e.should_open_in_stream,sourceInterest:e.source_interest&&{entityId:null!==(d=e.source_interest.id)&&void 0!==d?d:"",name:e.source_interest.name,urlName:e.source_interest.url_name},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(u=e.sponsorship.creator.id)&&void 0!==u?u:"",fullName:e.sponsorship.creator.full_name,imageMediumUrl:e.sponsorship.creator.image_medium_url,imageSmallUrl:e.sponsorship.creator.image_small_url,username:e.sponsorship.creator.username},sponsor:e.sponsorship.sponsor&&{entityId:null!==(c=e.sponsorship.sponsor.id)&&void 0!==c?c:"",fullName:e.sponsorship.sponsor.full_name,imageMediumUrl:e.sponsorship.sponsor.image_medium_url,imageSmallUrl:e.sponsorship.sponsor.image_small_url,username:e.sponsorship.sponsor.username}},storyPinDataId:e.story_pin_data_id,storyPinData:e.story_pin_data&&{hasProductPins:e.story_pin_data.has_product_pins,isDeleted:e.story_pin_data.is_deleted,metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},title:e.title,trackedLink:e.tracked_link,trackingParams:e.tracking_params,videos:e.videos&&{entityId:null!==(p=e.videos.id)&&void 0!==p?p:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,width:e.videos.video_list.V_720P.width,url:e.videos.video_list.V_720P.url}}},recommendationReason:e.recommendation_reason&&{reason:e.recommendation_reason.reason,reasonId:e.recommendation_reason.reason_id,board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url}},carouselData:e.carousel_data&&{index:e.carousel_data.index,carouselSlots:e.carousel_data.carousel_slots?e.carousel_data.carousel_slots.map(e=>({title:e.title,details:e.details,link:e.link})):[]}}};function i$({pinId:e,duploQueryRef:i,...l}){let a=(0,N.Qy)(),{data:n,childDataKey__DEPRECATED:t}=(0,k.sr)(iK,i?{type:"graphqlRef",data:i}:{type:"deprecated",data:e},{type:"pin",useLegacyAdapter:iH});return!!n&&(0,et.jsx)(iU,{...l,debugInfo:a&&n.debug&&(0,et.jsx)(N.Wu,{data:n.debug}),pin:n,duploQueryRef:"graphqlRef"===t.type?t.data:null})}},698303:(e,i,l)=>{l.d(i,{Z:()=>o});var a=l(883119),n=l(377234),t=l(536042),r=l(785893);function o({text:e,icon:i,largeIdentifier:l,largeMargin:o}){let s=(0,t.ZP)();return(0,r.jsxs)(a.xu,{zIndex:new a.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,n.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"PinTypeIdentifier",display:"flex",margin:o?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:l?4:void 0,height:l?36:24,top:!0,children:[i&&(0,r.jsx)(a.xu,{marginEnd:l?2:1,children:(0,r.jsx)(a.JO,{accessibilityLabel:s._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:i,inline:!0,size:l?18:12})}),(0,r.jsx)(a.xv,{inline:!0,size:l?"200":"100",weight:"bold",children:e})]})}},729239:(e,i,l)=>{l.d(i,{Z:()=>g});var a=l(667294),n=l(883119),t=l(604541),r=l(24286),o=l(282442),s=l(946579),d=l(549201),u=l(272109),c=l(372836),p=l(367184),m=l(812889),_=l(785893);function g({customLayoutType:e,emptyState:i,feedItems:l,feedKey:g,pagination:{hasNext:h,isLoadingNext:v,loadNext:y,refetch:f},pullToRefresh:x,renderFeedItem:b,serverRender:k}){let S=(0,d.HG)(),[P,w]=(0,a.useState)(!1),I="userSearch"===e?window.innerWidth-16:200,j=v&&0===l.length&&!P,F="desktopFlashlight"===e?0:r.qG;return(0,u.Z)(()=>(window.addEventListener("online",y),()=>window.removeEventListener("online",y))),(0,_.jsxs)(n.xu,{"data-test-id":"MobileFeed",children:[(0,_.jsx)(p.Z,{enabled:!!x,onPull:()=>{f(),w(!0)},refreshing:P}),(0,_.jsxs)(n.xu,{marginStart:F,marginEnd:F,"data-test-id":"grid",opacity:P?.5:1,children:[(0,_.jsx)(o.Z,{isAtEndOfFeed:!h,itemCount:l.length,children:l.length?(0,_.jsx)(n.xu,{"data-test-id":"feed",marginTop:(0,c.kk)({isDesktop:S}),children:(0,_.jsx)(s.Z.Consumer,{children:i=>(0,_.jsx)(a.Fragment,{children:(0,_.jsx)(c.c$,{children:(0,_.jsx)(t.Z,{cacheKey:g,id:k?g:void 0,items:l,scrollContainerRef:i,serverRender:k,columnWidth:S?r.yF:I,renderItem:({data:e,itemIdx:i})=>b(e,i),gutterWidth:S?4*r.jC:void 0,loadItems:y,minCols:"userSearch"===e?1:2})})})})}):v?(0,_.jsx)(c.gG,{}):null!=i?i:null}),j&&(0,_.jsx)(n.xu,{column:12,paddingY:2,children:(0,_.jsx)(m.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},951381:(e,i,l)=>{l.d(i,{Z:()=>u});var a=l(667294),n=l(883119),t=l(943795),r=l(552369),o=l(785893);function s(e,i,l){var a;return(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var a=l.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?a:String(a))in e?Object.defineProperty(e,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[i]=l,e}class d extends a.PureComponent{constructor(...e){super(...e),s(this,"onScroll",(0,r.Z)(()=>{if(this.anchorElement){let l=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>l&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=l&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());let{isOnView:a}=this;if(a()){var e,i;null===(e=(i=this.props).onView)||void 0===e||e.call(i)}}},this.props.throttleTime||100)),s(this,"wasViewed",()=>{var e;let i=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!i&&i.top<=t.DEFAULT_HEIGHT}),s(this,"isOnView",()=>{var e;let i=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!i&&i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||window.height)-150&&i.right<=(window.innerWidth||window.width)}),s(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){let{children:e}=this.props;return(0,o.jsx)(n.xu,{ref:e=>{if(this.anchorElement=e,this.anchorElement&&this.wasViewed()){var i,l;null===(i=(l=this.props).onView)||void 0===i||i.call(l)}},children:e})}}let u=d},27991:(e,i,l)=>{l.d(i,{Nb:()=>o,Of:()=>s,YO:()=>r,ZP:()=>c,x4:()=>u});var a=l(667294),n=l(310646),t=l(578702);let r=({showProductDetailPage:e,isLargerPane:i,showCloseupContentRight:l})=>e&&i?l?t.Uj:t.zT:1,o=(0,n.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:l,showProductDetailPage:a,viewportSize:n,maxWidth:t,descriptionPaneWidth:r})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:i,showCloseupContentRight:l,showProductDetailPage:a,viewportSize:n,maxWidth:t,descriptionPaneWidth:r})),s={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:t.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:t.u6,descriptionPaneWidth:t.u6-t.Gg},d=(0,a.createContext)(s);function u(){let e=(0,a.useContext)(d);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let c=d},337116:(e,i,l)=>{l.d(i,{Z:()=>m});var a=l(667294),n=l(883119),t=l(101789),r=l(24286),o=l(536042),s=l(802071),d=l(323215),u=l(939782),c=l(475699),p=l(785893);function m({inCollapsibleModulesExp:e,titleFormat:i,titleArgsQuery:l}){let m=(0,o.ZP)(),{isAuth:_}=(0,s.Z)();return e?(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(u.Z,{marginStart:-(r.D6+(_?d.xh:0))/2}),(0,p.jsx)(n.xu,{paddingX:2,marginTop:4,marginBottom:4,children:(0,p.jsx)(t.Z,{heading:m._('Skin tone range', 'closeup.skinToneRangeModule.title', 'Title for skin tone range module '),children:(0,p.jsx)(c.Z,{query:l,showHeaderText:!1})})})]}):(0,p.jsx)(n.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:(0,p.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,p.jsx)(n.xu,{marginBottom:2,paddingX:4,children:(0,p.jsx)(n.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",children:i})}),(0,p.jsx)(c.Z,{query:l,showHeaderText:!1})]})})}},925428:(e,i,l)=>{l.r(i),l.d(i,{default:()=>_});var a,n=l(702664);l(167912);var t=l(883119),r=l(324509),o=l(450600),s=l(27991),d=l(55193),u=l(533451),c=l(525104),p=l(785893);let m=void 0!==a?a:a=l(634784);function _({carouselData:e,carouselIndex:i,componentType:l,contextLogData:a,handleCarouselSwipe:_,isCloseup:g,isEditMode:h,pinKey:v,viewParameter:y,viewType:f,variant:x}){var b;let k;let S=(0,c.S6)();if(null==v||"graphqlRef"===v.type)k=v;else{let e=v.data;if("string"==typeof e){let i=S(e);k=null!=i?{type:"deprecated",data:i}:null}else k={type:"deprecated",data:e}}let{data:P,childDataKey__DEPRECATED:w}=(0,o.u)(m,k,{useLegacyAdapter:e=>{var i;return{entityId:null!==(i=e.id)&&void 0!==i?i:""}}}),I=(0,d.Z)(w,"CarouselEllipsis"),j=(0,r.Z)(w),F=e||j&&{carouselSlots:j.carouselSlots.map(({slotId:e,title:i})=>({id:e,title:i})),entityId:null!==(b=j.carouselId)&&void 0!==b?b:"",index:j.index},T=(0,n.useDispatch)();if(!F)return null;let C=(e,i,n)=>{var t,r,o;h||void 0===u.yR||(e.preventDefault(),e.stopPropagation(),T((0,u.yR)(null!==(o=null==P?void 0:P.entityId)&&void 0!==o?o:"",n))),void 0!==_&&_(n),I({pinId:null!==(t=null==P?void 0:P.entityId)&&void 0!==t?t:"",currentIndex:null!=i?i:0,nextIndex:n,carouselData:{carouselSlots:null===(r=F.carouselSlots)||void 0===r?void 0:r.map(e=>({id:e.id})),entityId:F.entityId},viewParameter:y,viewType:f,componentType:l,contextLogData:a,isEditMode:h})},{carouselSlots:A,index:D}=F,E="number"==typeof i?i:D,K="default"===x,L=K?"white":"#555",z=K?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,p.jsx)(s.ZP.Consumer,{children:({viewportSize:e})=>{var i;return"sm"===e?null:(0,p.jsx)(t.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:g?"end":"center",paddingY:h?1:0,children:A&&[...Array(null!==(i=A.length)&&void 0!==i?i:0).keys()].map(e=>{var i,l;return(0,p.jsx)(t.xu,{paddingX:1,children:(0,p.jsx)(t.iP,{accessibilityLabel:null!==(l=(A[e]||{}).title)&&void 0!==l?l:"",fullWidth:!1,onTap:({event:i})=>C(i,E,e),rounding:"circle",children:(0,p.jsx)(t.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===E?L:z}},rounding:"circle"})})},(null!==(i=null==P?void 0:P.entityId)&&void 0!==i?i:"")+e)})})}})}},310131:(e,i,l)=>{l.r(i),l.d(i,{default:()=>v});var a,n=l(702664);l(167912);var t=l(883119),r=l(324509),o=l(450600),s=l(536042),d=l(925428),u=l(55193),c=l(533451),p=l(525104),m=l(785893);let _={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},g=(e,i,l,a,n,t)=>{t||void 0===a||(e.preventDefault(),e.stopPropagation(),a(i,l)),void 0!==n&&n(l)},h=void 0!==a?a:a=l(941729);function v({addEllipsis:e,alwaysShowNavigationArrows:i,carouselIndex:l,carouselData:a,ellipsisVariant:v,handleCarouselSwipe:y,isShowingLastSlide:f,pinKey:x,contextLogData:b,viewParameter:k,viewType:S,componentType:P,isEditMode:w,forwardNode:I,backNode:j,sliderStyleOverride:F,hideNavigationArrows:T}){var C,A;let D;let E=(0,s.ZP)(),K=(0,n.useDispatch)(),L=(0,p.S6)();if(null==x||"graphqlRef"===x.type)D=x;else{let e=L(x.data);D=null==e?null:{type:"deprecated",data:e}}let{data:z,childDataKey__DEPRECATED:R}=(0,o.u)(h,D,{useLegacyAdapter:e=>{var i;return{entityId:null!==(i=e.id)&&void 0!==i?i:"",isEligibleForPdp:e.is_eligible_for_pdp}}}),N=(0,u.Z)(R,"CarouselSliders"),M=(0,r.Z)(R),Z=a||M&&{carouselSlots:M.carouselSlots.map(({slotId:e,title:i})=>({id:e,title:i})),entityId:null!==(C=M.carouselId)&&void 0!==C?C:"",index:M.index};if(!Z)return null;let O=(e,i)=>K((0,c.yR)(e,i)),{carouselSlots:B,index:U}=Z,H=void 0!==l?l:null!=U?U:0,$=Math.max(0,H-1),q=Math.min((null!=B?B:[]).length-1,H+1),W=0===H,V=f||H===(null!=B?B:[]).length-1,Y=(e,i)=>{var l,a,n;g(e,null!==(l=null==z?void 0:z.entityId)&&void 0!==l?l:"",i,O,y,w),N({pinId:null!==(a=null==z?void 0:z.entityId)&&void 0!==a?a:"",currentIndex:H,nextIndex:i,carouselData:{carouselSlots:null==B?void 0:B.map(({id:e})=>({id:e})),entityId:Z.entityId},viewParameter:k,viewType:S,componentType:P,contextLogData:b,isEditMode:w,isEligibleForPdp:null!==(n=null==z?void 0:z.isEligibleForPdp)&&void 0!==n&&n})},G=j||(0,m.jsx)(t.JO,{color:"inverse",icon:"arrow-back",accessibilityLabel:E._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')}),Q=T?null:I||(0,m.jsx)(t.JO,{color:"inverse",icon:"arrow-forward",accessibilityLabel:E._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')});return(0,m.jsxs)(t.xu,{display:"flex",justifyContent:T?"center":"between",position:"absolute",alignItems:"center",left:!0,right:!0,bottom:!0,top:!0,children:[!T&&(0,m.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{Y(e,$)},onKeyUp:e=>{Y(e,$)},style:{..._,...F,pointerEvents:W?"none":"auto"},children:(0,m.jsx)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:W&&!i?"hidden":"visible",opacity:W&&i?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:G})}),e&&(0,m.jsx)(d.default,{pinKey:R,carouselIndex:l,carouselData:{carouselSlots:null===(A=Z.carouselSlots)||void 0===A?void 0:A.map(({id:e,title:i})=>({id:e,title:i})),entityId:Z.entityId,index:Z.index},handleCarouselSwipe:y,variant:v||"default",viewParameter:k,viewType:S,componentType:P}),!T&&(0,m.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{Y(e,q)},onKeyUp:e=>{Y(e,q)},style:{..._,...F,pointerEvents:V?"none":"auto"},children:(0,m.jsx)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:V&&!i?"hidden":"visible",opacity:V&&i?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:Q})})]})}},55193:(e,i,l)=>{l.d(i,{Z:()=>d}),l(167912);var a,n=l(388011),t=l(450600),r=l(473183),o=l(935340);let s=void 0!==a?a:a=l(814118);function d(e,i){let{logContextEvent:l}=(0,n.v)(),{childDataKey__DEPRECATED:a}=(0,t.u)(s,e,{useLegacyAdapter:()=>({})});null!=e&&"deprecated"===e.type&&e.data&&"pin"!==e.data.type&&(0,o.nP)("web.graphql.debug.useLogSwipeError",{sampleRate:1,tags:{parent:i,rootType:e.data.type}});let d=(0,r.Z)(a);return function({pinId:e,currentIndex:i,nextIndex:a,carouselData:n,viewParameter:t,viewType:r,componentType:o,contextLogData:s,isEditMode:u,isEligibleForPdp:c}){if(!u){let{carouselSlots:u,entityId:p}=n;l({event_type:108,object_id_str:e,component:o,view_type:r,view_parameter:t,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[i])&&Number(u[i].id),carouselDataId:Number(p),carouselSlotIndex:i,toCarouselSlotIndex:a}},aux_data:{...s,...d({isPdpPlus:c})}})}}}},475699:(e,i,l)=>{l.d(i,{Z:()=>d});var a=l(883119),n=l(563962),t=l(536042),r=l(785893);function o({skinToneOvalHeight:e,skinToneOvalWidth:i,swatchColors:l}){return(0,r.jsx)(a.xu,{alignItems:"center","data-test-id":"skinToneFilterSwatch",display:"flex",overflow:"hidden",rounding:"pill",width:i,wrap:!0,children:l.map((l,n)=>(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:l}},height:e/2,width:i/2},`${l}-${n}`))})}let s={filter_name:"Skin tone range",filter_term:"skin_face_color_l",multi_select:!1,options:[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}],vertical:"skin_tone"};function d({onClickApplyFilter:e,query:i,selectedSkinToneTerm:l,showHeaderText:d=!0,skinToneFilters:u=s}){let c=(0,t.ZP)(),p=(0,n.Z)(),m=u.options,_=`/search/pins/?rs=rs&q=${i}`,g=l?c._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):c._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text'),{filtersContainerHeight:h,filtersContainerWidth:v,skinToneOvalHeight:y,skinToneOvalWidth:f}=function(){let e="undefined"!=typeof window?Math.min((window.innerWidth-40)/4-4,96):0;return{filtersContainerHeight:52,filtersContainerWidth:e,skinToneOvalHeight:44,skinToneOvalWidth:e-8}}();return(0,r.jsxs)(a.kC,{alignItems:"center",direction:"column",height:d?88:52,children:[d&&(0,r.jsx)(a.xu,{marginBottom:2,children:(0,r.jsx)(a.xv,{color:"default",overflow:"normal",weight:"bold",children:g})}),(0,r.jsx)(a.kC,{alignItems:"stretch",flex:"none",justifyContent:"around",children:m.map(({swatch_hex_colors:n,term:t},s)=>(0,r.jsx)(a.Tg,{onTap:()=>{!function(e,i){let{index:l,query:a,onClickApplyFilter:n}=e;i({aux_data:{entered_query:a,filter_type:"skin_tone",filter_value:l},element:1341,event_type:102,view_parameter:43,view_type:2}),null==n||n()}({index:s,query:i,onClickApplyFilter:e},p)},tapStyle:"none",href:`${_}${l!==t?`&filters=${encodeURIComponent(t)}`:""}`,children:(0,r.jsx)(a.xu,{alignItems:"center","data-test-id":"skin-tone-option",color:l===t?"selected":"default",display:"flex",height:h,justifyContent:"around",rounding:"pill",width:v,children:(0,r.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:h-4,justifyContent:"around",rounding:"pill",width:v-4,children:(0,r.jsx)(o,{skinToneOvalHeight:y,skinToneOvalWidth:f,swatchColors:n})})})},t))})]})}},169492:(e,i,l)=>{l.d(i,{$:()=>o,Z:()=>u});var a=l(667294),n=l(611756);let t=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},r=new Set,o=2,s=e=>{var i;return null!==(i=null==e?void 0:e.pins)&&void 0!==i?i:[]},d=e=>e.length?{pins:e}:null,u=()=>{let[e,i]=function(e){let i=(0,a.useCallback)(i=>{let l=l=>{l===e&&i()};return r.add(l),()=>{r.delete(l)}},[e]),l=(0,a.useSyncExternalStore)(i,()=>(0,n.qn)(e),()=>null),o=(0,a.useCallback)(i=>{null===i?(0,n.L_)(e):(0,n.Nh)(e,JSON.stringify(i)),r.forEach(i=>i(e))},[e]);return(0,a.useMemo)(()=>[t(l),o],[l,o])}("unauthSavedPins"),l=s(e),u=e=>i(d(e)),c=()=>l.length<o;return{pins:l,save:e=>{c()&&u(l.filter(({id:i})=>i!==e.id).concat([e]))},unsave:e=>u(l.filter(({id:i})=>i!==e)),isSaved:e=>l.some(({id:i})=>i===e),clear:()=>u([]),canSaveMore:c}}},922204:(e,i,l)=>{l.d(i,{Z:()=>o});var a=l(702664),n=l(63262),t=l(383755),r=l(260070);function o(){let e=(0,a.useDispatch)(),{showToast:i,showOneToast:l}=(0,n.F9)();return{showToast:i,showOneToast:l,showRepinConfirmation:(l,a)=>{a||e((0,r.WF)()),setTimeout(()=>{a||e((0,r.a5)()),i(l)},t.Tt)}}}},86829:(e,i,l)=>{l.d(i,{a:()=>a,k:()=>n});let a=e=>({type:"ONE_TAP_SAVE",payload:e}),n=e=>({type:"ONE_TAP_UNSAVE",payload:e})},533451:(e,i,l)=>{function a(e,i){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:i}}}function n(e,i){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:i}}}function t(e,i,l,a,n){return{type:"PIN_SAVE",payload:{id:e,boardId:i,title:l,url:a,localPinId:n}}}function r(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function o(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s({id:e,text:i,undoAction:l,undoActionOptions:a,undoText:n}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:i,undoAction:l,undoActionOptions:a,undoText:n}}}function d(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function u(e,i){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:i}}}function c(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function m(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function _(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}l.d(i,{Gb:()=>r,I1:()=>d,Ib:()=>c,NA:()=>s,Ur:()=>t,Vw:()=>o,b9:()=>m,i0:()=>p,mO:()=>n,q1:()=>u,yR:()=>a,yj:()=>_})},77875:(e,i,l)=>{l.d(i,{w:()=>o});var a=l(994405),n=l(541268),t=l(526007),r=l(648609);let o=({pinId:e,boardId:i,checkExperiment:l,i18n:o,isQuickSave:s,logContextEvent:d,onSuccess:u,onUndo:c,originalPinId:p,showNewUserSavetoProfileAnimation:m,showRepinConfirmation:_,showToast:g,section:h,trackingParams:v,isOneTapSave:y,viewType:f,historyPush:x,suggestedBoardIds:b,savePinId:k})=>(S,P)=>{var w,I,j,F,T,C,A,D,E;let{pins:K,session:L,feeds:z}=P(),R=K[e];i&&((null===(w=null!==(I=null==R?void 0:R.shopping_flags)&&void 0!==I?I:[])||void 0===w?void 0:w.length)>0||null!=R&&R.rich_summary&&(null===(j=null!==(F=null==R?void 0:null===(T=R.rich_summary)||void 0===T?void 0:T.products)&&void 0!==F?F:[])||void 0===j?void 0:j.length)>0)&&(z[`board-shop-saved-preview:${i}`]&&S((0,n.Qv)(`board-shop-saved-preview:${i}`,[R],{isPrepend:!0})),z[`board-shop-saved:${i}`]&&S((0,n.Qv)(`board-shop-saved:${i}`,[R],{isPrepend:!0})));let N=new t.Z({boardId:i,dispatch:S,i18n:o,isLegoSaveStyle:!0,isOneTapSave:y,isQuickSave:s,onSuccess:u,onUndo:c,originalPinId:p,pinId:R.id,section:h,showNewUserSavetoProfileAnimation:m,showRepinToasts:e=>_?_(e):g?g(e):void 0,trackingParams:v,userId:L.userId,viewType:f,historyPush:x,suggestedBoardIds:b,savePinId:k,pinData:{trackingParams:R.tracking_params,viewParameter:(0,r.A)({hasRichMetadata:!!R.rich_metadata,hasRichMetadataProducts:!!(null!==(C=R.rich_metadata)&&void 0!==C&&C.products),hasRichMetadataArticle:!!(null!==(A=R.rich_metadata)&&void 0!==A&&A.article),hasRichMetadataRecipe:!!(null!==(D=R.rich_metadata)&&void 0!==D&&D.recipe)}),pinnedToBoardId:null===(E=R.pinned_to_board)||void 0===E?void 0:E.id}});return(0,a.ib)({checkExperiment:l,isAuthMweb:L.isAuthenticated&&(L.isMobile||L.isTablet)}),N.processRepin(d)}},503973:(e,i,l)=>{l.d(i,{f:()=>a});function a(){return"angled-pin"}},333741:(e,i,l)=>{l.d(i,{Z:()=>o});var a=l(667294),n=l(883119),t=l(793085),r=l(785893);let o=function({badgeSize:e,badgeSpacing:i,fullName:l,verifiedType:o,truncate:s=!1}){let d=l.split(" "),u=d.slice(0,d.length-1).join(" "),c=" ".concat(d[d.length-1]);return s?(0,r.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(n.xv,{lineClamp:1,weight:"bold",children:l}),(0,r.jsx)(n.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,r.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]}):(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("span",{children:u}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[c,"\xa0",(0,r.jsx)(n.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,r.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/20013-65e32e21871db284.mjs.map