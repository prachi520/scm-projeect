"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[36e3],{108134:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LeafSnippet_pin",selections:[{args:null,kind:"FragmentSpread",name:"useRichSnippetPin_pin"}],type:"Pin",abstractKey:null};t.hash="f5e7ad2abe4b6d77e0fc29bab4595111",e.exports=t},323155:(e,t,i)=>{let l;i.d(t,{M:()=>d});let n=/^(?:adminapp|images|js|css|favicon\.png|client|reporter|webapp)/,o=/(\.mp4|\.mov|\.m3u8)$/,r={mediaUrls:{http:"http://i.pinimg.com/",https:"https://i.pinimg.com/"},assetUrls:{http:"http://s.pinimg.com/",https:"https://s.pinimg.com/"}};class a{getAssetHost(e){return r.assetUrls[e]}getMediaHost(e){return r.mediaUrls[e]}}function d(e){let t="https";if(!e||e.startsWith("http"))return e;if(e.startsWith("//"))return`${t}:${e}`;e.startsWith("/")&&(e=e.substring(1));let i=(l||(l=new a),l);if(-1!==e.substring(0,11).search(n))return i.getAssetHost(t)+e;if(-1===e.search(o))return i.getMediaHost(t)+e;throw Error("Video Host not implemented in CdnUtils.js")}},162367:(e,t,i)=>{i.d(t,{U3:()=>h,f5:()=>g,lP:()=>f,ol:()=>y});var l=i(323155);i(630089);var n=i(465991);i(806685);var o=i(739425),r=i(3060);let a=e=>e,d,s=(0,l.M)("/images/default_open_graph_1200.png"),u="noindex,noimageindex",p=r.Vi;function c(e,t){return["alternate",`https://www.pinterest.com/oembed.json?url=${e}&ref=oembed-discovery`,{title:t._('Find inspiration on Pinterest today!', ' - ', 'find inspiration on pinterest oembed discovery title'),type:"application/json+oembed"}]}function _(e){if(!e)return"";try{let t=new Date(e);return t.toISOString()}catch(e){return""}}function v({relativePath:e,origin:t=r.C0}){return`${t}${e}`}let m=["link","tracked_link","seo_title","seo_description","seo_url","seo_noindex_reason","created_at","repin_count","pin_join","images","category","board","pinner"],g=e=>!m.find(t=>!Object.prototype.hasOwnProperty.call(e,t));function f({data:e,origin:t,i18n:i}){var l,o,r;let{id:a,board:d,created_at:m,link:g,pinner:f,pin_join:h,repin_count:y,seo_description:P,seo_title:b,seo_noindex_reason:w,tracked_link:k,seo_url:S,images:V}=e,x=null==f?void 0:f.username,T=!w&&h?h.seo_canonical_domain:p,A=!w&&h?h.seo_canonical_url:(0,n.bN)({pinId:a,seoUrl:S}),j=v({origin:T?`https://${T}`:t,relativePath:A}),O=[c(j,i)],E=null!=V&&null!==(l=V["736x"])&&void 0!==l&&l.url?V["736x"].url:s,I={"og:image":E,"og:image:height":(null!=V&&null!==(o=V["736x"])&&void 0!==o&&o.height?V["736x"].height:200).toString(),"og:image:width":(null!=V&&null!==(r=V["736x"])&&void 0!==r&&r.width?V["736x"].width:200).toString(),"og:type":"pinterestapp:pin","og:updated_time":_(m),"og:url":j,"twitter:image:src":E,"pinterestapp:repins":y?y.toString():"0"};return b&&(I.title=b,I["twitter:title"]=b,I["og:title"]=b),P&&(I.description=P,I["og:description"]=P,I["twitter:description"]=P),(k||g)&&(I["og:see_also"]=k||g,I["pinterestapp:source"]=k||g),w?I.robots=u:I.robots="max-image-preview:large",null!=d&&d.url&&(I["pinterestapp:pinboard"]=v({relativePath:d.url,origin:t})),x&&(I["pinterestapp:pinner"]=v({relativePath:`/${x}/`,origin:t})),{links:O,canonical_domain:T,canonical_url:A,full_canonical_url:j,no_index_reason:w,metatags:I}}function h({data:e,origin:t,i18n:i}){let{board_order_modified_at:l,category:n,cover_images:o,name:r,owner:a,pin_count:d,seo_canonical_domain:p,seo_description:m,seo_noindex_reason:g,seo_title:f,url:h}=e,y=(null==a?void 0:a.username)||"",P=o&&o["200x150"]&&o["200x150"].url||s,b=h&&v({origin:p?`https://${p}`:t,relativePath:h}),w=b?[c(b,i)]:[],k={"og:image":P,"og:type":"pinterestapp:pinboard","og:updated_time":_(l),"pinterestapp:pinner":v({relativePath:`/${y}/`,origin:t}),"pinterestapp:pins":(d||0).toString(),"twitter:image:src":P};return f&&(k.title=f,k["og:title"]=f),m&&(k.description=m,k["og:description"]=m,k["twitter:description"]=m),n&&(k["pinterestapp:category"]=n),r&&(k["twitter:title"]=r),b&&(k["og:url"]=b),g&&(k.robots=u),{links:w,no_index_reason:g,metatags:k,full_canonical_url:b,...p?{canonical_domain:p}:null}}function y({data:e,origin:t,i18n:i}){let{seo_canonical_domain:n,seo_description:r,seo_noindex_reason:s,seo_title:p,username:_}=e,m=v({origin:n?`https://${n}`:t,relativePath:(0,o.tV)(d||(d=a`/${0}/`),_)}),g=[c(m,i)],f={"og:type":"profile","og:url":m,"og:image":(0,l.M)("/images/default_open_graph_1200.png"),"twitter:image:src":(0,l.M)("/images/default_open_graph_1200.png")};return r&&(f.description=r,f["og:description"]=r,f["twitter:description"]=r),p&&(f.title=p,f["og:title"]=p,f["twitter:title"]=p),s&&(f.robots=u),{links:g,no_index_reason:s,metatags:f,full_canonical_url:m,...n?{canonical_domain:n}:null}}},84812:(e,t,i)=>{i.d(t,{r:()=>l});function l(e,t,i){return!!(e&&e.trim().length>0&&t&&!i)}},682959:(e,t,i)=>{i.r(t),i.d(t,{default:()=>X});var l,n=i(667294),o=i(167912),r=i(616550),a=i(536042),d=i(898252),s=i(84812),u=i(282802),p=i(314457),c=i(355091),_=i(465991),v=i(711777);let m=e=>{var t;return(null==e?void 0:null===(t=e.orig)||void 0===t?void 0:t.url)||""},g=(e,t)=>e?(0,v.o)(e).trim():(t||"").trim(),f=(e,t)=>{let i=t||e;if(i){let e=new Date(Date.parse(i));if(e)return e.toISOString()}},h=(e,t)=>e&&t?{sharedContent:{"@type":"WebPage",headline:t,url:e}}:void 0,y=({origin:e},t,i,{pinnerFullName:l,pinnerUsername:n},o)=>{var r,a,d,s,u;let{url:p,article:v,title:y}=i.rich_metadata||{},{full_canonical_url:P}=null!=t?t:{},b=P||p,w=(0,_.Ly)({pinTitle:i.title,gridTitle:i.grid_title,richSummaryDisplayName:null!==(r=null===(a=i.rich_summary)||void 0===a?void 0:a.display_name)&&void 0!==r?r:"",richMetadataTitle:null!=y?y:"",storyPinDataId:i.story_pin_data_id,storyPinDataMetadataPinTitle:null===(d=i.story_pin_data)||void 0===d?void 0:null===(s=d.metadata)||void 0===s?void 0:s.pin_title,pinJoinVisualAnnotation:null===(u=i.pin_join)||void 0===u?void 0:u.visual_annotation})||"",k=(0,c.QO)(e,{userName:n,fullName:l}),S=g(i.description,i.title)||"",V=i.seo_title||"",{fallbackTitle:x,fallbackDescription:T}=(0,c.fP)("default",w,o),{title:A,description:j}=(0,c.dn)(t,w,S,x,T,V);return{"@type":"SocialMediaPosting",author:k,headline:A,articleBody:j,image:m(i.images),datePublished:f(i.created_at,null==v?void 0:v.date_published),...h(b,A)}};var P=i(150676);let b=e=>{if(!e)return;let t=e=>{let t=e||{},i=t.h||0,l=t.m||0,n="PT",o=!1;return i>0&&(n+=i.toString()+"H",o=!0),l>0&&(n+=l.toString()+"M",o=!0),o?n:""},i={};return e.total&&(i.totalTime=t(e.total)),e.cook&&(i.cookTime=t(e.cook)),e.prep&&(i.prepTime=t(e.prep)),i},w=e=>{if(!e.categorized_ingredients)return;let t=[];if(e.categorized_ingredients.forEach(e=>{(e.ingredients||[]).forEach(e=>{let i=[];e.amt&&i.push(e.amt),e.name&&(i.push(e.name),t.push(i.join(" ")))})}),t.length>1)return{recipeIngredient:t}},k=({origin:e,pathname:t},i,l,{pinnerFullName:n,pinnerUsername:o},r)=>{let{rich_metadata:a}=l;if(!a)return null;let{recipe:d}=a;if(!d)return null;let s=d.name||"",u=a.description||"",p=d.servings_summary&&(d.servings_summary.serves||d.servings_summary.summary),_=(0,c.QO)(e,{userName:o,fullName:n}),v=l.seo_title||"",g=l&&l.videos||{},{video_list:f={}}=g||{},{V_720P:h,V_HLSV4:y}=f,k=(0,c.V3)(h)||(0,c.V3)(y),S={video:void 0};if(k){let n=(0,P.us)(k.duration||0),o=(0,P.yc)(n);S.video=(0,P.dH)({origin:e,pathname:t},i,l,k,"",r,o)}let{fallbackTitle:V,fallbackDescription:x}=(0,c.fP)("recipe",s,r),{title:T,description:A}=(0,c.dn)(i,s,u,V,x,v),j=(0,c.cO)(d.aggregate_rating),O=j?{aggregateRating:j}:Object.freeze({}),E={...p?{recipeYield:p}:Object.freeze({}),...A?{description:A}:Object.freeze({}),...b(d.cook_times),...w(d),...O,...S};return{"@type":"Recipe",name:T,description:A,author:_,video:k,image:m(l.images),...E}};var S=i(352579);let V=e=>{let t=(0,S.Vx)(e),i=t.map(e=>{var t;return(null!==(t=e.blocks)&&void 0!==t?t:[]).filter(e=>e&&!!e.text&&[0,9,1,6].includes(e.block_type)).map(e=>({"@type":"HowToSupply",name:e.text||""}))});return i.flat()},x=({origin:e,pathname:t},i,l,n,o)=>{var r,a;n.pages=(0,S.uI)(n.pages||[]);let d=(0,_.RC)({storyPinDataMetadataPinTitle:null===(r=l.story_pin_data)||void 0===r?void 0:null===(a=r.metadata)||void 0===a?void 0:a.pin_title,pinTitle:l.title})||"",s=l.seo_title||"",u=(0,S.tY)(n),p={supply:V(n)},{howToSteps:v,containsNestedVideo:m}=(0,S.nc)({origin:e,pathname:t},i,l,n,o),g=(0,S.Sl)(n),f=(0,S.ky)(g),h={video:void 0};if(!m&&f){let n=(0,P.us)(f.duration||0),r=(0,P.yc)(n);h.video=(0,P.dH)({origin:e,pathname:t},i,l,f,"",o,r)}let{fallbackTitle:y,fallbackDescription:b}=(0,c.fP)("howto",d,o),{title:w}=(0,c.dn)(i,d,"",y,b,s);return{"@type":"HowTo",name:w,image:u,...p,step:v,...h}},T=e=>e?new Date(Date.parse(e)).toISOString():"",A=e=>{var t,i,l;let n=(null===(t=e.metadata)||void 0===t?void 0:null===(i=t.basics)||void 0===i?void 0:null===(l=i.list_blocks)||void 0===l?void 0:l.filter(e=>(0,S.cY)(e,S.n_)||(0,S.Xi)(e)))||[];return n.map(e=>{let t=e.blocks||[];return t.length>0?t.map(e=>(e.text||"").trim()):[(e.heading||"").trim()]}).flat()},j=({origin:e,pathname:t},i,l,n,o)=>{var r,a,d,s,u,p,v,m;n.pages=(0,S.uI)(n.pages||[]);let g=(0,S.tY)(n),f=(0,_.RC)({storyPinDataMetadataPinTitle:null===(r=l.story_pin_data)||void 0===r?void 0:null===(a=r.metadata)||void 0===a?void 0:a.pin_title,pinTitle:l.title})||"",h=l.seo_title||"",{description:y}=(0,_.eK)({pinJoinVisualAnnotation:null===(d=l.pin_join)||void 0===d?void 0:d.visual_annotation,pinJoinAnnotationsWithLinks:null===(s=l.pin_join)||void 0===s?void 0:s.annotations_with_links,richMetadataDescription:null===(u=l.rich_metadata)||void 0===u?void 0:u.description,richSummaryDisplayName:null===(p=l.rich_summary)||void 0===p?void 0:p.display_name,closeupUnifiedDescription:l.closeup_unified_description}),b=(0,c.QO)(e,{userName:null===(v=l.native_creator)||void 0===v?void 0:v.username,fullName:null===(m=l.native_creator)||void 0===m?void 0:m.full_name}),w=A(n),{howToSteps:k,containsNestedVideo:V}=(0,S.nc)({origin:e,pathname:t},i,l,n,o),{cookTime:x,prepTime:j,totalTime:O,recipeYield:E}=(0,S.gz)(n),I=T(l.created_at),D=(0,S.Sl)(n),$=(0,S.ky)(D),H={video:void 0};if(!V&&$){let n=(0,P.us)($.duration||0),r=(0,P.yc)(n);H.video=(0,P.dH)({origin:e,pathname:t},i,l,$,"",o,r)}let L={};k.length>0&&w.length>0&&(L.recipeInstructions=k,L.recipeIngredient=w);let{fallbackTitle:C,fallbackDescription:M}=(0,c.fP)("recipe",f,o),{title:z,description:N}=(0,c.dn)(i,f,y,C,M,h);return{"@type":"Recipe",image:g,name:z,author:b,description:N,datePublished:I,cookTime:x,prepTime:j,totalTime:O,recipeYield:E,...L,...H}};var O=i(662955),E=i(458672),I=i(785893);let D=function(e){let{videoJsonData:t}=e;return t?(0,I.jsx)(E.Z,{type:"application/ld+json",testId:"video-snippet",value:t}):null};var $=i(162367),H=i(98736),L=i(525104);let C=void 0!==l?l:l=i(108134);function M({pin:e}){var t,i,l,o,_,v,m,g,f,h,b,w,V;let T,A;let O=(0,a.ZP)(),{origin:L,isBot:C}=(0,u.B)(),{pathname:M}=(0,r.useLocation)();if(!e||!e.pinner||!O)return null;let z=e.story_pin_data,N=!!(null!==(t=e.videos)&&void 0!==t&&t.video_list),X=(0,d.cL)({embedSrc:null===(i=e.embed)||void 0===i?void 0:i.src,embedSubtype:null===(l=e.embed)||void 0===l?void 0:l.subtype,embedType:null===(o=e.embed)||void 0===o?void 0:o.type}),R={pinnerFullName:null===(_=e.pinner)||void 0===_?void 0:_.full_name,pinnerUsername:null===(v=e.pinner)||void 0===v?void 0:v.username},U=(0,c.v_)(e.grid_title,e.rich_metadata),Z="standard_pin",B=(0,s.r)(null===(m=e.rich_metadata)||void 0===m?void 0:null===(g=m.recipe)||void 0===g?void 0:g.name,!!(null!==(f=e.rich_metadata)&&void 0!==f&&null!==(h=f.recipe)&&void 0!==h&&h.categorized_ingredients),null===(b=e.rich_metadata)||void 0===b?void 0:null===(w=b.recipe)||void 0===w?void 0:w.from_aggregated_data);(0,$.f5)(e)&&(A=(0,$.lP)({data:e,origin:L,i18n:O})),B?(T=k({origin:L,pathname:M},A,e,R,O),Z="recipe_pin"):z&&(0,S.H2)(e.title,z)?(T=j({origin:L,pathname:M},A,e,z,O),Z="recipe_idea_pin"):z&&(0,S.TL)(e,z)?(T=x({origin:L,pathname:M},A,e,z,O),Z="how_to_idea_pin"):z?(T=y({origin:L},A,e,R,O),Z="idea_pin"):U?(T=(0,p.VH)(A,e,O),Z="product_pin"):T=y({origin:L},A,e,R,O);let{full_canonical_url:F}=null!==(V=A)&&void 0!==V?V:{},Y=F||`${L}${M}`,W={...T,"@context":"http://schema.org/",mainEntityOfPage:{"@type":"WebPage","@id":Y}},Q=(0,S.Sl)(z),J=N||X,K=!J&&!!Q.length,q=J||K;if((0,H.My)("closeup_main_pin.leaf_snippet",{isBot:C,jsonType:Z,containsVideo:q}),!q)return(0,I.jsx)(n.Fragment,{children:(0,I.jsx)(E.Z,{type:"application/ld+json",testId:"leaf-snippet",value:W})});let{videoJsonData:G}=(0,P.Ee)({origin:L,pathname:M},A,e,J,Q,O);return(0,I.jsxs)(n.Fragment,{children:[(0,I.jsx)(E.Z,{type:"application/ld+json",testId:"leaf-snippet",value:W}),q&&(0,I.jsx)(D,{videoJsonData:G})]})}let z=({graphqlRef:e})=>{let t=(0,o.useFragment)(C,e),i=(0,O.Z)(t);return(0,I.jsx)(M,{pin:i})},N=({pinId:e})=>{let t=(0,L.S6)()(e);return t?(0,I.jsx)(M,{pin:t}):null};function X({graphqlRef:e,pinId:t}){return e?(0,I.jsx)(z,{graphqlRef:e}):(0,I.jsx)(N,{pinId:t})}},314457:(e,t,i)=>{i.d(t,{VH:()=>a});var l=i(355091);let n=e=>{let t=e.replace(/[a-zA-Z]\./g,""),i=t.replace(/\./g,","),l=i.replace(/,([^,]*)$/g,".$1"),n=l.replace(/[^0-9.]/g,"");return parseFloat(n)},o=e=>{let t;let i=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0],l=null==i?void 0:i.offer_summary;return l?(!0===l.in_stock?t="https://schema.org/InStock":!1===l.in_stock&&(t="https://schema.org/OutOfStock"),l.min_price)?{"@type":"AggregateOffer",lowPrice:n(l.min_price),highPrice:l&&l.max_price?n(l.max_price):void 0,priceCurrency:e.price_currency||"",...t?{availability:t}:Object.freeze({})}:l.price?{"@type":"Offer",price:n(l.price),priceCurrency:e.price_currency||"",url:e.rich_metadata&&e.rich_metadata.url||e.link||e.domain||"",...t?{availability:t}:Object.freeze({})}:void 0:void 0},r=e=>e?Object.keys(e).map(t=>{var i;return null===(i=e[t])||void 0===i?void 0:i.url}).filter(Boolean):[],a=(e,t,i)=>{var n;let a=t.rich_metadata&&t.rich_metadata.products&&t.rich_metadata.products[0],d=a&&a.name||t.grid_title||"",s=t.seo_title||"",u={"@type":"Brand",name:t.rich_metadata&&t.rich_metadata.site_name||t.link_domain&&t.link_domain.official_user&&t.link_domain.official_user.full_name||""},p=t.rich_metadata&&t.rich_metadata.description||t.description||t.description_html||t.rich_metadata&&t.rich_metadata.title||t.title||"",c=r(t.images),_=o(t),v=(0,l.cO)(null===(n=t.rich_metadata)||void 0===n?void 0:n.aggregate_rating),{fallbackTitle:m,fallbackDescription:g}=(0,l.fP)("product",d,i),{title:f,description:h}=(0,l.dn)(e,d,p,m,g,s);return{"@type":"Product",name:f,aggregateRating:v,brand:u,description:h,image:c,offers:_}}},352579:(e,t,i)=>{i.d(t,{H2:()=>y,Sl:()=>T,TL:()=>w,Vx:()=>V,Xi:()=>v,cY:()=>_,gz:()=>x,ky:()=>A,n_:()=>d,nc:()=>b,tY:()=>S,uI:()=>g});var l=i(465991),n=i(150676),o=i(98736),r=i(634923);let a=[0,1,9],d=[...a,5],s=[...a,6],u=({isEligible:e,hasTitle:t,hasMetadata:i,hasIngredients:l,hasInstructions:n,hasNativeCreator:r,validPages:a,validVideos:d})=>{(0,o.My)("closeup_main_pin.leaf_snippet.is_story_recipe",{isEligible:e,validPages:a.length,validVideos:d.length,hasTitle:t,hasMetadata:i,hasIngredients:l,hasInstructions:n,hasNativeCreator:r,isGuidedRecipe:l&&n})},p=({isEligible:e,hasTitle:t,hasMetadata:i,hasInstructions:l,hasSupplies:n,validPages:r,validVideos:a,validHowToSteps:d})=>{(0,o.My)("closeup_main_pin.leaf_snippet.is_story_how_to",{isEligible:e,validPages:r.length,validVideos:a.length,validHowToSteps:d.length,hasTitle:t,hasMetadata:i,hasSupplies:n,hasInstructions:l})},c=e=>7===e.block_type,_=(e,t)=>!!(c(e)&&(e.blocks||[]).find(e=>t.includes(e.block_type))),v=e=>!!(c(e)&&e.heading),m=e=>e.reduce((e,t)=>{let i=t.blocks||[],l=i.filter(e=>3===e.block_type&&!!e.video).map(e=>{var t,i,l,n,o,a,d,s,u,p,c,_,v,m;return(0,r.Z)({vEXP3:null===(t=e.video)||void 0===t?void 0:null===(i=t.video_list)||void 0===i?void 0:i.V_EXP3,vEXP4:null===(l=e.video)||void 0===l?void 0:null===(n=l.video_list)||void 0===n?void 0:n.V_EXP4,vEXP5:null===(o=e.video)||void 0===o?void 0:null===(a=o.video_list)||void 0===a?void 0:a.V_EXP5,vEXP6:null===(d=e.video)||void 0===d?void 0:null===(s=d.video_list)||void 0===s?void 0:s.V_EXP6,vEXP7:null===(u=e.video)||void 0===u?void 0:null===(p=u.video_list)||void 0===p?void 0:p.V_EXP7,v720P:null===(c=e.video)||void 0===c?void 0:null===(_=c.video_list)||void 0===_?void 0:_.V_720P,vHLSV3MOBILE:null===(v=e.video)||void 0===v?void 0:null===(m=v.video_list)||void 0===m?void 0:m.V_HLSV3_MOBILE})});return[...e,...l]},[]),g=e=>e.filter(e=>2!==e.layout),f=e=>(e.pages||[]).find(e=>0===e.layout),h=(e,t)=>{let i=(e||[]).filter(e=>0!==e.layout&&(e.blocks||[]).length);return i.find(e=>(e.blocks||[]).find(e=>e&&t.includes(e.block_type)))};function y(e,t){var i,n,o,r,s;if((null===(i=t.metadata)||void 0===i?void 0:i.template_type)!==1)return!1;let p=!!(0,l.RC)({storyPinDataMetadataPinTitle:null===(n=t.metadata)||void 0===n?void 0:n.pin_title,pinTitle:e}),c=!!t.metadata,f=!!(null!==(o=t.metadata)&&void 0!==o&&null!==(r=o.basics)&&void 0!==r&&null!==(s=r.list_blocks)&&void 0!==s&&s.find(e=>_(e,d)||v(e))),y=!!h(t.pages,a),P=g(t.pages||[]),b=m(P),w=p&&c&&(f||y);return u({isEligible:w,validPages:P,validVideos:b,hasTitle:p,hasMetadata:c,hasIngredients:f,hasInstructions:y,hasNativeCreator:"N/A"}),w}let P=e=>{var t;return(null!==(t=e.pages)&&void 0!==t?t:[]).filter(e=>{var t;let i=null!==(t=e.blocks)&&void 0!==t?t:[],l=[];for(let e of i)0===e.block_type&&l.push(e.text);return!!l.join(" ")})},b=({origin:e,pathname:t},i,l,o,a)=>{let d=P(o),s=!1,u=d.map(o=>{var d,u,p,c,_,v,m,g,f,h;let y=null!==(d=o.blocks)&&void 0!==d?d:[],P=[];for(let e of y)0===e.block_type&&P.push(e.text);let b=P.join(" "),w={"@type":"HowToStep",text:b};for(let o of y){if(3===o.block_type&&o.video){let d=(0,r.Z)({vEXP3:null===(u=o.video.video_list)||void 0===u?void 0:u.V_EXP3,vEXP4:null===(p=o.video.video_list)||void 0===p?void 0:p.V_EXP4,vEXP5:null===(c=o.video.video_list)||void 0===c?void 0:c.V_EXP5,vEXP6:null===(_=o.video.video_list)||void 0===_?void 0:_.V_EXP6,vEXP7:null===(v=o.video.video_list)||void 0===v?void 0:v.V_EXP7,v720P:null===(m=o.video.video_list)||void 0===m?void 0:m.V_720P,vHLSV3MOBILE:null===(g=o.video.video_list)||void 0===g?void 0:g.V_HLSV3_MOBILE}),f=d.mp4||d.hlsv3;if(f){w.video=(0,n.dH)({origin:e,pathname:t},i,l,f,b,a,!1),s=!0;break}}if(2===o.block_type&&o.image){let e=null===(f=o.image)||void 0===f?void 0:null===(h=f.images)||void 0===h?void 0:h.originals;if(e){w.image=e.url;break}}}return w});return u.length>=2?{howToSteps:u,containsNestedVideo:s}:{howToSteps:[],containsNestedVideo:s}};function w(e,t){var i,n,o,r,a;if(!e||!t||(null===(i=t.metadata)||void 0===i?void 0:i.template_type)!==2)return!1;let d=!!(0,l.RC)({storyPinDataMetadataPinTitle:null===(n=t.metadata)||void 0===n?void 0:n.pin_title,pinTitle:e.title}),u=!!t.metadata,c=!!(null!==(o=t.metadata)&&void 0!==o&&null!==(r=o.basics)&&void 0!==r&&null!==(a=r.list_blocks)&&void 0!==a&&a.find(e=>_(e,s))),v=!!h(t.pages,[0,1]),f=g(t.pages||[]),y=m(f),b=P(t),w=d&&u&&c&&v&&b.length>=2;return p({isEligible:w,validPages:f,validVideos:y,hasTitle:d,hasMetadata:u,hasInstructions:v,hasSupplies:c,validHowToSteps:b}),w}let k=e=>{var t,i;return(null==e?void 0:null===(t=e.images)||void 0===t?void 0:null===(i=t.originals)||void 0===i?void 0:i.url)||""},S=e=>{let t=f(e),i=k(null==t?void 0:t.image_adjusted)||k(null==t?void 0:t.image);if(i)return i;let l=((null==t?void 0:t.blocks)||[]).find(e=>e.image);return k(null==l?void 0:l.image)},V=e=>{var t,i,l;return(null!==(t=null===(i=e.metadata)||void 0===i?void 0:null===(l=i.basics)||void 0===l?void 0:l.list_blocks)&&void 0!==t?t:[]).filter(e=>e&&[7].includes(e.block_type))},x=e=>{var t,i;let l=(null===(t=e.metadata)||void 0===t?void 0:null===(i=t.basics)||void 0===i?void 0:i.key_value_blocks)||[],n=l.reduce((e,{category_type:t,value:i})=>{if(!i)return e;if(0===t)e.cookTime=i;else if(1===t){let t=i.match(/\d+/);t&&(e.recipeYield=t[0])}else 2===t&&(e.difficulty=i);return e},{cookTime:"0",recipeYield:"1",difficulty:"1"}),o=parseInt(n.cookTime,10)>0?n.cookTime:"0",r=(parseInt("0",10)+parseInt(o,10)).toString(),a=parseInt(n.recipeYield,10),d=parseInt(n.difficulty,10)>=1?n.difficulty:"1";return{prepTime:"PT0M",cookTime:`PT${o}M`,totalTime:`PT${r}M`,recipeYield:a,difficulty:d}},T=e=>{if(!e)return[];let t=g(e.pages||[]);return m(t)},A=e=>{let t=e.length>0?e[0].mp4||e[0].hlsv3:null,i=(0,n.us)((null==t?void 0:t.duration)||0),l=i>=6;if(l||e.length<=1)return t;let o=e.map(e=>e.mp4||e.hlsv3).find(e=>{let t=(0,n.us)((null==e?void 0:e.duration)||0);return l=(0,n.jt)(t)});return o||t}},150676:(e,t,i)=>{i.d(t,{Ad:()=>o,Ee:()=>g,LU:()=>s,QQ:()=>f,dH:()=>m,jt:()=>d,us:()=>r,yc:()=>a});var l=i(355091),n=i(352579);let o=0,r=e=>{let t=Math.floor(e/1e3);return t>=o?t:o},a=e=>e>=30,d=e=>e>=5,s=e=>{let t=r(e||o);return`PT${t}S`},u=e=>e?`${e} px`:null,p=e=>e?new Date(Date.parse(e)).toISOString():new Date().toISOString(),c=e=>{var t,i;let l=e.videos&&(null===(t=e.videos.video_list)||void 0===t?void 0:t.V_720P),n=e.videos&&(null===(i=e.videos.video_list)||void 0===i?void 0:i.V_HLSV4);return l||n},_=e=>{let t=e.videos&&e.videos.seo_view_count,i="",l=e.story_pin_data;if(l){let e=l.pages;if(e&&e.length>0){let t=e&&e[0].blocks;if(t&&t.length>0){let e=t[0];e.video_data&&(i=e.video_data.seo_view_count||"")}}}return(t=t||i)?parseInt(t,10):null};function v(e,t){return{"@type":"InteractionCounter",InteractionType:{"@type":`https://schema.org/${e}`},InteractionCount:t||0}}function m({origin:e,pathname:t},i,n,r,a,d,c,_){var m,g;let f,h,y;let{full_canonical_url:P}=null!=i?i:{},b=P||`${e}${t}`,w=n.title||"",k=n.seo_title||"",S=n.description||"",V=u(r.width||0)||"",x=u(r.height||0)||"",T=(null===(m=n.aggregated_pin_data)||void 0===m?void 0:m.commentCount)||0;if(n.native_creator&&n.native_creator.username&&n.native_creator.profile_url){let{follower_count:e,full_name:t,profile_url:i,username:l}=n.native_creator;f={"@type":"Person",name:l,url:i,alternateName:t||"",interactionStatistic:[v("FollowAction",e)]}}let{fallbackTitle:A,fallbackDescription:j}=(0,l.fP)("video",w,d),{title:O,description:E}=(0,l.dn)(i,w,S,A,j,k),I=s(r.duration||o),D=r.url||"",$=p(n.created_at);c&&(h={"@type":"SeekToAction",target:`${b}?t={seek_to_second_number}`,"startOffset-input":"required name=seek_to_second_number"});let H=[];if(_&&H.push(v("WatchAction",_)),n.reaction_counts_data&&H.push(v("LikeAction",Number(n.reaction_counts_data))),n.share_count&&H.push(v("ShareAction",n.share_count)),null!==(g=n.pin_join)&&void 0!==g&&g.visual_annotation){let e=n.pin_join.visual_annotation;y=e.join(", ")}return{"@type":"VideoObject","@context":"http://schema.org/","@id":b,name:O,description:E,caption:a||E,commentCount:T,thumbnailUrl:r.thumbnail||"",uploadDate:$,duration:I||void 0,width:V||void 0,height:x||void 0,contentUrl:D,potentialAction:h,interactionStatistic:H,creator:f,keywords:y}}let g=({origin:e,pathname:t},i,o,d,s,u)=>{let v;let g=_(o);if(d){let n=c(o);if(n){let l=r(n.duration||0),d=a(l);v=m({origin:e,pathname:t},i,o,n,"",u,d,g)}else v=function({origin:e,pathname:t},i,n,o){var r,a,d;let{full_canonical_url:s}=null!=i?i:{},u=s||`${e}${t}`,c=n.title||"",_=n.description||"",v=n.seo_title||"",{fallbackTitle:m,fallbackDescription:g}=(0,l.fP)("video",c,o),f=p(n.created_at),h=null===(r=n.embed)||void 0===r?void 0:r.src,y=(null===(a=n.images)||void 0===a?void 0:null===(d=a.orig)||void 0===d?void 0:d.url)||"",{title:P,description:b}=(0,l.dn)(i,c,_,m,g,v);return P&&b&&h&&y?{"@type":"VideoObject","@context":"http://schema.org/","@id":u,name:P,description:b,thumbnailUrl:y,uploadDate:f,embedUrl:h}:null}({origin:e,pathname:t},i,o,u)}else{let l=(0,n.ky)(s),d=!1;if(o.story_pin_data&&o.story_pin_data.total_video_duration){let e=o.story_pin_data.total_video_duration,t=r(e||0);d=a(t)}l&&(v=m({origin:e,pathname:t},i,o,l,"",u,d,g))}return{videoJsonData:v}},f=({origin:e,pathname:t},i,n,d,u,c,_,v,m)=>{let g;let f=r(n.duration||0),h=a(f),{full_canonical_url:y}=null!=i?i:{},P=y||`${e}${t}`,{fallbackTitle:b,fallbackDescription:w}=(0,l.fP)("video",c,d),{title:k,description:S}=(0,l.dn)(i,c,v,b,w,_),V=s(n.duration||o),x=n.url||"",T=p(m);h&&(g={"@type":"SeekToAction",target:`${P}?t={seek_to_second_number}`,"startOffset-input":"required name=seek_to_second_number"});let A={"@type":"VideoObject","@context":"http://schema.org/","@id":P,name:k,description:S,caption:S,thumbnailUrl:n.thumbnail||"",uploadDate:T,duration:V||void 0,contentUrl:x,potentialAction:g};return{videoJsonData:A}}},355091:(e,t,i)=>{i.d(t,{QO:()=>d,V3:()=>o,cO:()=>c,dn:()=>u,fP:()=>p,v_:()=>a});var l=i(711777),n=i(98736);let o=e=>{let{thumbnail:t,url:i,width:l,height:n,duration:o}=e||{};return t&&i&&l&&n&&{thumbnail:t,url:i,width:l,height:n,duration:o}||void 0},r=({isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:l})=>{(0,n.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:l})};function a(e,t){if(t&&t.products&&t.products[0]){let i=t.products[0],l=!!(i.name||e),n=!!(t.aggregate_rating&&(0!==t.aggregate_rating.rating_count||0!==t.aggregate_rating.review_count)&&!Number.isNaN(parseFloat(t.aggregate_rating.rating_value))),o=!!(i.offer_summary&&(i.offer_summary.min_price||i.offer_summary.price)),a=l&&(n||o);return r({isEligible:a,hasName:l,hasAggregateRating:n,hasOffers:o}),a}return!1}let d=(e,{userName:t,fullName:i})=>{let l=t||"";return{"@type":"Person",name:i||l,url:e+"/"+l}},s=e=>(0,l.o)(e||"").trim();function u(e,t,i,l,n,o){i=i.trim(),t=t.trim();let r=t||o||i||l;if(!e||!e.metatags)return{title:r,description:i||t||n};let{description:a=""}=e.metatags,d=s(a),u=d||t||n;return{title:r,description:u}}let p=(e,t,i)=>{let l=t;return i?{fallbackTitle:l="recipe"===e?i._('Pinterest Recipe', 'pin.closeup.leafsnippet.recipe', 'Default recipe title and description for crawlers'):"howto"===e?i._('Pinterest How To', 'pin.closeup.leafsnippet.howto', 'Default how to title and description for crawlers'):"video"===e?i._('Pinterest Video', 'pin.closeup.leafsnippet.video', 'Default video title and description for crawlers'):"product"===e?i._('Pinterest Product', 'pin.closeup.leafsnippet.product', 'Default product title and description for crawlers'):i._('Pin page', 'pin.closeup.leafsnippet.pin', 'Default pin title and description for crawlers'),fallbackDescription:l}:{fallbackTitle:l,fallbackDescription:l}},c=e=>{if(!e)return;let t=e.rating_count,i=e.review_count;if(!(!(t||i)||Number.isNaN(parseFloat(e.rating_value))))return{"@type":"AggregateRating",ratingValue:e.rating_value,ratingCount:t||i,bestRating:5,worstRating:1}}},711777:(e,t,i)=>{function l(e,t){let i=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(e,t)=>i.indexOf("<"+t.toLowerCase()+">")>-1?e:"")}i.d(t,{Z:()=>n,o:()=>l});let n=e=>e.replace(/(<([^>]+)>)/gi,"")},806685:(e,t,i)=>{i.d(t,{E5:()=>s,T7:()=>o,Y_:()=>u,bl:()=>a,d9:()=>c,nx:()=>p,xt:()=>d}),i(883119);var l=i(282802),n=i(802071);function o(e,t,i,l){let n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return`/today/${t?"shop":0===e||2===e?"trending":1===e?"best":"article"}/${encodeURIComponent(n)}/${l}/`}let r={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function a(){var e;let t=(0,l.B)(),i=(0,n.Z)(),o=i.isAuth?i.country:t.country;if(void 0===t||void 0===t.locale)return!1;let a=t.locale.substring(0,2);return null===(e=r[a])||void 0===e?void 0:e.includes(o)}let d=(e,t,i)=>e||t||i||"",s=(e,t,i)=>e||t||i,u=e=>"todayarticle"===e.type,p=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"story"===e.type),c=e=>{var t,i;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(i=e.width)&&void 0!==i?i:1)}},3060:(e,t,i)=>{i.d(t,{Ag:()=>o,C0:()=>d,L1:()=>c,Vi:()=>r,YD:()=>p,kS:()=>n,oo:()=>a,p3:()=>_,vC:()=>s,vI:()=>u});var l=i(957286);let n="https://www.pinterest.com/business/hub/",o="https://www.pinterest.com/homefeed/",r="www.pinterest.com",a="https://help.pinterest.com",d=`${(0,l.Z)({site:"www"})}`,s=(0,l.Z)({site:"developers"}),u=`${(0,l.Z)({site:"sterling"})}`,p=`${(0,l.Z)({site:"analytics"})}`,c=`${(0,l.Z)({site:"trends"})}`,_=`${(0,l.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/packages-rich-snippet-LeafSnippet-b93c5469de6d07e5.mjs.map